"use strict";var languages=[],nonPassiveEvent=!1,passiveEvent=!1;try{var options=Object.defineProperty({},"passive",{get:function(){nonPassiveEvent={passive:!1},passiveEvent={passive:!0}}});window.addEventListener("test",null,options)}catch(t){}document.addEventListener("contextmenu",function(t){"input"!=t.target.tagName.toLowerCase()&&t.preventDefault()}),document.ondragstart=function(){return!1},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Array.prototype.find=Array.prototype.find||function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],i=0;i<n;){var r=e[i];if(t.call(s,r,i,e))return r;i++}},String.prototype.includes=String.prototype.includes||function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return-1!==this.indexOf(t,e=void 0===e?0:e)},String.prototype.count=String.prototype.count||function(t){for(var e=0,n=0;n<this.length;n++)this[n]==t&&e++;return e},Object.fromEntries||(Object.fromEntries=function(t){if(!t||!t[Symbol.iterator])throw new Error("Object.fromEntries() requires a single iterable argument");var e,n,s={};for([e,n]of t)s[e]=n;return s}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,s=new Array(n);n--;)s[n]=[e[n],t[e[n]]];return s}),angular.module("speedifyUI.components",["ngSanitize","ngMaterial","angular-bind-html-compile","pascalprecht.translate","angular-progress-arc","ja.qr"]),angular.module("speedifyUI.components").config(["$animateProvider",function(t){t.classNameFilter(/\banimated\b/)}]),angular.module("speedifyUI.platform",[]),angular.module("speedifyUI.services",[]);var speedifyUIMod=angular.module("speedifyUI",["speedifyAPI","speedifyUI.components","speedifyUI.services","speedifyUI.platform"]);function onScope(t,e){var n=document.getElementById(t);(n=n&&angular.element(n).scope())?e(n):setTimeout(function(){onScope(t,e)},500)}function onHide(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.onHide()}function onShow(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.onShow()}function backButton(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.backButton()}function setLanguage(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setLanguage(t)}function getTranslation(t){var e=angular.element(document.getElementById("onePane")).scope();return e?e.getTranslation(t):t}function reportNag(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.report_nag(t,!0)}function showCrashAlert(t,e){var n=angular.element(document.getElementById("onePane")).scope();n&&n.showCrashAlert(t,e)}function captivePortalClosed(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.shutdownCaptiveUi()}function handleStreamingBypassHit(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.handleStreamingBypassHit(t)}function debug_log(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.debug&&e.debug.log(t)}function debug_error(t,e){var n=angular.element(document.getElementById("onePane")).scope();n&&n.debug&&n.debug.error(t,e)}function debug_getLog(){var t=angular.element(document.getElementById("onePane")).scope();if(t&&t.debug)return t.debug.getLog()}function externalLinks_run(t,e){var n=angular.element(document.getElementById("onePane")).scope().externalLinks;t in n&&n[t](e)}function matomoTagManagerInit(){try{var t,e=localStorage.getItem("matomoSource"),n=localStorage.getItem("matomoSiteId");e&&n?((t=window._paq=window._paq||[]).push(["enableLinkTracking"]),s=e,t.push(["setTrackerUrl",s+"matomo.php"]),t.push(["setSiteId",n]),t.push(["disableCookies"]),i=document,r=i.createElement("script"),i=i.getElementsByTagName("script")[0],r.async=!0,r.src=s+"matomo.js",i.parentNode.insertBefore(r,i),s=angular.element(document.getElementById("onePane")).scope(),(r=s?s.matomo:null)&&r.setCid()):console.log("No matomo url or site id , not initializing")}catch(t){console.error("failed to init matomoLocalURL",t)}var s,i,r}function handleMessage(t){try{"purchase"===t.msg&&(t.data.success&&completeEmbeddedPurchase(t.data),purchaseComplete(t.data))}catch(t){debug_error(t)}}function receiveMessage(t){var e,n;t.origin&&(n=t.origin.startsWith("https://www.speedify.com")||t.origin.startsWith("https://speedify.com"),e=t.origin.startsWith("https://")&&t.origin.endsWith("cloudfront.net"),n||e)&&(n=t.data,t.source,handleMessage(n))}function defaultProducts(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.productListing?t&&e.productListing.defaultProducts(t):setTimeout(function(){defaultProducts(t)},1e3)}function populateProducts(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.productListing?e.productListing.populateProducts(t):setTimeout(function(){populateProducts(t)},1e3)}function ShowConfirmPopup(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.debug&&e.prompts.ShowConfirmPopup(t)}function ShowAlertPopup(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.debug&&e.prompts.ShowAlertPopup(t)}function ShowBubbleAction(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.debug&&e.prompts.ShowBubbleAction(t)}function ShowInfoPopup(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.debug&&e.prompts.ShowInfoPopup(t)}function sentry_report(t){var e=angular.element(document.getElementById("onePane")).scope(),e=e?e.sentry:null;e?e.report(t):Sentry.captureException(t)}function sentry_breadcrumb(t){var e=angular.element(document.getElementById("onePane")).scope(),e=e?e.sentry:null;e?e.breadcrumb(t):Sentry.addBreadcrumb(t)}speedifyUIMod.config(["$compileProvider",function(t){t.imgSrcSanitizationWhitelist(/^\s*((https?|ftp|file|blob|chrome-extension):|data:image\/)/),t.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|file:chrome-extension):/)}]),speedifyUIMod.config(["$translateProvider",function(t){languages=["en","ar","de","es","fr","pt","ro","ru","tr","zh-CN","ja","it","ko","pl","uk","sv","nb"],t.useSanitizeValueStrategy(null),t.useMessageFormatInterpolation(),t.fallbackLanguage("en"),t.useStaticFilesLoader({prefix:"translations/",suffix:".json?cacheBuster="+(new Date).getTime()}),t.preferredLanguage("en")}]),speedifyUIMod.filter("toArray",function(){return function(t){var n=[];return angular.forEach(t,function(t,e){t.key=e,n.push(t)}),n}}).controller("speedifyUI",["$scope","speedifyAPI","SPEEDIFY_STATES","globals","accounting","bypass","updater","platform","$document","networkAdapterFunctions","NETWORK_PRIORITIES","externalLinks","settingsRepository","windowEvents","debug","$timeout","loggen","prompts","productListing","ERROR_CODES","sentry","spTranslate","$rootScope","tunnelRepository","TVFocusManager","serverFunctions","$mdSidenav","$mdComponentRegistry","branding","testSpeed","STAT_PERIODS","urlArgs","matomo","weeklyReportFunctions","disconnectNotificationFunctions","LearnMore","NETWORK_ADAPTER_TYPES","audioPlayer",function(o,n,a,c,l,e,t,d,s,i,r,u,p,g,m,h,v,S,T,f,E,w,N,y,x,P,M,U,I,A,_,k,b,C,D,R,O,L){o.accounting=l,o.spTranslate=w,N.$on("allLanguagesLoaded",function(t,e){o.allLanguagesLoaded=!0,d.allLanguagesLoaded()}),N.$on("loadingLanguages",function(t,e){o.allLanguagesLoaded=!1}),o.COMM_ERROR_LIMIT=3,o.comm_errors=0,o.running=!0,o.successfulComms=!1,o.completedDataLoad=!1,o.requestedPrimaryData=!1,o.requestedSecondaryData=!1,o.requestedAllData=!1,o.connectedServer=void 0,o.sentry=E,o.matomo=b,o.externalLinks=u,o.globals=c,o.platform=d,o.dynamicMainStyle=null,o.speedifyAPI=n,o.debug=m,o.settingsRepository=p,o.currentNag=null,o.SPEEDIFY_STATES=a,o.ERROR_CODES=f,o.initialDataLoadPromise=null,o.prompts=S,o.productListing=T,o.shownSecuredBubbleThisSession=!1,o.lastLoginErrorType=f.OK_NOERROR,o.showedCaptivePortalThisCheck=!1,o.resetDataLoad=function(){o.requestedPrimaryData=!1,o.requestedSecondaryData=!1,o.requestedAllData=!1,o.completedDataLoad=!1,o.completedDataLoadItems?(o.completedDataLoadItems.networks=!1,o.completedDataLoadItems.connected_server=!1,o.completedDataLoadItems.accounting=!1):o.completedDataLoadItems={networks:!1,connected_server:!1,accounting:!1}},o.checkDataLoad=function(){o.completedDataLoadItems.networks&&o.completedDataLoadItems.connected_server&&o.completedDataLoadItems.accounting?(o.completedDataLoad=!0,o.initialDataLoad()):o.completedDataLoad=!1},n.register("open",function(){c.safeApply(o.$root,function(){o.initialDataLoad(!0),o.comm_errors=0,o.running=!0})}),n.register("close",function(){c.safeApply(o.$root,function(){m.log("got socket close, defaulting state"),o.currentState=void 0,o.resetDataLoad(),y.clearHistoricDataTimer(),d.features.closeSocketOnHide&&!c.isVisible||(o.comm_errors=o.comm_errors+1,o.comm_errors>=o.COMM_ERROR_LIMIT&&!o.showRestartService&&(o.running=!1,o.successfulComms=!1,o.scheduleNoCommsEvent()))})}),o.noCommsEvent=null,o.scheduleNoCommsEvent=function(){o.noCommsEvent||(o.noCommsEvent=h(function(){o.noCommsEvent=null,o.showRestartService=!o.successfulComms,o.successfulComms||E.report(new Error("stuck loading"))},5e3))},o.cancelNoCommsEvent=function(){o.showRestartService=!1,o.noCommsEvent&&(h.cancel(o.noCommsEvent),o.noCommsEvent=null)},o.cancelInitialDataLoad=function(){try{o.initialDataLoadPromise&&(h.cancel(o.initialDataLoadPromise),o.initialDataLoadPromise=null)}catch(t){m.error("failed to clear old initialDataLoadPromise")}},o.recallInitialDataLoadAfter=function(t){o.cancelInitialDataLoad(),o.initialDataLoadPromise=h(function(){o.initialDataLoadPromise=null;try{o.requestedPrimaryData=!1,o.requestedSecondaryData=!1,o.initialDataLoad()}catch(t){m.error("failed to schedule initialDataLoad")}}.bind(this),t)},o.initialDataLoad=function(t){try{if(t&&(o.resetDataLoad(),o.cancelInitialDataLoad()),t||!o.successfulComms||void 0===o.currentState){if(!o.requestedPrimaryData){try{m.log("initialDataLoad requesting state"),n.request_current_state(),o.requestedPrimaryData=!0}catch(t){m.error("failed to request current state")}o.recallInitialDataLoadAfter(1e3)}}else if(o.completedDataLoad)if(o.sentInitialDashboardAnalytics||o.isOnDashboard()&&(o.sentInitialDashboardAnalytics=!0),o.requestedAllData)o.cancelInitialDataLoad();else{o.$emit("websocketReconnect"),m.log("initialDataLoad complete, now request everything else");try{n.runStatsUpdate(!0),n.set_app_name(w.instant("SPEEDIFY")),n.request_login_params(),n.request_streaming_stats(),n.request_server_settings(),n.request_vendor_remote_settings(),n.request_vendor_local_settings(),n.request_default_speedify_settings(),n.request_connection_settings(),n.request_privacy_settings(),n.request_dev_settings(),n.request_system_error(),n.request_user_location(),n.check_captive_networks(),n.request_localproxy_settings(),n.request_directory(),n.request_speed_test_results(),n.request_networksharing_sharesavailable(),n.request_networksharing_settings(),d.features.networkShareEnabled&&n.start_networksharing_discovery(),!1===c.deviceIsManaged&&n.allow_auto_account(!0),o.requestedAllData=!0}catch(t){m.error("failed to request daemon data"),o.recallInitialDataLoadAfter(5e3)}}else if(!o.requestedSecondaryData){try{o.completedDataLoadItems.networks||(m.log("initialDataLoad requesting networks"),n.request_networks()),o.completedDataLoadItems.connected_server||(m.log("initialDataLoad requesting current server"),n.request_connected_server()),o.completedDataLoadItems.accounting||(m.log("initialDataLoad requesting accounting"),n.request_accounting_data()),o.requestedSecondaryData=!0}catch(t){m.error("failed to request secondary data")}o.recallInitialDataLoadAfter(1e3)}}catch(t){m.error("outer exception in initialDataLoad")}},n.register("notify_killswitch",function(t){m.log("got killswitch notification"),S.ShowConfirmPopup({msg:w.instant("KILLSWITCH.MSG"),yesText:w.instant("KILLSWITCH.CONNECT"),maybeText:w.instant("KILLSWITCH.DISABLE"),noText:w.instant("KILLSWITCH.OFFLINE"),groupId:"killswitch",skipPlatform:!0,isUrgent:!1,yesCb:function(){n.server_auto_connect("auto")},maybeCb:function(){n.set_privacy_killswitch(!1)},noCb:function(){}})}),o.reportConnectToGA=function(){var t=o.connectedServer?P.getExactName(o.connectedServer):"unknown",e=p.server_settings&&p.server_settings.connect_to_best_method?p.server_settings.connect_to_best_method:"unknown";"unknown"!=t&&"unknown"!=e||h(function(){o.reportConnectToGA()},1e3)},n.register("report_current_state",function(e){c.safeApply(o.$root,function(){o.successfulComms=!0,o.showRestartService=!1,o.cancelNoCommsEvent(),o.currentState=parseInt(e.state);var t=c.currentState!=o.currentState;c.currentState=o.currentState,c.sessionUUID=e.sessionUUID,t&&o.currentState==a.DISCONNECTING&&h(function(){L.playSound("audio/disconnect.mp3",1,!0)}.bind(this),200),A.setStatus(o.currentState,e.testingSpeed),o.pendingAttempt=e.pendingAttempt;try{switch(t&&m.log("New current state: "+o.currentState),N.$emit("stateUpdated"),parseInt(o.currentState)){case a.LOGGED_OUT:o.connectedServer=void 0;break;case a.LOGGED_IN:l.deviceLimitReached=!1;break;case a.DISCONNECTING:p.vendor_local_settings.disconnect_alerts&&(m.log("Scheduling disconnect notifications"),D.scheduleDisconnectNotifications());break;case a.CONNECTED:c.userInitiatedConnect&&L.playSound("audio/connect.mp3",1,!0),D.cancelDisconnectNotifications(),c.userInitiatedConnect=!1,t&&o.reportConnectToGA(),o.checkExtendedIntro();break;case a.LOGGING_IN:case a.AUTO_CONNECTING:case a.CONNECTING:}}catch(t){m.error("failed setting new state",t)}try{o.currentState>=a.LOGGED_IN&&ClearAlertsFor("loginError"),o.currentState>=a.CONNECTED&&(ClearAlertsFor("connectError"),ClearAlertsFor("killswitch"))}catch(t){m.error("failed clearing old alerts",t)}try{o.initialDataLoad()}catch(t){m.error("failed calling initialDataLoad",t)}o.evaluateCaptivePortalNotification()})}),n.register("report_networks",function(r){c.safeApply(o.$root,function(){o.completedDataLoadItems.networks=!0,o.checkDataLoad(),c.networks=r,y.updateTunnelNames();for(var t=o.configuringNetworkGuid,e=!1,n=c.networks.length,s={};n--;){var i=!1;if(c.networks[n].ignored&&(i=!0),d.identity.mobile){if(c.networks[n].offline)switch(c.networks[n].type){case O.WiFi:case O.Cellular:case O.NetworkShareClient:case O.NetworkShareHost:i=!1;break;case O.Ethernet:i=!c.isTV;break;case O.VPN:case O.Loopback:case O.Unknown:case O.Bluetooth:default:i=!0}}else c.networks[n].offline&&(i=!0);i?c.networks.splice(n,1):(c.networks[n].guid==t&&(e=!0),s[c.networks[n].guid]=!0)}!e&&t&&o.handleAdapterClose(),o.evaluateCaptivePortalNotification(),N.$emit("report_guids_in_use",s)})}),n.register("report_connected_server",function(t){m.log("Connected Server update: "+JSON.stringify(t)),c.safeApply(o.$root,function(){o.completedDataLoadItems.connected_server=!0,o.checkDataLoad(),o.connectedServer=t})}),n.register("report_streaming_stats",function(t){c.safeApply(o.$root,function(){o.streamingStats=t,o.evaluateStreamsForPopup(t)})}),n.register("report_torrent_use",function(t){m.log("Torrent use: "+JSON.stringify(t));var e=!0===t.forceDisconnect;ShowConfirmPopup({msg:w.instant("TORRENTALERT.MSG"),isUrgent:!1,yesText:w.instant("TORRENTALERT.YES"),noText:w.instant(e?"TORRENTALERT.NO":"TORRENTALERT.STAYCONNECTED"),yesCb:function(){m.log("doing torrent reconnect"),p.server_settings.connect_to_best_method="p2p",n.set_server_connectbest(p.server_settings.connect_to_best_method),n.server_auto_connect("p2p")}.bind(this),noCb:function(){e&&(n.server_disconnect(),ShowAlertPopup({msg:w.instant("TORRENTDISCONNECT.MSG"),title:w.instant("TORRENTDISCONNECT.TITLE"),groupId:"torrent2",timeout:-1}))},title:w.instant("TORRENTALERT.TITLE"),groupId:"torrent1"})}),n.register("report_accounting_data",function(t){c.safeApply(o.$root,function(){o.completedDataLoadItems.accounting=!0,o.checkDataLoad(),l.setData(t),o.checkForcedLogin(),b.setUserId(l.userId),b.setPaid(l.isPaying)})}),n.register("report_accounting_data",function(t){c.safeApply(o.$root,function(){o.checkForcedLogin()})}),k.call(function(){o.checkForcedLogin()}.bind(this)),o.checkForcedLogin=function(){p.vendor_local_settings&&p.vendor_local_settings.completed_intro&&!l.hasData()&&("lin"===d.platformClass||k.isVM)&&o.doShowRegisterLogin()},n.register("report_speedtest_results",function(t){c.safeApply(o.$root,function(){A.setData(t)})}),n.register("report_directory",function(t){c.safeApply(o.$root,function(){o.directory=t})}),o.handleLoginConnectError=function(s,i,r){c.safeApply(o.$root,function(){var t=r?"loginError":"connectError",e=i,n=Object.keys(f).find(function(t){return f[t]===i});b.trackEvent("dashboard",t,e=n?n:e),i==f.NETWORK&&(o.networkError=!0),o.lastLoginErrorType=i,o.lastLoginErrorMessage=s,c.userInitiatedConnect?(c.userInitiatedConnect=!1,s?o.currentNag||o.showUpgrade?m.log("not showing error because deferring to nag/upgrade"):(i!=f.CREDENTIAL||l.deviceLimitReached||(m.log("not showing error because deferring to login"),o.$broadcast("showRegisterLogin",{msg:s})),i==f.DEVICE_LIMIT?(l.deviceLimitReached=!0,ShowConfirmPopup({msg:w.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.TOPMSG")+"\n\n"+w.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.BTMMSG"),isUrgent:!1,yesCb:function(){c.safeApply(o.$root,function(){R("device-limit",b.Screen.Dashboard)})}.bind(this),yesText:w.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.LEARNMORE"),noText:w.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.OK"),title:w.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.TITLE"),groupId:"register"})):(m.log("showing error"),ShowAlertPopup({msg:s,timeout:o.currentState<a.LOGGED_IN||i==f.NETWORK?5e3:-1,groupId:t,yesCb:function(){i==f.SERVER&&o.$emit("showServers")}.bind(this)}))):m.log("not showing error because no message")):m.log("not showing error because not initiated by user")})},n.register("report_login_error",function(t){m.log("Login Error : "+JSON.stringify(t)),o.handleLoginConnectError(w.replaceSdkName(t.msg),t.type,!0)}),n.register("report_connect_error",function(t){m.log("Connect Error : "+JSON.stringify(t)),o.$emit("connectError",{error:t}),o.handleLoginConnectError(w.replaceSdkName(t.msg),t.type,!1)}),o.showCrashAlert=function(t,e){m.error(t,e),l.isDev&&ShowAlertPopup({msg:t,timeout:-1,groupId:"crash"})},o.report_nag=function(t,e){c.safeApply(o.$root,function(){o.currentNag!=t&&(l.isTeam&&!0!==e?(o.currentNag=null,m.log("ignoring nag because is team account")):o.showUpgrade&&!0!==e?o.currentNag=null:c.lastNagType==t&&!0!==e||(t?o.isOnDashboard()?(m.log("got nag for "+t),o.currentNag=t,e&&d.showUi()):h(function(){o.report_nag(t,e)}.bind(this),1e3):o.currentNag=t))})},n.register("report_nag",function(t){o.report_nag(t.type)}),n.register("report_user_location",function(t){c.safeApply(o.$root,function(){o.userLocation=t})}),n.register("report_session_stats",function(e){c.safeApply(o.$root,function(){var t;o.sessionStats=e,o.sessionStats&&o.sessionStats[_.CURRENT]&&o.sessionStats[_.CURRENT].session_start_time&&(o.sessionStartTime!==o.sessionStats[_.CURRENT].session_start_time&&(o.sessionStartTime=o.sessionStats[_.CURRENT].session_start_time),t=Date.now()/1e3,o.connectedTimeFormatted=fancyTimeFormat(t-o.sessionStartTime)),C.recordWeeklyReportStats(e),o.$emit("updateStatsPane")})}),o.unhandledClick=function(){!0===o.swiping?o.swiping=!1:o.$broadcast("unhandledClick")},document.addEventListener("keydown",function(t){8===(t=t||window.event).which&&"INPUT"!==t.target.nodeName&&"SELECT"!==t.target.nodeName&&t.preventDefault()},nonPassiveEvent),document.onkeydown=function(t){return!(t.ctrlKey&&(85===t.keyCode||117===t.keyCode))},o.onHide=function(){c.safeApply(o.$root,function(){o.$broadcast("closesettings",{onHide:!0}),L.isMuted=!0,m.log("onHide"),d.features.stopStatsOnHide&&n.runStatsUpdate(!1),d.features.networkShareEnabled&&n.stop_networksharing_discovery(),d.features.closeSocketOnHide&&(n.pause(),o.successfulComms=!1,o.cancelNoCommsEvent()),"ios"===d.platformClass&&(A.currentTestType=0),o.$emit("onHide"),c.setIsVisible(!1)})},o.onShow=function(){c.safeApply(o.$root,function(){m.log("onShow"),L.isMuted=!1,o.setCurrentTrackingPage(),o.showSalePopupMessage(),o.showPrimaryWarningMessage(),d.features.closeSocketOnHide?(n.resume(),o.comm_errors=0):d.features.stopStatsOnHide&&(n.runStatsUpdate(!0),o.$emit("websocketReconnect")),o.paneId="","STR"===p.connection_settings.algorithm?o.paneId="streamingPane":o.paneId="overviewPane",o.$emit("setPaneView",{id:o.paneId}),c.setIsVisible(!0),h(function(){window.dispatchEvent(new Event("resize"))},5e3),c.sentToStore||"usage100"!=c.lastNagType&&"expired"!=c.lastNagType||o.report_nag(c.lastNagType,!0),c.sentToStore=!1,d.features.networkShareEnabled&&n.start_networksharing_discovery()})},o.setCurrentTrackingPage=function(){p.vendor_local_settings&&p.hasSetVendorLocalSettings?p.vendor_local_settings.completed_intro?(m.log("Intro completed"),b.trackPageView("dashboard","Dashboard")):(m.log("Intro offer"),b.trackPageView("intro/offer","Intro - Offer")):h(o.setCurrentTrackingPage.bind(this),5e3)},o.setLanguage=function(t){p.vendor_local_settings.language=t,n.set_vendor_local_settings(p.vendor_local_settings)},o.getTranslation=function(t){return w.instant(t)},n.register("report_captive_networks",function(t){m.log("report_captive_networks: "+JSON.stringify(t)),c.safeApply(o.$root,function(){c.cpNetworks=t.networks,o.showedCaptivePortalThisCheck=!1,o.evaluateCaptivePortalNotification()})}),o.evaluateCaptivePortalNotification=function(){p.vendor_local_settings&&!1===p.vendor_local_settings.captiveportal_alerts||(c.cpNetworks&&1<=c.cpNetworks.length&&(o.currentState>=a.CONNECTED||1==o.countOnlineNetworks())?o.showedCaptivePortalThisCheck||(o.showedCaptivePortalThisCheck=!0,o.captivePortalPopup)||o.captivePortalUIIsActive||(o.captivePortalUIIsActive=!0,o.captiveNetwork=c.cpNetworks[0],o.showCaptivePortalPopup()):(o.captivePortalPopup=!1,o.captivePortalUIIsActive=!1,ClearAlertsFor("captiveportal")))},o.countOnlineNetworks=function(){if(!c.networks)return 0;for(var t=c.networks.length,e=0;t--;)c.networks[t].offline||e++;return e},n.register("report_cplogin_network",function(s){c.safeApply(o.$root,function(){var t=s.network;if(s.enabled&&t){var e,t=!0===p.dev_settings.use_dev_server?I.url_settings.captiveportal_staging_login_url:I.url_settings.captiveportal_login_url,n=(t+="?cacheBust="+(new Date).getTime(),"captivePortalClosed()");try{o.captivePortalUIIsActive=!0,d.captivePortalPopup(t,n)||(e=b.appendTracking(t,b.Screen.Popup,"captiveportal"),d.windowOpenInternal(e,!0,{width:640,height:480,top:50,left:30,onClose:n}))}catch(t){m.error("failed to open captive ui",t),o.shutdownCaptiveUi()}}else o.captivePortalUIIsActive=!1}.bind(this))}),o.shutdownCaptiveUi=function(){c.safeApply(o.$root,function(){o.captivePortalPopup=!1,o.captivePortalUIIsActive=!1,n.set_cplogin_enable(!1),n.check_captive_networks()})},n.register("report_localproxy_domainwatchlist_hit",function(t){o.handleStreamingBypassHit(t.title)}),o.handleStreamingBypassHit=function(t){e.updateSuggestList(t)},o.init=function(){d.getPlatformFlags(),o.resetDataLoad(),t.StartUpdateCheck(!1),$.ajaxSetup({timeout:3e4}),c.loadFonts()},o.init()}]),speedifyUIMod.directive("spinner",function(){return{restrict:"E",scope:{color:"=",size:"="},template:"<div class=\"spinner-outer\" ng-style=\"{'border-top-color': color, 'border-width': size}\"></div>",controller:"SpinnerCtrl"}}).controller("SpinnerCtrl",["$scope",function(t){}]),speedifyUIMod.directive("helpIcon",function(){return{restrict:"E",scope:{onClick:"&",section:"="},template:'<div class="help-icon normalText whiteText shadow hoverable" ng-click="helpClick()"><img img-retry src="img/help.png"></img></div>',controller:"HelpIconCtrl"}}).controller("HelpIconCtrl",["$scope","LearnMore",function(t,e){t.helpClick=function(){t.onClick()}}]),speedifyUIMod.directive("background",function(){return{restrict:"E",scope:{},template:'<div class="fulltimeBackground"></div>',controller:"BackgroundCtrl"}}).controller("BackgroundCtrl",function(){}),speedifyUIMod.directive("imgRetry",["debug","accounting","platform","prompts",function(s,t,e,n){return{restrict:"A",link:function(t,e,n){$(e).on("error",function(){s.log("failed to load "+e.attr("src")),setTimeout(function(){try{e.attr("src",e.attr("src"))}catch(t){}},5e3)})}}}]),speedifyUIMod.directive("iosFocusBugFix",["debug","globals","$timeout",function(t,s,i){return{restrict:"A",link:function(t,e,n){e.on("click",function(){function t(){document.activeElement===e[0]?i(t.bind(this),100):window.scrollBy(0,0)}s.hasIosDropdownBug&&t()})}}}]),angular.module("speedifyUI.services").service("accounting",["SPEEDIFY_STATES","debug","branding","spTranslate","DataScaling","$rootScope",function(e,t,n,s,i,r){this.data=null,this.email=null,this.periodEnd=null,this.nextPeriodDate=null,this.expirationDate=null,this.usedPercent=0,this.isUnlimited=!1,this.startDate=0,this.usageText=null,this.isFamilyUpgradable=!1,this.isYearlyUpgradable=!1,this.isFamily=!1,this.subscriptionEndDate=null,this.subscriptionRenews=!1,this.referenceId="",this.isTrial=!1,this.isPaying=!1,this.payTier=0,this.subscriptionUrl=null,this.subscriptionSource=null,this.bytesAvail=2e9,this.bytesUsed=0,this.hashId="",this.userNotifications=[],this.userId=null,this.isDev=!1,this.isAutoAccount=!1,this.facebookLiked=!1,this.allotmentId=0,this.allotmentType=0,this.isTrialEligible=!0,this.deviceLimitReached=!1,this.USAGE_LIMIT_HIT_THRESHOLD=.95,this.defaultPremiumFeatures={encrypted:{locked:!0,value:!0},dnsAddresses:{locked:!0,value:[]},killswitch:{locked:!0,value:!1},rateLimit:{locked:!0,value:0},connectMethod:{locked:!0,value:"closest"}},this.premiumFeatures={},this.PayTierEnum=Object.freeze({Free:0,Monthly:1,Beta:2,Yearly:3}),this.getAccountTypeText=function(){return this.hasData()?this.isUnlimited?this.isTeam?s.instant("ACCINFO.TYPE.TEAMS"):s.instant("ACCINFO.TYPE.UNLIMITED"):this.isPaying?s.instant("ACCINFO.TYPE.LIMITED"):s.instant("ACCINFO.TYPE.FREE"):s.instant("ACCINFO.TYPE.NOACCOUNT")},this.isUpgradeable=function(){var t=!1;if(this.hasData()&&this.isUnlimited&&this.subscriptionRenews&&this.isRecurring&&this.productName){if("GP"===this.subscriptionSource)return t;var e=this.productName.toLowerCase();if(this.isFamily=e.includes("famil"),e.includes("monthly"))t=!0;else if(e.includes("yearly"))switch(this.subscriptionSource){case"AS":this.isFamily||(t=!0);break;case"FS":case"FSC":case"REC":this.isTeam||(t=!0)}}return t},this.getLoginText=function(t){return t<e.LOGGED_IN||!this.hasData()?s.instant("ACCOUNTPANE.LOGIN"):this.isAutoAccount?this.isPaying?s.instant("ACCOUNTPANE.CREATE"):s.instant("ACCOUNTPANE.LOGIN"):(this.isPaying,s.instant("ACCOUNTPANE.LOGOUT"))},this.getTierFriendlyName=function(){if(this.productName)return(this.productName.includes("3year")||this.productName.includes("threeyear"))&&this.productName.includes("Nonrenew")?s.instant("SETTINGSPANE.ACCOUNT.THREEYEARPASS"):this.productName.includes("3year")||this.productName.includes("threeyear")?s.instant("SETTINGSPANE.ACCOUNT.THREEYEARSUB"):(this.productName.includes("1year")||this.productName.includes("oneyear"))&&this.productName.includes("Nonrenew")?s.instant("SETTINGSPANE.ACCOUNT.ONEYEARPASS"):this.productName.includes("2year")||this.productName.includes("twoyear")?s.instant("SETTINGSPANE.ACCOUNT.TWOYEARTIER"):this.productName.includes("monthly")?s.instant("SETTINGSPANE.ACCOUNT.MONTHLYTIER"):this.productName.includes("yearly")?s.instant("SETTINGSPANE.ACCOUNT.YEARLYTIER"):""},this.initValues=function(){this.email=null,this.bytesAvail=2e9,this.bytesUsed=0,this.isUnlimited=!1,this.startDate=0,this.userNotifications=[],this.usageText=null,this.hashId=null,this.periodEnd=null,this.nextPeriodDate=null,this.expirationDate=null,this.isTrial=!1,this.isPaying=!1,this.payTier=0,this.subscriptionRenews=!1,this.subscriptionEndDate=null,this.isRecurring=!1,this.productName="",this.referenceId=null,this.subscriptionUrl=null,this.subscriptionSource=null,this.isTeam=!1,this.isDev=!1,this.isAutoAccount=!1,this.facebookLiked=!1,this.allotmentId=0,this.allotmentType=0},this.checkEmailChange=function(t){return(this.email?this.email.toLowerCase():"")!=(t?t.toLowerCase():"")&&(this.data=null,this.initValues(),!0)},this.setData=function(t){this.allotmentId;var e=this.email,n=null;this.data=t,this.data?(this.email=this.data.email,n=this.email,(e?e.toLowerCase():"")!=(n?n.toLowerCase():"")&&(r.$emit("accountingUpdated"),platformRestore()),this.bytesAvail=this.data.bytesAvail,this.bytesUsed=this.data.bytesUsed,this.bytesAvail<0?(this.isUnlimited=!0,this.usageText=s.instant("ACCOUNTING.UNLIMITED")):(this.isUnlimited=!1,0===this.bytesAvail?this.usedPercent=1:this.usedPercent=this.bytesUsed/this.bytesAvail,1<this.usedPercent&&(this.usedPercent=1),t=[this.bytesUsed,this.bytesAvail],e=i.ScaleData(t,2),this.usageText=Math.round(10*t[0])/10+""+e+"B / "+Math.round(10*t[1])/10+e+"B",t=[this.bytesUsed],e=i.ScaleData(t,1),this.usageUsedText=+Math.round(10*t[0])/10+""+e+"B"),n=this.data.expirationDate,this.expirationDate="Never"!==n?this.dateParse(n):n,this.hashId=this.data.hashId,this.userId=this.data.userId,this.periodEnd=this.dateParse(this.data.periodEndDate),this.nextPeriodDate=this.dateParse(this.data.nextPeriodDate),this.isTrial=this.data.isTrial,this.isPaying=this.data.isPaying,this.payTier=this.data.payTier,this.subscriptionRenews=this.data.subRenews,this.subscriptionEndDate=this.dateParse(this.data.subEndDate),this.isRecurring=this.data.isRecurring,this.productName=this.data.productName,this.referenceId=this.data.subRefId,this.subscriptionUrl=this.getSubscriptionUrl(),this.subscriptionSource=this.data.subSource,this.isTeam=this.data.isTeam,this.isDev=this.data.isDev,this.isAutoAccount=this.data.isAutoAccount,this.facebookLiked=this.data.facebookLiked,this.allotmentId=this.data.allotmentId,this.allotmentType=this.data.allotmentType,this.startDate=this.data.startDate,this.userNotifications=this.data.notifications,this.data.premiumFeatures?this.premiumFeatures=this.data.premiumFeatures:this.isPaying?this.premiumFeatures={}:this.premiumFeatures=this.defaultPremiumFeatures):this.initValues(),r.$emit("accountingDataSet")},this.hasData=function(){return!(!this.data||$.isEmptyObject(this.data)||!this.email)},this.isTrialExpired=function(){return!(!this.isTrial||this.bytesAvail<0)&&(0===this.bytesAvail||this.bytesUsed/this.bytesAvail>this.USAGE_LIMIT_HIT_THRESHOLD)},this.isDataReached=function(){return!!this.data&&-1!==this.bytesAvail&&(0===this.bytesAvail||this.bytesUsed>=this.bytesAvail)},this.isSubScriptionExpired=function(){var t;return!this.subscriptionRenews&&!!this.subscriptionEndDate&&(t=new Date,this.subscriptionEndDate<t)},this.hasNoAvailableData=function(){return 0===this.bytesAvail},this.getSubscriptionUrl=function(){return n.managementUrl.replace("{{email}}",encodeURIComponent(this.email)).replace("{{referenceId}}",encodeURIComponent(this.referenceId))},this.hasSharedFacebook=function(){return this.facebookLiked},this.canGetMoreData=function(){return this.hasData()&&!this.isTeam&&!this.isUnlimited},this.canShare=function(){return this.hasData()&&!this.isTeam},this.canShareFacebook=function(){return this.hasData()&&!this.hasSharedFacebook()},this.dateParse=function(t){var e;if(t&&0!==t.indexOf("0000-"))return e=new Date(t),isNaN(e.getTime())?new Date(t.replace(/-/g,"/").replace("T","").replace("Z","")):e},this.getPercentConsumed=function(){var t=this.bytesUsed/this.bytesAvail*100,e=Math.floor,t=(e=this.isDataReached()||t<1?Math.ceil:e)(t);return Math.min(100,Math.max(0,t))},this.getUsageText=function(){var t;return!this.hasData()||this.isUnlimited?"":(t=this.getPercentConsumed(),t=s.numToLocale(t),s.instant("SETTINGSPANE.ACCOUNT.DATAUSED",{percentage:t,dataAvailable:bytesToSize(this.bytesAvail)}))},this.userHasTrials=function(t){return!(!t||!t.trialLengthDays)&&0<t.trialLengthDays&&this.isTrialEligible},this.getCurrencyCodeInformation=function(t){return s.instant("PURCHASE.DISPLAYEDPRICES",{currencyCode:t.currencyCode||""})}}]),angular.module("speedifyUI.services").service("audioPlayer",["platform","debug","settingsRepository",function(t,s,i){var r,o=null;void 0!==window.AudioContext?r=new window.AudioContext:void 0!==window.webkitAudioContext?r=new window.webkitAudioContext:s.error("Web Audio API is not supported in this browser"),this.playSound=function(t,n,e){e&&this.generateHaptic(),!0!==this.isMuted&&r&&i.hasSetVendorLocalSettings&&!1!==i.vendor_local_settings.sounds&&(e=(new Date).getTime(),o&&e-o<500||(fetch(t).then(t=>t.arrayBuffer()).then(t=>r.decodeAudioData(t)).then(t=>{var e=r.createBufferSource();e.buffer=t,(n?(t=r.createGain(),e.connect(t),t.gain.value=n,t):e).connect(r.destination),e.start()}).catch(t=>s.error("Error with decoding audio data: ",t)),o=e))},this.generateHaptic=function(){t.features.supportsHaptics&&t.playHaptic()}}]),angular.module("speedifyUI.services").service("branding",["globals","speedifyAPI","$rootScope","debug",function(t,e,n,s){this.url_settings={marketing_url:"https://speedify.com",email_domain:"speedify.com",store_url:"https://speedify.com/store/?inapp=1",settings_url:"https://updates.speedify.com/speedify",appscreens_url:"https://appscreens.speedify.com/speedify",management_url:"https://my.speedify.com",captiveportal_login_url:"http://cp.speedify.com/",captiveportal_staging_login_url:"http://cp-staging.speedify.com",speed_test_results_url:"https://speedify.com/speed-test-results/",livestream_test_results_url:"https://speedify.com/livestream-test-results/",stream_share_url:"https://speedify.com/saved-my-stream/",upgrade_url:"https://my.speedify.com/account/upgrade#!/"},this.brandedTitle="Speedify",this.productTag="Speedify",window.brandedTitle=this.brandedTitle,window.productTag=this.productTag,this.facebookPageName="Speedify",this.facebookLikeUrl="https://www.facebook.com/"+this.facebookPageName,this.facebookPageID="1508173579403866",this.applyConfig=function(t){t&&(this.url_settings=t,this.url_settings.captiveportal_staging_login_url="http://cp-staging.speedify.com",this.aboutUrl=this.url_settings.marketing_url,this.shareUrl=this.url_settings.marketing_url+"/spotlight/spread-the-word/",this.referUrl=this.url_settings.marketing_url+"/referral/sign-up/",this.updatesUrl=this.url_settings.settings_url+"/updates.php",this.supportUrl=this.url_settings.marketing_url+"/links/support/",this.tosUrl=this.url_settings.marketing_url+"/terms-of-service/",this.twitterUrl="https://twitter.com/intent/follow?screen_name=Speedify",this.instagramUrl="https://instagram.com/speedify",this.youtubeUrl="https://www.youtube.com/channel/UC5sC63wOQ7kP3fVF3ZhrMmQ?sub_confirmation=1",this.loggen_email="support@"+this.url_settings.email_domain,this.purchasingUrlBase=this.url_settings.settings_url+"/purchasing/v1/",this.creditsUrl=this.url_settings.marketing_url+"/links/credits/",this.learnMoreUrl=this.url_settings.marketing_url+"/links/",this.privacyUrl=this.url_settings.marketing_url+"/privacy-policy",this.managementUrl=this.url_settings.management_url+"/users/{{email}}/subscriptions/{{referenceId}}",this.buyYearly=this.url_settings.marketing_url+"/links/buyYearly",this.buyMonthly=this.url_settings.marketing_url+"/links/buyMonthly",this.policiesUrl=this.url_settings.settings_url+"/policies/v1/data.php")},this.applyConfig(this.url_settings)}]),angular.module("speedifyUI.services").service("bypass",["debug","settingsRepository","platform","speedifyAPI",function(s,i,n,r){this.updateSuggestList=function(t){var e;s.log("updateSuggestList "+t),n.features.streamingBypass&&i.localproxy_settings.watchlist_enabled&&i.vendor_local_settings.suggested_bypass&&!(e=null!=i.vendor_local_settings.suggestedBypassList?i.vendor_local_settings.suggestedBypassList:[]).includes(t)&&this.titleIsNotEnabled(t)&&(e.push(t),s.log("Updating suggested bypass list with "+t),i.vendor_local_settings.suggestedBypassList=e,r.set_vendor_local_settings(i.vendor_local_settings))},this.titleIsNotEnabled=function(e){var t=!0,n=i.localproxy_settings.domain_watchlist;return void 0!==n&&(n=n.some(t=>t.title===e&&t.enabled),s.log("Title enabled: "+n),t=!n),t},this.crossCheckSuggestedListPassed=function(){var t=i.localproxy_settings.domain_watchlist,n=null!=i.vendor_local_settings.suggestedBypassList?i.vendor_local_settings.suggestedBypassList:[];return void 0===t||0===t.length||void 0===n||(0<(t=t.filter(e=>e.title&&n.some(t=>e.title.includes(t)&&e.enabled))).length&&this.removeCrossCheckedItems(),t.length<=0)},this.removeCrossCheckedItems=function(){var t=i.localproxy_settings&&i.localproxy_settings.domain_watchlist?i.localproxy_settings.domain_watchlist:[],e=i.vendor_local_settings&&i.vendor_local_settings.suggestedBypassList?i.vendor_local_settings.suggestedBypassList:[];i.vendor_local_settings.suggestedBypassList=e.filter(e=>!t.some(t=>t.title&&t.title===e&&t.enabled)),r.set_vendor_local_settings(i.vendor_local_settings)},this.getSuggestedBypassList=function(){return null!=i&&null!=i.vendor_local_settings&&i.hasSetVendorLocalSettings&&null!=i.vendor_local_settings.suggestedBypassList&&this.crossCheckSuggestedListPassed()?i.vendor_local_settings.suggestedBypassList:[]},this.enabled=function(){return!(!i||!i.privacy_settings)&&i.localproxy_settings.watchlist_enabled},this.suggestionEnabled=function(){return i.vendor_local_settings.suggested_bypass},this.allow=function(t){null!=t&&(s.log("Allowing title "+t),r.set_local_proxy_domain_watch_list(t,!0),-1!==(t=i.vendor_local_settings.suggestedBypassList.indexOf(t))&&i.vendor_local_settings.suggestedBypassList.splice(t,1),setTimeout(()=>{this.removeCrossCheckedItems()},1e3))},this.count=function(){var t=0;return t=null!=i&&null!=i.localproxy_settings&&null!=i.localproxy_settings.domain_watchlist?i.localproxy_settings.domain_watchlist.filter(function(t){return!!t.enabled&&!!(t.proxiedDomains&&0<t.proxiedDomains.length||t.proxiedApplications&&0<t.proxiedApplications.length&&"android"==n.platformClass)}).length:t},this.toggle=function(){i.localproxy_settings.watchlist_enabled=!i.localproxy_settings.watchlist_enabled,r.set_privacy_bypass(i.localproxy_settings.watchlist_enabled),this.toggleSuggested(!0)},this.toggleSuggested=function(t){i.vendor_local_settings.suggested_bypass=!i.vendor_local_settings.suggested_bypass,t&&(i.vendor_local_settings.suggested_bypass=i.localproxy_settings.watchlist_enabled),r.set_vendor_local_settings(i.vendor_local_settings)}}]),angular.module("speedifyUI.services").service("colorSave",function(){this.baseColors=["#32DDFA","#FF70BC","#B191FA","#FFAA64","#F9CD55"],this.speedifyColor="#00FAB4",this.colors=this.baseColors.slice(0),this.colorMap={},this.colorDarkenValue=0,this.colorDarkenStep=.2,this.hexToRgb=function(t){t=parseInt(t.slice(1),16);return{r:t>>16,g:t>>8&255,b:255&t}},this.applyShade=function(t,e){var t=this.hexToRgb(t),n=e<0?0:255,e=e<0?-1*e:e;return"#"+(16777216+65536*(Math.round((n-t.r)*e)+t.r)+256*(Math.round((n-t.g)*e)+t.g)+(Math.round((n-t.b)*e)+t.b)).toString(16).slice(1)},this.hexToRgbCSS=function(t,e){t=this.hexToRgb(t);return void 0===e?"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+e+")"},this.getColorForGuid=function(t,e){if("speedify"==t)return void 0===e?this.speedifyColor:this.hexToRgbCSS(this.speedifyColor,e);var n;if(void 0===(n=this.colorMap[t]?this.colorMap[t]:n)){if(0===this.colors.length){0<=this.colorDarkenValue?this.colorDarkenValue+=this.colorDarkenStep:this.colorDarkenValue-=this.colorDarkenStep,.75<=this.colorDarkenValue?this.colorDarkenValue=0-this.colorDarkenStep:this.colorDarkenValue<=-.75&&(this.colorDarkenValue=0);for(var s=0;s<this.baseColors.length;s++)this.colors.push(this.applyShade(this.baseColors[s],this.colorDarkenValue))}n=this.colors.shift(),this.colorMap[t]=n}return void 0===e?n:this.hexToRgbCSS(n,e)}}),angular.module("speedifyUI.services").service("DataScaling",["debug","spTranslate",function(t,r){this.byteLabels=["","K","M","G","T","P","E"],this.bitLabels=["","K","M","G","T","P","E"],this.SingleScale=function(t,e){void 0===e&&(e=0);for(var n=0,s=0,s=0;s<this.byteLabels.length&&!(e<=s&&t[0]<1e3);s++)n++,t[0]=t[0]/1e3;return this.byteLabels[n]},this.SingleScale2=function(t,e,n){void 0===n&&(n=0);for(var s=t[0],i=(e[0]>t[0]&&(s=e[0]),0),r=0,r=0;r<this.byteLabels.length&&!(n<=r&&s<1e3);r++)i++,s/=1e3,t[0]=t[0]/1e3,e[0]=e[0]/1e3;return this.byteLabels[i]},this.ScaleData=function(t,e){var n=0,s=0,i=0;for(void 0===e&&(e=0),s=0;s<t.length;s++)t[s]>n&&(n=t[s]);for(var r=0,i=0;i<this.byteLabels.length&&!(e<=i&&n<1e3);i++)for(r++,n/=1e3,s=0;s<t.length;s++)t[s]=t[s]/1e3,t[s]<0&&(t[s]=0);return this.byteLabels[r]},this.ScaleData2=function(t,e,n){void 0===n&&(n=0);for(var s=0,i=0,r=0,i=0;i<t.length;i++)t[i]>s&&(s=t[i]);for(i=0;i<e.length;i++)e[i]>s&&(s=e[i]);for(var o=0,r=0;r<this.byteLabels.length&&!(n<=r&&s<1e3);r++){for(o++,s/=1e3,i=0;i<t.length;i++)t[i]=t[i]/1e3,t[i]<0&&(t[i]=0);for(i=0;i<e.length;i++)e[i]=e[i]/1e3,e[i]<0&&(e[i]=0)}return this.byteLabels[o]},this.ScaleRateData=function(t,e,n){var s=0,i=0,r=0;for(void 0===e&&(e=0),void 0===n&&(n=this.bitLabels.length-1),i=0;i<t.length;i++)t[i]>s&&(s=t[i]);for(var o=0,r=0;r<this.bitLabels.length&&r!=n&&!(e<=r&&s<1e3);r++)for(o++,s/=1e3,i=0;i<t.length;i++)t[i]=t[i]/1e3,t[i]<0&&(t[i]=0);return this.bitLabels[o]},this.ScaleRateData2=function(t,e,n){void 0===n&&(n=0);for(var s=0,i=0,r=0,i=0;i<t.length;i++)t[i]>s&&(s=t[i]);for(i=0;i<e.length;i++)e[i]>s&&(s=e[i]);for(var o=0,r=0;r<this.bitLabels.length&&!(n<=r&&s<1e3);r++){for(o++,s/=1e3,i=0;i<t.length;i++)t[i]=t[i]/1e3,t[i]<0&&(t[i]=0);for(i=0;i<e.length;i++)e[i]=e[i]/1e3,e[i]<0&&(e[i]=0)}return this.bitLabels[o]},this.ScaleDataToByteLabel=function(t,e){var n=-1,s=0;for(s=0;s<this.byteLabels.length;s++)if(this.byteLabels[s]==e){n=s;break}if(0<n){for(var i=1,s=0;s<n;s++)i*=1e3;for(s=0;s<t.length;s++)t[s]=t[s]/i,t[s]<0&&(t[s]=0)}},this.ScaleDataFromBitLabel=function(t,e){var n=-1,s=0;for(s=0;s<this.bitLabels.length;s++)if(this.bitLabels[s]==e){n=s;break}if(0<n){for(var i,r=1,s=0;s<n;s++)r*=1e3;for(s=0;s<t.length;s++)void 0!==t[s]&&null!==t[s]&&(i=t[s].toString().replace(".","").length,t[s]=parseFloat((t[s]*r).toPrecision(i)),t[s]<0)&&(t[s]=0)}},this.ScaleDataToBitLabel=function(t,e){var n=-1,s=0;for(s=0;s<this.bitLabels.length;s++)if(this.bitLabels[s]==e){n=s;break}if(0<n){for(var i=1,s=0;s<n;s++)i*=1e3;for(s=0;s<t.length;s++)t[s]=t[s]/i,t[s]<0&&(t[s]=0)}},this.BytesToDisplay=function(t){var e,n=t;for(n<0&&(n+=4294967296),e=0;e<4&&!(n<1e3);e++)n/=1e3;return r.numToLocale(n,2)+" "+this.byteLabels[e]},this.BitsToDisplay=function(t,e){var n,s=2,i=(void 0!==e&&(s=e),t);for(i<0&&(i+=4294967296),n=0;n<4&&!(i<1e3);n++)i/=1e3;return r.numToLocale(i,s)+" "+this.bitLabels[n]},this.ScaleRates=function(t,e){void 0===e&&(e=0);for(var n=0,s=0,i=0,s=0;s<t.length;s++)for(i=0;i<t[s].length;i++)t[s][i]>n&&(n=t[s][i]);for(var r=0,i=0;i<this.bitLabels.length&&!(e<=i&&n<1e3);i++)r++,n/=1e3;for(s=0;s<t.length;s++)this.ScaleDataToBitLabel(t[s],this.bitLabels[r]);return this.bitLabels[r]},this.BandwidthForPreciseDisplay=function(t){t=[t];return this.ScaleDataToBitLabel(t,"M"),t[0]}}]),angular.module("speedifyUI.services").service("debug",[function(){this.log=function(t){this.bugout.log(t),platformLogInfo&&platformLogInfo(t)},this.error=function(t,e){this.bugout.log(t),e&&this.bugout.log(e instanceof Error?e.stack:e.toString()),platformLogError&&platformLogError(t,e)},this.getLog=function(){return this.bugout.getLog()},this.init=function(){this.bugout=new debugout},this.init()}]),angular.module("speedifyUI.services").service("disconnectNotificationFunctions",["platform","debug",function(e,i){this.remoteNotifications=[],this.setRemoteNotifications=function(t){if(this.remoteNotifications=[],t&&!(t.length<=0)){var e=t.filter(function(t){return"disconnect"==t.topic});(!e||e.length<=0)&&this.cancelDisconnectNotifications();for(var n=0;n<e.length;n++){var s=e[n],s={id:s.id,identifier:s.message.content_tag,day:s.message.day,title:s.message.title,subtitle:s.message.subtitle,url:s.message.link_url};this.remoteNotifications.push(s)}i.log(this.remoteNotifications)}},this.scheduleTestNotification=function(){this.scheduleNotification({id:14685,identifier:"disconnect_test",day:0,title:"Disconnect Test Message",subtitle:"Tap here to connect",url:"https://speedify.com/in-app/connect"})},this.scheduleNotification=function(t){e.showDisconnectNotification(t)},this.scheduleDisconnectNotifications=function(){for(var t=this.remoteNotifications,e=0;e<t.length;e++){var n=t[e];console.log(n),this.scheduleNotification(n)}},this.cancelDisconnectNotifications=function(){e.cancelDisconnectNotifications()},this.getPendingNotificationRequests=function(){e.getPendingNotifications()}}]),angular.module("speedifyUI.services").service("externalLinks",["platform","$rootScope","branding","speedifyAPI","matomo",function(e,n,s,t,i){this.Support=function(t){void 0!==s.supportUrl&&""!==s.supportUrl&&e.windowOpenExternal(i.appendTracking(s.supportUrl,t,"support"))},this.toTwitter=function(t){void 0!==s.twitterUrl&&e.windowOpenExternal(i.appendTracking(s.twitterUrl,t,"twitter"),!0)},this.toInstagram=function(t){void 0!==s.instagramUrl&&e.windowOpenExternal(i.appendTracking(s.instagramUrl,t,"instagram"),!0)},this.toYoutube=function(t){void 0!==s.youtubeUrl&&e.windowOpenExternal(i.appendTracking(s.youtubeUrl,t,"youtube"),!0)},this.Tos=function(t){void 0!==s.tosUrl&&e.windowOpenExternal(i.appendTracking(s.tosUrl,t,"tos"),!0)},this.Privacy=function(t){void 0!==s.privacyUrl&&e.windowOpenExternal(i.appendTracking(s.privacyUrl,t,"privacy"),!0)},this.Forgot=function(t){n.$broadcast("showPasswordReset")},this.Manage=function(t){n.$broadcast("showPasswordChange")},this.Upgrade=function(t){n.$broadcast("showUpgrade")},this.CreateAccount=function(t){n.$broadcast("showRegisterLogin")},this.Share=function(t){e.features.shareHandler?n.$broadcast("showShare"):null!=s.shareUrl&&e.windowOpenExternal(i.appendTracking(s.shareUrl,t,"share"))},this.OSStore=function(){e.urls.store&&e.windowOpenExternal(e.urls.store)},this.OSReview=function(){e.urls.review&&e.windowOpenExternal(e.urls.review)},this.Credits=function(t){void 0!==s.creditsUrl&&e.windowOpenExternal(i.appendTracking(s.creditsUrl,t,"credits"))}}]),angular.module("speedifyUI.services").service("globals",["$window","$rootScope","debug",function(t,e,n){this.isVisible=!0,this.setIsVisible=function(t){this.isVisible=t,this.isVisible?e.$broadcast("isVisible"):e.$broadcast("isHidden")},this.currentState=void 0,this.fontName="Work Sans",this.popupAlertActive=0,this.popupSaleTime=172800,this.isTV=!1,this.isInSale=!1,this.cpNetworks=[],this.isTablet=!1,this.shouldSplit=!1,this.smallScreen=!1,this.isTabletOverride=!1,this.deviceIsManaged=!1,this.userInitiatedConnect=!1,this.supportsSiriShortcuts=!1,this.supportsRedemptionCodes=!1,this.hasIosDropdownBug=!1,this.thermalState="",this.isShowingAddConnection=!1,this.tallWindow=!1,this.networks=null,this.supportsSystemColorPreference=!1,this.inScreenshotMode=!1,this.safeApply=function(t,e){try{if(t){var n=t.$$phase;if("$apply"==n||"$digest"==n){if(e&&"function"==typeof e)try{e()}catch(t){sentry_report(t)}}else t.$evalAsync(function(){try{e()}catch(t){sentry_report(t)}})}}catch(t){sentry_report(t)}},this.findAncestorByClass=function(t,e){for("function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);t;){if(t.classList.contains(e))return t;t=t.parentElement}return null},this.isElementInViewport=function(t){try{var e=(t="function"==typeof jQuery&&t instanceof jQuery?t[0]:t).getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}catch(t){}return!1},this.isElementVisibleIn=function(t,e){try{"function"==typeof jQuery&&(t instanceof jQuery&&(t=t[0]),e instanceof jQuery)&&(e=e[0]);var n=t.getBoundingClientRect(),s=e.getBoundingClientRect();return n.top<=s.bottom&&n.left<=s.right&&n.bottom>=s.top&&n.right>=s.left}catch(t){}return!1},this.sign=function(t){return t<0?-1:0<t?1:0},this.round=function(t,e){void 0===e&&(e=.5);var n=this.sign(t),s=n*Math.floor(n*t);return e<=(t-s)*n&&(s+=n),s},this.lastGuid=0,this.guidGenerator=function(){return this.lastGuid++,this.lastGuid},this.clientToDivCoord=function(t,e){if(!t)return null;if(!e)return null;var n={divX:e.clientX,divY:e.clientY};try{var s=(t="function"==typeof jQuery&&t instanceof jQuery?t[0]:t).getBoundingClientRect();n.divX=e.clientX-s.left,n.divY=e.clientY-s.top}catch(t){}return n},this.sanitizeId=function(t){return t.replace(/\W/g,"")},this.espaceIdChars=function(t){return t.replace(/(\{|\}|#|:|\.|\[|\]|@|\/|\\)/g,"\\$1")},this.loadFont=function(t,e){try{new FontFaceObserver(this.fontName,e).load().then(function(){}).catch(function(t){n.error("failed to preload font")})}catch(t){n.error("failed to preload font")}},this.loadFonts=function(){this.loadFont(this.fontName,{weight:400}),this.loadFont(this.fontName,{weight:600}),this.loadFont(this.fontName,{weight:700}),this.loadFont(this.fontName,{weight:300})},this.getDiffDays=function(t){var e;return t?(e=new Date,t=Math.ceil((t.getTime()-e.getTime())/864e5),Math.max(t,0)):0}}]),angular.module("speedifyUI.services").constant("BITLABELS",["","K","M","G"]).service("graphCommon",["BITLABELS","spTranslate",function(r,t){this.BandwidthForPreciseDisplay=function(t){t=[t];return this.ScaleDataToBitLabel(t,"M"),spTranslate.numToLocale(t[0],2)+" Mbps"},this.ScaleDataToBitLabel=function(t,e){var n=-1,s=0;for(s=0;s<r.length;s++)if(r[s]==e){n=s;break}if(0<n){for(var i=1,s=0;s<n;s++)i*=1e3;for(s=0;s<t.length;s++)t[s]=t[s]/i,t[s]<0&&(t[s]=0)}},this.ellipsTextToWidth=function(t,e,n){for(var s=!1,i=t.measureText(e);i.width>n&&0<e.length;)s=!0,e=e.slice(0,-1),i=t.measureText(e+"...");return 0<e.length&&s&&(e+="..."),e}}]),angular.module("speedifyUI.services").service("language",[function(){this.getLanguage=function(t){var e={};switch(t.toLowerCase()){case"en":e.native="English",e.english="(United States)";break;case"ar":e.native="",e.english="Arabic";break;case"de":e.native="Deutsch",e.english="German";break;case"es":e.native="Espaol",e.english="Spanish";break;case"fr":e.native="Franais",e.english="French";break;case"pt":e.native="Portugus",e.english="Portuguese";break;case"ro":e.native="Romn",e.english="Romanian";break;case"ru":e.native="",e.english="Russian";break;case"tr":e.native="Trke",e.english="Turkish";break;case"uk":e.native="",e.english="Ukrainian";break;case"sv":e.native="Svenska",e.english="Swedish";break;case"pl":e.native="Polski",e.english="Polish";break;case"nb":e.native="Bokml",e.english="Norwegian";break;case"ko":e.native="",e.english="Korean";break;case"ja":e.native="",e.english="Japanese";break;case"it":e.native="Italiano",e.english="Italian";break;case"zh-cn":e.native="",e.english="Simplified Chinese";break;default:e.native="Auto",e.english="Auto"}return e}}]),angular.module("speedifyUI.services").factory("LearnMore",["$window","platform","branding","urlArgs","matomo",function(t,n,s,i,r){return function(t,e){n.windowOpenExternal(r.appendTracking(s.learnMoreUrl+(i.version.maj||"11")+"/"+(n.identity.mobile?"mob/":"")+t,e,t))}}]),angular.module("speedifyUI.services").service("matomo",["debug","urlArgs","speedifyAPI","globals","$rootScope","$timeout",function(t,i,n,s,r,o){this.Screen={Dashboard:"dashboard",Popup:"popup",Nag:"nag",Banner:"banner",Account:"account",About:"about",Intro:"intro",Login:"login",Store:"store",Settings:"settings",Password:"password",Servers:"servers",Network:"network",News:"news",Lock:"lock"},this.remoteVendorUpdated=!1,this.remoteEnabled=!1,this.siteId=null,this.remoteUrl=null,this.hasSetCustomPaidDimension=!1,this.hasSetCountryDimension=!1,this.hasSetCustomVersionDimension=!1,this.hasSetCid=!1,this.shouldSetUserId=!1,this.lastPageViewed=!1,this.introComplete=!1,this.lowData=!1,this.hasSetLowDataInfo=!1,this.lastPageSent=null,this.lastPageTime=null,this.appendTracking=function(t,e,n){if(t&&null!==t){var s="speedify";if(i.refs&&i.refs.source&&(s=i.refs.source),0===t.indexOf("http"))try{-1<t.indexOf("?")?t+="&":t+="?",t=(t=t+("utm_source="+s)+"&utm_medium=speedify_app")+("&utm_campaign="+e)+("&utm_content="+n)}catch(t){}}return t},this.paq=function(){var t=[];return"undefined"!=typeof _paq&&(_paq?t=_paq:console.log("_paq is false")),t}.bind(this),this.saveSource=function(t){t&&null!==t.matomoSettings&&void 0!==t.matomoSettings&&(t.matomoSettings.sourceUrl?(this.remoteUrl=t.matomoSettings.sourceUrl,localStorage.setItem("matomoSource",this.remoteUrl)):localStorage.removeItem("matomoSource"),t.matomoSettings.siteId?(this.siteId=t.matomoSettings.siteId,localStorage.setItem("matomoSiteId",this.siteId)):localStorage.removeItem("matomoSiteId"),this.remoteEnabled=t.matomoSettings.enabled,null!=t.matomoSettings.setUserId?this.shouldSetUserId=t.matomoSettings.setUserId:this.shouldSetUserId=!1,null!=t.matomoSettings.lowData&&(this.lowData=t.matomoSettings.lowData),this.remoteVendorUpdated=!0,this.isEnabled())&&(n.request_user_location(),n.request_accounting_data(),n.request_version_data(),matomoTagManagerInit())},this.isEnabled=function(){return null!=this.remoteUrl&&null!=this.siteId&&null!=this.remoteEnabled&&this.remoteUrl&&this.siteId&&this.remoteEnabled},this.trackingReady=function(){return this.hasSetCustomPaidDimension&&this.hasSetCustomVersionDimension&&this.hasSetCountryDimension&&this.hasSetCid&&this.isEnabled()},this.isUniquePageView=function(t){var e=!0;return this.lastPageSent===t&&((new Date).getTime()-this.lastPageTime.getTime())/6e4<2&&(e=!1),this.lastPageSent=t,this.lastPageTime=new Date,e},this.ensurePageViewed=function(){!this.isEnabled()||this.lastPageViewed||this.trackPageView("unknown","Action before PageView")},this.resetTracking=function(){this.hasSetCustomPaidDimension=!1,this.hasSetCountryDimension=!1,this.hasSetCustomVersionDimension=!1,this.lastPageViewed=!1,n.request_user_location(),n.request_accounting_data(),n.request_version_data()},this.setCid=function(){if(this.isEnabled()&&!this.hasSetCid){var t="";try{var e=localStorage.getItem("matomo_cid");if(e)t=e;else{for(var n=0;n<16;n++)t+="0123456789abcdef"[Math.floor(16*Math.random())];localStorage.setItem("matomo_cid",t)}this.paq().push(["setVisitorId",t]),this.hasSetCid=!0,this.introComplete&&o(this.pushInitialPageView.bind(this),1e3)}catch(t){console.error("failed to get matomo cid",t)}}},this.pushInitialPageView=function(){this.lowData||(this.trackPageView("dashboard","Dashboard"),this.lastPageViewed=!0)},this.setLowDataInfo=function(){this.trackPageView("ui_running","UI Running"),t.log("Set low data")},this.setPaid=function(t){this.isEnabled()&&(t=!0===t?"Paid":"Unpaid",this.paq().push(["setCustomDimension",1,t]),this.hasSetCustomPaidDimension=!0)},this.setCountry=function(t){s.safeApply(r.$root,function(){this.isEnabled()&&(this.paq().push(["setCustomDimension",4,t.countryCode]),this.hasSetCountryDimension=!0,n.unregister("report_user_location",this.setCountry))}.bind(this))},this.setVersion=function(e){s.safeApply(r.$root,function(){var t;this.isEnabled()&&(t="",e)&&(e.maj&&(t+=e.maj+"."+e.min+"."+e.bug),this.paq().push(["setCustomDimension",3,t]),this.hasSetCustomVersionDimension=!0,n.unregister("report_version_data",this.setVersion))}.bind(this))},this.setUserId=function(t){this.isEnabled()&&this.shouldSetUserId&&t&&void 0!==t&&this.paq().push([function(){this.setUserId(t)}])},this.trackEvent=function(t,e,n){this.trackingReady()&&!this.lowData&&(this.ensurePageViewed(),n=void 0===n?"":n,this.paq().push(["trackEvent",t,e,n]))},this.trackLink=function(t){this.trackingReady()&&!this.lowData&&(this.ensurePageViewed(),this.paq().push(["trackLink",t,"link"]))},this.trackPageView=function(t,e){this.trackingReady()&&(this.lowData?(this.hasSetLowDataInfo||this.setLowDataInfo(),this.hasSetLowDataInfo=!0):this.isUniquePageView(t)&&(this.paq().push(["setCustomUrl","https://speedifyapp.speedify.com/v1/"+t]),this.paq().push(["setDocumentTitle",e]),this.paq().push(["trackPageView"]),this.lastPageViewed=!0))},this.trackContentImpressions=function(t){!t&&!this.trackingReady()||this.lowData||(this.ensurePageViewed(),this.paq().push(["trackAllContentImpressions"]))},this.trackIntroOpening=function(){if(!this.trackingReady()||this.lowData)return this.remoteVendorUpdated&&!this.isEnabled()?void 0:void o(this.trackIntroOpening.bind(this),500);this.trackPageView("intro","Intro - GDPR"),this.lastPageViewed=!0,this.paq().push(["trackEvent","intro","gdpr-agree-continue"])},n.register("report_version_data",function(t){var e=this;s.safeApply(r.$root,function(){e.setVersion(t)})}.bind(this)),n.register("report_user_location",function(t){var e=this;s.safeApply(r.$root,function(){e.setCountry(t)})}.bind(this))}]),window.addEventListener("message",receiveMessage,!1),angular.module("speedifyUI.services").service("mosFunctions",[function(){this.GetMOSRating=function(t){if(!isNaN(t)){if(t<=2.6)return 1;if(t<=3.1)return 2;if(t<=3.6)return 3;if(t<=4.3)return 4;if(4.3<t)return 5}return 0}}]),angular.module("speedifyUI.services").service("networkAdapterFunctions",["platform","spTranslate","speedifyAPI","settingsRepository","DataScaling","NETWORK_PRIORITIES","NETWORK_ADAPTER_TYPES","pairAndShare",function(t,i,e,n,r,o,a,c){this.GetConnectionDescription=function(t,e){return t?this.GetConnectionDescriptionByGuid(t.guid,e):null},this.GetConnectionDescriptionByGuid=function(t,e){if(e)for(var n=0;n<e.length;n++)if(e[n].guid==t)return this.GetNetworkDescription(e[n]);return null},this.GetConnectionDisplayName=function(t,e,n){return t?this.GetConnectionDisplayNameByGuid(t.guid,e,n):null},this.GetConnectionDisplayNameByGuid=function(t,e,n){if(e)for(var s=0;s<e.length;s++)if(e[s].guid==t)return this.GetNetworkDisplayName(e[s],n);return null},this.GetNetworkDescription=function(t){return t?t.description||this.GetNetworkDisplayName(t,!1):i.instant("NETWORKADAPTERFUNCTIONS.UNKNOWN")},this.GetNetworkDisplayName=function(t,e){var n,s;return t?(s="",t.type!==a.NetworkShareClient&&t.type!==a.NetworkShareHost||(n=c.getShareGuid(t.guid))&&(s=c.getPeerName(n)+" "),!1!==e&&t.ssid&&!t.offline&&""!=t.ip?s+t.ssid:!1!==e&&t.type&&t.type===a.Cellular?s+i.instant("ADAPTERTYPES.Cellular"):s+i.instant(t.name)):i.instant("NETWORKADAPTERFUNCTIONS.UNKNOWN")},this.GetNetworkTypeFromGuid=function(t,e){if(e){if("speedify"==t)return"speedify";for(var n=0;n<e.length;n++)if(e[n].guid==t)return e[n].type}return null},this.GetNetworkPriorityFromGuid=function(t,e){for(var n=0;n<e.length;n++)if(e[n].guid===t)return e[n].priority;return null},this.GetNetworkIconFromType=function(t,e){var n="default",s=null===t;if(!s){switch(t){case"addconnection":n="addconnection";break;case a.WiFi:n="wifi";break;case a.Ethernet:n="ethernet";break;case a.Cellular:n="cellular";break;case a.NetworkShareClient:case a.NetworkShareHost:n="pairShare";break;case"speedify":return n="speedify","speedify.png";case a.VPN:case a.Loopback:case a.Unknown:case a.Bluetooth:default:n="other"}return"components/network-dot/img/"+n+".png"}},this.GetNetworkIconFromGuid=function(t,e,n){t=this.GetNetworkTypeFromGuid(t,e);return this.GetNetworkIconFromType(t,n)},this.sanitizeId=function(t){return t&&t.replace(/\W/g,"")},this.getDailyUsageData=function(t){var e,n,s={usage:{value:0,unit:"",percentage:void 0,percentageDisplay:void 0},max:{value:0,boost:0,unit:""}};return t&&t.limits&&(n=[t.limits.usageDaily],e=r.ScaleData(n,2),s.usage.value=Math.round(10*n[0])/10,s.usage.unit=e,0!==t.limits.maxDaily)&&(n=100*t.limits.usageDaily/(t.limits.maxDaily+t.limits.boostDaily),e=i.numToLocale(n,0),105<n?e=">"+i.numToLocale(100):100<n&&(e=i.numToLocale(100)),s.usage.percentage=n,s.usage.percentageDisplay=e,n=[t.limits.maxDaily],e=r.ScaleData(n,0),s.max.value=n[0],s.max.unit=e,n=[t.limits.boostDaily],r.ScaleDataToByteLabel(n,e),s.max.boost=n[0]),s},this.getDailyUsageText=function(t){var e="",t=this.getDailyUsageData(t);return t&&(e="<span class='text-single'><span class='value total'>"+i.numToLocale(t.usage.value)+"</span>"+t.usage.unit+"B</span>",void 0!==t.usage.percentageDisplay)&&(t="<span class='text-single'><span class='value percent'>"+t.usage.percentageDisplay+"%</span></span>",e=i.instant("LIMITS.USAGEWITHPERCENTAGE",{usage:e,percentage:t})),e},this.getDailyLimitText=function(t){var e=this.getDailyUsageData(t);return e&&void 0!==e.usage.percentage?(t=[t.limits.max],r.ScaleData(t,2),"<span class='text-single'><span class='value total'>"+i.numToLocale(e.max.value)+"</span>"+e.max.unit+"B</span>"):""},this.getDailyLimitExtraText=function(t){var e;return t&&t.limits?(t=[t.limits.boostDaily],e=r.ScaleData(t,2),"<span class='text-single'><span class='value total'>"+i.numToLocale(t[0],0,1)+"</span>"+e+"B</span>"):""},this.getMonthlyUsageData=function(t){var e,n,s={usage:{value:0,unit:"",percentage:void 0,percentageDisplay:void 0},max:{value:0,unit:""}};return t&&t.limits&&(e=[t.limits.usage],n=r.ScaleData(e,2),s.usage.value=Math.round(10*e[0])/10,s.usage.unit=n,0!==t.limits.max)&&(e=100*t.limits.usage/t.limits.max,n=i.numToLocale(e,0),105<e?n=">"+i.numToLocale(100):100<e&&(n=i.numToLocale(100)),s.usage.percentage=e,s.usage.percentageDisplay=n,e=[t.limits.max],n=r.ScaleData(e,0),s.max.value=e[0],s.max.unit=n),s},this.getMonthlyUsageText=function(t){var e="",t=this.getMonthlyUsageData(t);return t&&(e="<span class='text-single'><span class='value total'>"+i.numToLocale(t.usage.value)+"</span>"+t.usage.unit+"B</span>",void 0!==t.usage.percentageDisplay)&&(t="<span class='text-single'><span class='value percent'>"+t.usage.percentageDisplay+"%</span></span>",e=i.instant("LIMITS.USAGEWITHPERCENTAGE",{usage:e,percentage:t})),e},this.getMonthlyLimitText=function(t){var e=this.getMonthlyUsageData(t);return e&&void 0!==e.usage.percentage?(t=[t.limits.max],r.ScaleData(t,2),"<span class='text-single'><span class='value total'>"+i.numToLocale(e.max.value)+"</span>"+e.max.unit+"B</span>"):""},this.getPriorityName=function(t,e){var n,s="UNKNOWN";for(n in o)if(o[n].value==t){s=o[n].tag;break}return i.instant("PRIORITIES."+s+".DISPLAY")}}]),angular.module("speedifyUI.services").service("pairAndShare",["debug","speedifyAPI","globals","$rootScope","NETWORK_SHARE_STATES","settingsRepository","NETWORK_TUNNEL_STATUS","SPEEDIFY_STATES","ERROR_CODES","spTranslate","matomo","$timeout",function(r,o,a,i,c,l,d,e,s,u,p,t){this.deviceToBePaired=null,this.deviceHasBeenRequested=!1,this.availableShares=[],this.pairedDevices=[],this.attemptingToPairArray=[],this.popupQueue=[],this.totalData={received:{today:0,week:0,month:0,total:0},shared:{today:0,week:0,month:0,total:0}},this.set_networksharing_host_enabled=function(t){o.set_networksharing_host_enabled(t)},this.set_networksharing_client_enabled=function(t){o.set_networksharing_client_enabled(t)},this.set_networksharing_same_user_auto_pair=function(t){o.set_networksharing_same_user_auto_pair(t)},this.setPairingDevice=function(t){this.deviceToBePaired=t,r.log("setPairingDevice "+JSON.stringify(this.deviceToBePaired))},this.clearPairingDevice=function(){this.deviceToBePaired=null},this.isLocked=function(){return l.isSettingLocked("networkSharingClientEnabled")&&l.isSettingLocked("networkSharingHostEnabled")},this.request_networksharing_sharesavailable=function(){o.request_networksharing_sharesavailable()},this.request_networksharing_settings=function(){o.request_networksharing_settings()},this.connectToNetworkShareViaSecretKey=function(t,e){o.connect_to_networkshare_secretkey(t,e)},this.connect_to_networkshare_connect=function(t){o.connect_to_networkshare_connect(t)},this.allow_networksharing_pair=function(t,e){o.allow_networksharing_pair(t,e)},this.addToPopupQueue=function(e){var t;e.uuid&&this.deviceToBePaired&&e.uuid===this.deviceToBePaired.uuid?r.log("Current device popup being shown"):-1!==(t=this.popupQueue.findIndex(t=>t.uuid===e.uuid))?this.popupQueue[t]=e:this.popupQueue.push(e)},this.connectToNetworkShare=function(t){t&&t.host_code&&o.connect_to_networkshare_connect(t.host_code)},this.autoAcceptNetwork=function(t){o.set_networksharing_auto_accept_pair_requests(t)},this.reconnectToNetworkShare=function(t){o.reconnect_to_network_share(t)},this.requestNetworkShare=function(t){o.request_networksharing_pair(t)},this.unpairDevice=function(t){o.unpair_networksharing_peer(t)},this.receivingIsEnabled=function(){return!(!l||!l.network_sharing_settings)&&l.network_sharing_settings.client_enabled},this.resetUsageData=function(){this.totalData={received:{today:0,week:0,month:0,total:0},shared:{today:0,week:0,month:0,total:0}}},this.getShareGuid=function(t){return t?t.includes("/")?t.split("/")[0]:t.includes("\\")?t.split("\\")[0]:t:""},this.getPeerName=function(t){for(var e=0;e<this.pairedDevices.length;e++)if(this.pairedDevices[e].uuid==t)return this.pairedDevices[e].display_name;for(e=0;e<this.availableShares.length;e++)if(this.availableShares[e].uuid==t)return this.availableShares[e].display_name},this.calculateTotals=function(t){t.forEach(t=>{t.peer_as_host&&t.peer_as_host.usage&&(this.totalData.received.today+=t.peer_as_host.usage.today,this.totalData.received.week+=t.peer_as_host.usage.week,this.totalData.received.month+=t.peer_as_host.usage.month,this.totalData.received.total+=t.peer_as_host.usage.total),t.peer_as_client&&t.peer_as_client.usage&&(this.totalData.shared.today+=t.peer_as_client.usage.today,this.totalData.shared.week+=t.peer_as_client.usage.week,this.totalData.shared.month+=t.peer_as_client.usage.month,this.totalData.shared.total+=t.peer_as_client.usage.total)})},this.newDeviceIsAttemptingToPair=function(t){r.log("newDeviceIsAttemptingToPair "+JSON.stringify(t)),this.deviceIsAttemptingToPair(t)?r.log("deviceIsAttemptingToPair "+JSON.stringify(t)):(this.attemptingToPairArray.push(t),this.setPairingDevice(t))},this.deviceIsAttemptingToPair=function(e){return!!(this.attemptingToPairArray&&0!=this.attemptingToPairArray.length&&e&&e.uuid)&&this.attemptingToPairArray.some(function(t){return t.uuid===e.uuid})},this.removeAttemptedPairedDevice=function(e){e&&e.uuid&&(this.attemptingToPairArray=this.attemptingToPairArray.filter(function(t){return t.uuid!==e.uuid}))},this.getDeviceAction=function(t){return{isHosting:t.peer_as_host&&t.peer_as_host.peerStatus===c.AUTHENTICATED&&t.peer_as_host.tunnelStatus===d.ACTIVE,isClient:t.peer_as_client&&t.peer_as_client.peerStatus===c.AUTHENTICATED&&t.peer_as_client.tunnelStatus===d.ACTIVE}},this.getPasIcon=function(t){return t!=e.CONNECTED?"components/dashboard/img/pasdashboard-disconnected.png":"components/dashboard/img/pasdashboard.png"},this.getPeerStatusTitles=function(t){if(!t)return u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.UNAVAILABLE");var e=t.peer_as_client,n=t.peer_as_host,s=e.tunnelStatus,i=n.tunnelStatus,t=t.supports_host,r=l.network_sharing_settings.host_supported&&l.network_sharing_settings.host_enabled,o="",a="";if(r&&e.peerStatus===c.DISCONNECTED||r&&e.hostTunnelStatus===d.INACTIVE||t&&n.peerStatus===c.DISCONNECTED||t&&i===d.VPN_NOT_CONNECTED||t&&i===d.INACTIVE)return u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.UNAVAILABLE");if(s==d.NOT_AUTHENTICATED||i==d.NOT_AUTHENTICATED)return u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.CONNECTING");i===d.ACTIVE&&(o=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVEFROM")),i===d.DISABLED_ON_CLIENT&&(o=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVEDISABLED")),i===d.DISABLED_ON_HOST&&(o=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVEDSTOPPED")),i===d.TUNNEL_ERROR&&(o=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVINGUNAVAILABLE")),i===d.NETWORKS_OVERLIMIT&&(o=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVEDSTOPPED")),s!==d.ACTIVE&&s!==d.DISABLED_ON_CLIENT||(a=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGTO")),s===d.DISABLED_ON_HOST&&(a=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGDISABLED")),s===d.TUNNEL_ERROR&&(a=u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGUNAVAILABLE"));r="";return""!==(a=s===d.NETWORKS_OVERLIMIT?u.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGSTOPPED"):a)&&(r+=a),""!==o&&(""!=a&&(r+=" | "),r+=o),r},this.recordMatomoSessionEvents=function(){var t=l.vendor_local_settings.networkSharingSettings&&l.vendor_local_settings.networkSharingSettings.sentToMatomo||{},e=this.pairedDevices.filter(t=>t.peer_as_client&&!0===t.peer_as_client.allow&&t.peer_as_client.peerStatus===c.AUTHENTICATED&&t.peer_as_client.tunnelStatus===d.ACTIVE),n=this.pairedDevices.filter(t=>t.peer_as_host&&!0===t.peer_as_host.allow&&t.peer_as_host.peerStatus===c.AUTHENTICATED&&t.peer_as_host.tunnelStatus===d.ACTIVE),s=((t=a.sessionUUID!==t.uuid?{}:t).uuid=a.sessionUUID,!0===t.hasClients),i=!0===t.hasHosts,s=!s&&0<e.length,e=!i&&0<n.length,i=s||e;s&&(r.log("Tracking client event"),p.trackEvent("pas","connected-peer","client"),t.hasClients=!0),e&&(r.log("Tracking host event"),p.trackEvent("pas","connected-peer","host"),t.hasHosts=!0),i&&(l.vendor_local_settings.networkSharingSettings||(l.vendor_local_settings.networkSharingSettings={}),l.vendor_local_settings.networkSharingSettings.sentToMatomo=t,o.set_vendor_local_settings(l.vendor_local_settings))},this.peerPairChanged=function(t){!t.have_auth_token||this.deviceToBePaired&&t.uuid===this.deviceToBePaired.uuid||(this.deviceToBePaired={uuid:t.uuid,display_name:t.display_name},i.$emit("showPasPopup",{isSuccess:!0,errorMessage:t.msg,isAutoPair:!0}),i.$emit("networkSharesPeerStatusChange",t))},o.register("report_networkshare_auth_request",function(n){var s=this;a.safeApply(i.$root,function(){var t,e;!n||n.length<=0||(t=n.uuid,e=n.display_name,s.deviceHasBeenRequested=!0,i.$emit("networkShareAuthRequest",{uuid:t,display_name:e}))})}.bind(this)),o.register("report_networksharing_sharesavailable",function(t){var n=this;a.safeApply(i.$root,function(){t&&(n.pairedDevices=t.filter(t=>(t.peer_as_host&&t.peer_as_host.peerStatus!==c.UNAUTHENTICATED||t.peer_as_client&&t.peer_as_client.peerStatus!==c.UNAUTHENTICATED)&&!0===t.have_auth_token),n.availableShares=t.filter(t=>(t.peer_as_host&&t.peer_as_host.peerStatus===c.UNAUTHENTICATED||t.peer_as_client&&t.peer_as_client.peerStatus===c.UNAUTHENTICATED)&&!1===t.have_auth_token),n.resetUsageData(),n.calculateTotals(t),n.recordMatomoSessionEvents(),n.attemptingToPairArray=n.attemptingToPairArray.filter(e=>!n.pairedDevices.some(t=>t.uuid===e.uuid)),i.$emit("networkSharesAvailable"))})}.bind(this)),this.shareUpdated=function(e){var t,n=this;n.deviceToBePaired&&n.deviceHasBeenRequested&&n.deviceToBePaired.uuid?e.uuid&&e.uuid==n.deviceToBePaired.uuid&&(e.peerStatus===c.AUTHENTICATED||e.msg)&&(t=!e.msg,n.deviceHasBeenRequested=!1,i.$emit("showPasPopup",{isSuccess:t,errorMessage:e.msg}),i.$emit("networkSharesPeerStatusChange",e)):e.uuid&&e.type===s.CREDENTIAL&&(n.attemptingToPairArray=n.attemptingToPairArray.filter(t=>t.uuid!==e.uuid))},o.register("report_networksharing_peer_status_change",this.shareUpdated.bind(this)),o.register("report_networksharing_peer_pair_change",this.peerPairChanged.bind(this))}]),angular.module("speedifyUI.services").service("performanceTestFunctions",["speedifyAPI","SPEEDIFY_STATES","platform","globals","$rootScope",function(t,e,n,s,i){this.currentState=null,this.waitingToStartSpeedTest=!1,this.waitingToStartStreamTest=!1,this.startSpeedTest=function(){s.safeApply(i.$root,function(){this.currentState!==e.CONNECTED?(this.waitingToStartSpeedTest=!0,t.request_current_state(),t.server_auto_connect("auto")):this.initiateSpeedTest()}.bind(this))},this.startStreamTest=function(){s.safeApply(i.$root,function(){this.currentState!==e.CONNECTED?(this.waitingToStartStreamTest=!0,t.server_auto_connect("auto")):this.initiateStreamTest()}.bind(this))},this.initiateSpeedTest=function(){s.safeApply(i.$root,function(){this.waitingToStartSpeedTest=!1,t.start_speed_test(),n.identity.apple&&n.startSpeedTest()}.bind(this))},this.initiateStreamTest=function(){s.safeApply(i.$root,function(){this.waitingToStartStreamTest=!1,t.start_stream_test(),n.identity.apple&&n.startStreamTest()}.bind(this))},this.report_current_state_cb=function(t){!0!==this.waitingToStartStreamTest&&!0!==this.waitingToStartSpeedTest||(parseInt(t.state)===e.CONNECTED?(!0===this.waitingToStartStreamTest&&this.initiateStreamTest(),!0===this.waitingToStartSpeedTest&&this.initiateSpeedTest()):console.log("Break"))}.bind(this),t.register("report_current_state",this.report_current_state_cb)}]),angular.module("speedifyUI.services").service("permissions",["$window","$rootScope","debug","platform","globals",function(t,e,n,s,i){this.platformPermissions=[],this.notificationPermission=null,this.setPermissions=function(n){i.safeApply(e.$root,function(){this.platformPermissions=n,this.platformPermissions||($scope.platformPermissions=[]),this.notificationDenied=!1;for(var t=0;t<this.platformPermissions.length;t++){var e=this.platformPermissions[t];!0===e.isNotification&&(this.notificationPermission=e)}}.bind(this))},this.notificationDisabled=function(){return!!this.notificationPermission&&!0!==this.notificationPermission.enabled},this.runPermission=function(t){t&&s.runPermission(t.id)},this.runPermissionWithID=function(t){t&&s.runPermission(t)},this.setViewed=function(t){t&&s.viewedPermission(t.id)},this.hasPermission=function(t){t=this.getPermission(t);return!!t&&t.enabled},this.getPermission=function(t){for(var e=0;e<this.platformPermissions.length;e++){var n=this.platformPermissions[e];if(n.id==t)return n}}}]),angular.module("speedifyUI.services").service("policies",["debug","branding","urlArgs",function(s,t,i){this.currentPolicyDate="20200320",this.UPDATES_URL=t.policiesUrl,this.UPDATES_TIMEOUT=15e3,this.grabUpdate=function(t){var e=this,n=i.add(this.UPDATES_URL),n=$.ajax({url:n,dataType:"json",timeout:this.UPDATES_TIMEOUT,context:this});n.done(function(t){t.privacy&&t.privacy.date&&(e.currentPolicyDate=t.privacy.date,checkShouldShowPolicy())}),n.fail(function(t,e){s.error("failed to get policies : "+e)})},this.grabUpdate()}]),angular.module("speedifyUI.services").service("productListing",["platform","$rootScope","globals","$timeout","purchasing",function(t,e,n,s,i){this.products=null,this.productsError=null,this.haveTrialProducts=!1,this.loadProductsRetryPromise=null,this.loadProducts=function(){this.products=null,this.productsError=null,i.loadProducts()},this.combineProducts=function(t){if(this.products)for(var e=0;e<t.length;e++){for(var n=!1,s=0;s<this.products.length;s++)this.products[s].id==t[e].id&&($.extend(this.products[s],t[e]),n=!0);n||this.products.push(t[e])}else this.products=t;this.haveTrialProducts=!1;for(e=0;e<this.products.length;e++)this.products[e]&&1==this.products[e].isTrial&&(this.haveTrialProducts=!0)},this.defaultProducts=function(t){t&&console.log("have "+t.length+" products"),n.safeApply(e,function(){this.combineProducts(t)}.bind(this))},this.populateProducts=function(t){n.safeApply(e,function(){t.errorText?(this.products=[],this.productsError=t.errorText,!0!==t.errorFinal&&(this.loadProductsRetryPromise&&s.cancel(this.loadProductsRetryPromise),this.loadProductsRetryPromise=s(this.loadProducts.bind(this),5e3))):t.products&&(t&&console.log("have "+t.products.length+" products"),this.combineProducts(t.products),this.productsError=null)}.bind(this))},this.loadProducts()}]),angular.module("speedifyUI.services").service("prompts",["platform","globals","branding","spTranslate",function(t,e,n,s){this.ShowConfirmPopup=function(t){void 0===t.title&&(t.title=n.brandedTitle),void 0===t.timeout&&(t.timeout=0),void 0===t.yesText&&(t.yesText=s.instant("PROMPTS.YES")),void 0===t.noText&&(t.noText=s.instant("PROMPTS.NO")),"connectionExplained"===t.noText&&(t.noText=""),void 0===t.maybeText&&(t.maybeText=""),void 0===t.groupId&&(t.groupId="general"),void 0===t.isUrgent&&(t.isUrgent=!1),t.isAlert=!1,t.isBubble=!1,newShowConfirmPopup(t)},this.ShowAlertPopup=function(t){void 0===t.title&&(t.title=n.brandedTitle),void 0===t.timeout&&(t.timeout=6e3),void 0===t.yesText&&(t.yesText=s.instant("PROMPTS.OK")),t.noText="",t.maybeText="",void 0===t.groupId&&(t.groupId="general"),t.isAlert=!0,t.isBubble=!1,newShowAlertPopup(t)},this.ShowInfoPopup=function(t){void 0===t.title&&(t.title=n.brandedTitle),void 0===t.timeout&&(t.timeout=6e3),void 0===t.yesText&&(t.yesText=s.instant("PROMPTS.OK")),t.noText="",t.maybeText="",void 0===t.groupId&&(t.groupId="general"),t.isAlert=!1,t.isBubble=!1,newShowAlertPopup(t)},this.ShowBubbleAction=function(t){t.content?(t.title=void 0,t.yesText=void 0,t.noText=void 0,t.skipPlatform=!0):(void 0===t.title&&(t.title=n.brandedTitle),void 0===t.yesText&&(t.yesText="")),void 0===t.timeout&&(t.timeout=0),void 0===t.groupId&&(t.groupId="general"),t.isAlert=!1,t.isBubble=!0,newShowBubbleAction(t)}}]),angular.module("speedifyUI.services").service("ReviewManager",["platform","settingsRepository","speedifyAPI","debug","spTranslate",function(e,n,s,i,t){this.canReview=function(){if(!n||!n.hasSetVendorLocalSettings||!n.vendor_local_settings)return!1;if(null!=n.vendor_local_settings.lastShownReviewDate){var t=(new Date-new Date(n.vendor_local_settings.lastShownReviewDate))/864e5;if(!(60<t))return i.log("Already shown review prompt "+t),!1;n.vendor_local_settings.lastShownReviewDate=new Date,s.set_vendor_local_settings(n.vendor_local_settings)}return i.log("showing review"),e.urls.review},this.setLastReviewTime=function(){n&&n.hasSetVendorLocalSettings&&n.vendor_local_settings&&(n.vendor_local_settings.lastShownReviewDate=new Date,s.set_vendor_local_settings(n.vendor_local_settings))},this.reviewMessage=function(){return{message:{icon:"apps",subtitle:t.instant("REVIEW.PROMPT.SUBTITLE"),title:t.instant("REVIEW.PROMPT.TITLE"),show_local_notification:!1,level:"info",link_text:t.instant("REVIEW.PROMPT.LINK"),link_url:e.urls.review,content_tag:"review-"+e.platformClass}}}}]),angular.module("speedifyUI.services").service("sentry",["debug","globals","$rootScope","$timeout","branding","urlArgs",function(t,e,n,s,i,r){this.message_limit_minutes=10,this.message_times={},this.report=function(t){try{console.log(t),Sentry.captureException(t),showCrashAlert("UI Sentry Event",t)}catch(t){}},this.breadcrumb=function(t){try{Sentry.addBreadcrumb(t)}catch(t){}}}]);var eventLimiter={};function sentryInit(){try{var t=localStorage.getItem("sentry_dsn");t&&Sentry.init({dsn:t,release:"v"+(void 0!==versionFromBuild?versionFromBuild:"-Developer"),tracesSampleRate:1,maxBreadcrumbs:10,autoSessionTracking:!1,beforeBreadcrumb:function(t){return t&&"console"==t.category?null:t},beforeSend:function(t,e){if(e&&e.originalException){var n=e.originalException.message;if(n&&n in eventLimiter)return null;eventLimiter[n]=!0,setTimeout(function(){delete eventLimiter[n]},3e5)}return t}})}catch(t){console.error("failed to init sentry",t)}}function checkShouldShowPolicy(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.settingsRepository&&t.settingsRepository.checkShouldShowPolicy()}function numToLocale(t,e,n){var s=angular.element(document.getElementById("onePane")).scope();return s?s.spTranslate.numToLocale(t,e,n):t}function getParameterByName(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");t=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function get_appropriate_ws_url(){var t="ws",e="127.0.0.1",n=9330,s=new URL(document.URL),i=("https:"==s.protocol?(t="wss",e=s.hostname):"http:"==s.protocol&&(e=s.hostname),s.searchParams?s.searchParams.get("wsScheme"):getParameterByName("wsScheme")),i=(i&&(t=i),s.searchParams?s.searchParams.get("wsHost"):getParameterByName("wsHost")),i=(i&&(e=i),s.searchParams?s.searchParams.get("wsPort"):getParameterByName("wsPort"));return t+"://"+e+":"+(n=i?i:n)}angular.module("speedifyUI").service("$exceptionHandler",function(){return function(t,e){sentry_report(t)}}),document.addEventListener("DOMContentLoaded",function(){sentryInit()}),angular.module("speedifyUI.services").service("serverFunctions",["platform","spTranslate",function(t,s){this.getShortNameFor=function(t){var e=this.getCountryNameFor(t);return this.isCityDisplayed(t)&&(e+=" - "+this.getCityNameFor(t)),e},this.getLongNameFor=function(t){return this.getCityNameFor(t)+" #"+this.getServerNumberFor(t)},this.getExactName=function(t){return t?t.country+"-"+t.city+"-"+t.num:null},this.getIsPrivate=function(t){return t.private&&"yes"==t.private},this.getServerNumberFor=function(t){var e="#";return e=void 0!==t.num?t.num:e},this.getCountryCodeFor=function(t){var e="";return t.country?e=t.country:t.hostName&&(e=t.hostName.substring(9,11).toUpperCase()),e},this.getCountryNameFor=function(t){var e=s.instant("SERVERFUNCTIONS.UNKNOWN"),t=this.getCountryCodeFor(t);if(t){if("proxy"==t)return s.instant("SERVERS.OPTIONS.PROXY");var e=(t="private"==t.substring(0,7)?t.substring(7,9):t).toUpperCase(),t="LOCATION.COUNTRY."+t.toLowerCase(),n=s.instant(t);n!=t&&(e=n)}return e},this.getCityCodeFor=function(t){var e="";return e=t.city?t.city:e},this.getCityNameFor=function(t){var e,n=s.instant("SERVERFUNCTIONS.UNKNOWN"),t=(t.city&&(n=t.city),this.getCityCodeFor(t));return n=t&&(t="LOCATION.CITY."+t.toLowerCase(),(e=s.instant(t))!=t)?e:n},this.isCityDisplayed=function(t){return this.isCityCodeDisplayed(this.getCityCodeFor(t))},this.isCityCodeDisplayed=function(t){var e=!0;return e=t&&-1<["kowloon","singapore"].indexOf(t)?!1:e},this.distanceBetween=function(t,e,n){var s,i;return t&&e?(s=Math.PI*t.latitude/180,i=Math.PI*e.lat/180,Math.PI,t.longitude,Math.PI,e.lon,t=t.longitude-e.lon,e=Math.PI*t/180,t=Math.sin(s)*Math.sin(i)+Math.cos(s)*Math.cos(i)*Math.cos(e),t=60*(t=180*(t=Math.acos(t))/Math.PI)*1.1515,"K"==n&&(t*=1.609344),"N"==n&&(t*=.8684),t):0},this.getFlag=function(t){var e;if(t)return"components/server-list/img/flags/"+(e=-1<(e=t).indexOf("private")?t.replace("private",""):e)+".svg"}}]),angular.module("speedifyUI.services").service("settingsRepository",["globals","speedifyAPI","$rootScope","platform","debug","sentry","spTranslate","accounting","policies","urlArgs","matomo",function(n,o,s,a,e,i,c,t,r,l,d){this.login_settings={},this.server_settings={},this.vendor_local_settings={},this.hasSetVendorLocalSettings=!1,this.vendor_remote_settings={},this.connection_settings={},this.dev_settings={},this.privacy_settings={},this.sentInstallUpgrade=!1,this.hasSettingLockerror=!1,this.defaultSettings={},this.localproxy_settings={},this.network_sharing_settings={},this.theme={dark:0,light:1,system:2},this.recheckIntro=function(){null!=this.vendor_local_settings.completed_intro&&!0!==this.vendor_local_settings.completed_intro&&(e.log("showing howitworks from settings"),setPermissionList({forceIntro:!0})),d.introComplete=this.vendor_local_settings.completed_intro},this.settingLockedPopup=function(){ShowAlertPopup({msg:c.instant("SETTINGSPANE.LOCKEDPOP.MESSAGE"),title:c.instant("SETTINGSPANE.LOCKEDPOP.TITLE"),groupId:"settingsLocked",timeout:-1})},this.recheckCompleteRegistration=function(){null!=this.vendor_local_settings.completed_intro&&!0===this.vendor_local_settings.completed_intro&&!0!==this.vendor_local_settings.saw_complete_registration&&t.hasData()&&t.isAutoAccount&&t.isPaying&&this.doCompleteRegistration()},o.register("report_login_params",function(t){var e=this;n.safeApply(s.$root,function(){e.login_settings=t,e.recheckIntro()})}.bind(this)),o.register("report_dev_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.dev_settings=t})}.bind(this)),o.register("report_server_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.server_settings=t})}.bind(this)),this.initializeSetting=function(t,e,n){return void 0===t[e]&&(t[e]=n,!0)},o.register("report_vendor_local_settings",function(i){var r=this;n.safeApply(s.$root,function(){r.vendor_local_settings=$.extend(!0,{},r.vendor_local_settings,i);var t=!(r.hasSetVendorLocalSettings=!0);if(r.initializeSetting(r.vendor_local_settings,"accounting_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"disconnect_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"streamergency_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"windowLocation",{isFloating:!1})&&(t=!0),r.initializeSetting(r.vendor_local_settings,"streamsave_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"captiveportal_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"connect_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"deadhotspot_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"pasIncomingPairingRequests_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"pasStatusUpates_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"pasPeerDiscovered_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"installDate",new Date)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"streamingbypass_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"siripopup_alerts",!1)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"hotspotsecurity_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"marketing_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"speedifylive_alerts",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"theme",r.theme.system)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"news_visibility",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"graph_rotation",!1)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"suggested_bypass",!0)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"alreadySeenPasText",!1)&&(t=!0),r.initializeSetting(r.vendor_local_settings,"networkSharingSettings",{})&&(t=!0),r.initializeSetting(r.vendor_local_settings,"sounds",a.features.supportsDefaultSounds)&&(t=!0),r.vendor_local_settings.messagesHandled){for(var e=r.vendor_local_settings.messagesHandled.slice(),n=0;n<e.length;n++){var s=e[n];Object.keys(s).forEach(function(t){t=s[t]/1e3;2<((new Date).getTime()/1e3-t)/86400/30&&e.splice(n,1)})}r.vendor_local_settings.messagesHandled.length>e.length&&(r.vendor_local_settings.messagesHandled=e,t=!0)}r.vendor_local_settings.didModeUpgrade||(r.vendor_local_settings.didModeUpgrade=!0,r.connection_settings.algorithm="STR",o.set_connection_algorithm(r.connection_settings.algorithm),t=!0),t&&o.set_vendor_local_settings(r.vendor_local_settings),r.recheckIntro(),r.recheckCompleteRegistration(),c.setPreferredLanguage(r.vendor_local_settings.language),r.sentInstallUpgrade||l.call(r.checkInstallUgrade.bind(r))})}.bind(this)),o.register("report_vendor_remote_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.vendor_remote_settings=t,d.saveSource(e.vendor_remote_settings)})}.bind(this)),this.checkInstallUgrade=function(){var t;this.sentInstallUpgrade||(this.sentInstallUpgrade=!0,t=l.version.maj+"."+l.version.min+"."+l.version.bug+"."+l.version.svn,this.vendor_local_settings.last_version_seen?this.vendor_local_settings.last_version_seen!=t&&(e.log("upgrade to "+t),this.vendor_local_settings.last_version_seen=t,o.set_vendor_local_settings(this.vendor_local_settings)):(!0===this.vendor_local_settings.completed_intro?e.log("upgrade to "+t):e.log("install to "+t),this.vendor_local_settings.last_version_seen=t,o.set_vendor_local_settings(this.vendor_local_settings)))},o.register("report_connection_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.connection_settings=t})}.bind(this)),o.register("report_localproxy_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.localproxy_settings=t})}.bind(this)),o.register("report_privacy_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.privacy_settings=t,i.enabled=t.crash_reports,e.sessionAcceptedPolicy&&e.privacy_settings.accepted_policy!=e.sessionAcceptedPolicy&&(e.privacy_settings.accepted_policy=e.sessionAcceptedPolicy,o.set_privacy_accepted_policy(e.sessionAcceptedPolicy)),e.privacy_settings.sentry_settings&&(e.privacy_settings.sentry_settings.dsn?localStorage.setItem("sentry_dsn",e.privacy_settings.sentry_settings.dsn):localStorage.removeItem("sentry_dsn"),sentryInit()),e.checkShouldShowPolicy(),s.$emit("privacySettingsUpdated")})}.bind(this)),this.checkShouldShowPolicy=function(){var t=""==this.privacy_settings.accepted_policy||this.privacy_settings.accepted_policy&&this.privacy_settings.accepted_policy<r.currentPolicyDate;t&&(e.log("triggering show policy with notAcceptedLatestPolicy("+t+")"),setPermissionList({}))},o.register("report_default_speedify_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.defaultSettings=t})}.bind(this)),this.isDarkMode=function(){if(this.vendor_local_settings){if(this.vendor_local_settings.theme===this.theme.dark)return!0;if(this.vendor_local_settings.theme===this.theme.system&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return!0}return!1},this.setSessionAcceptedPolicy=function(t){var e=this;n.safeApply(s.$root,function(){e.sessionAcceptedPolicy=t,e.privacy_settings.accepted_policy=t,o.set_privacy_accepted_policy(e.sessionAcceptedPolicy)})},this.alreadyDidCompleteRegistration=!1,this.doCompleteRegistration=function(){this.alreadyDidCompleteRegistration||(this.alreadyDidCompleteRegistration=!0,this.vendor_local_settings.saw_complete_registration=!0,o.set_vendor_local_settings(this.vendor_local_settings),ShowConfirmPopup({msg:c.instant("PURCHASE.CREATEACCOUNTALERT.MSG"),isUrgent:!1,yesCb:function(){s.$broadcast("showRegisterLogin",{msg:c.instant("PURCHASE.CREATEACCOUNTREGISTER.HEADER"),title:c.instant("PURCHASE.CREATEACCOUNTREGISTER.TITLE")})}.bind(this),noCb:function(){ShowConfirmPopup({msg:c.instant("PURCHASE.CREATEACCOUNTALERT2.MSG"),isUrgent:!1,yesCb:function(){s.$broadcast("showRegisterLogin",{msg:c.instant("PURCHASE.CREATEACCOUNTREGISTER.HEADER"),title:c.instant("PURCHASE.CREATEACCOUNTREGISTER.TITLE")})}.bind(this),noCb:function(){}.bind(this),yesText:c.instant("PURCHASE.CREATEACCOUNTALERT2.OK"),noText:c.instant("PURCHASE.CREATEACCOUNTALERT2.CANCEL"),title:c.instant("PURCHASE.CREATEACCOUNTALERT2.TITLE"),groupId:"completeRegistration2"})}.bind(this),yesText:c.instant("PURCHASE.CREATEACCOUNTALERT.OK"),noText:c.instant("PURCHASE.CREATEACCOUNTALERT.CANCEL"),title:c.instant("PURCHASE.CREATEACCOUNTALERT.TITLE"),groupId:"completeRegistration1"}))},o.register("report_networksharing_settings",function(t){var e=this;n.safeApply(s.$root,function(){e.network_sharing_settings=t,a.features.networkShareEnabled||(a.features.networkShareEnabled=!0,o.start_networksharing_discovery()),a.features.networkShareHost=1==e.network_sharing_settings.host_supported})}.bind(this)),this.isSettingLocked=function(t){return null!=this.defaultSettings&&null!=this.defaultSettings[t]&&null!=this.defaultSettings[t].locked&&this.defaultSettings[t].locked}}]),angular.module("speedifyUI.services").service("simulateTunnelData",["debug","tunnelRepository","$rootScope","networkAdapterFunctions","platform",function(_,e,n,k,b){this.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},this.constructConnectionData=function(t){return{guid:t,cnnct:!0,totBps:0,lsR:0,lsS:0,ltMs:0,priority:0,bondFilter:!1,isOL:!1,key:"",localIp:"",privateIp:"",protocol:"",remoteIp:"",bInF:0,bInFL:0,rcvBps:0,rcvBytes:0,rcvEstMbps:0,sndBps:0,sndBytes:0,sndEstMbps:0}},this.constructTunnelData=function(t){return{data:null,isHistoric:!0,time:null,type:"stats"}},this.constructTunnelHistory=function(t,e,n){return{guid:t,description:n,name:e,data:[]}},this.constructHistoryObject=function(){return{tunnels:{},total:[],lastHistoricData:0,lastTunnelData:"",lastDataStoppage:0}},this.constructTotalData=function(t,e){return{time:t,type:"stats",data:{totBps:e}}},this.simulateNoUsage=function(t,e){for(var n=[],s=0;s<e;s++){var i=this.constructConnectionData(t),r=this.constructTunnelData(t);r.data=i,n.push(r)}return n},this.simulateSpeedTestStep=function(t,e){var n=this.getRandomInt(10,15),s=Math.floor(n/2),i=[];for(var r=0;r<n+1;r++){var o,a,c=1e6*(r<s?(a=.5<Math.random()?-1:1,a=Math.random()*a,c=r,o=void 0,o=Math.pow(e,1/s),+Math.pow(o,c)+a):e+(a=this.getRandomInt(-1*(o=.1*e),o)+Math.random())),l=this.constructConnectionData(t),d=(l.totBps=c,this.constructTunnelData(t));d.data=l,i.push(d)}return i},this.getConnectionsByPriority=function(t){for(var e={always:[],secondary:[],backup:[]},n=0;n<t.length;n++){var s=t[n];switch(s.priority){case 0:e.always.push(s);break;case 1:e.secondary.push(s);break;case 2:e.backup.push(s)}}return e},this.selectMaxSpeeds=function(t,e){for(var n,s=this.getConnectionsByPriority(t),i=(n=0===s.always.length&&0===s.secondary.length&&0<s.backup.length?{always:0,secondary:0,backup:1}:0===s.always.length?{always:0,secondary:1,backup:0}:0===s.secondary.length?{always:1,secondary:0,backup:0}:{always:t=this.getRandomInt(66,75)/100,secondary:1-t,backup:0},{}),r=["always","secondary","backup"],o=0;o<r.length;o++)for(var a=r[o],c=e*n[a],l=s[a],d=0;d<l.length;d++){var u,p=l[d];c-=u=d===l.length-1?c:c*(this.getRandomInt(25,75)/100),i[p.guid]=u}return i},this.simulateHistoryObject=function(t){for(var e=this.constructHistoryObject(),n=[],s=0;s<t.length;s++){var i=t[s],r=k.GetConnectionDisplayName(i,t,!1),o=k.GetConnectionDescription(i,t),r=this.constructTunnelHistory(i.guid,r,o);e.tunnels[i.guid]=r,n.push(s)}for(var a=0;a<300;){for(var c=b.identity.mobile?this.getRandomInt(2,20):this.getRandomInt(10,80),l=c*(this.getRandomInt(20,66)/100),d=this.selectMaxSpeeds(t,c),u=this.selectMaxSpeeds(t,l),s=0;s<t.length&&!(300<a);s++){var p=t[s],g=d[p.guid],m=u[p.guid];if(!(0===g&&0===m||p.connectionState<2)){var h=this.simulateSpeedTestStep(p.guid,g),v=this.simulateSpeedTestStep(p.guid,m),S=((N=e.tunnels[p.guid].data).push.apply(N,h),N.push.apply(N,v),h.length+v.length),T=n.slice();T.splice(s,1);for(var f=0;f<T.length;f++){var E=t[T[f]];(w=e.tunnels[E.guid].data).push.apply(w,this.simulateNoUsage(E.guid,S))}a+=S}}for(var w,N,s=0;s<t.length;s++)(i=t[s]).connectionState<2||(g=d[i.guid],m=u[i.guid],0===g&&0===m?(w=e.tunnels[i.guid].data).push.apply(w,this.simulateNoUsage(i.guid,S)):(h=this.simulateSpeedTestStep(i.guid,g),v=this.simulateSpeedTestStep(i.guid,m),(N=e.tunnels[i.guid].data).push.apply(N,h),N.push.apply(N,v)));_.log("simulated speed test with: "+JSON.stringify({maxTotalDownload:c,maxTotalUpload:l,maxDownloadSpeeds:d,maxUploadSpeeds:u}))}for(s=0;s<t.length;s++){i=t[s];e.tunnels[i.guid].data.splice(300)}for(var y=new Date,s=299;0<=s;s--){(y=new Date(y.getTime())).setSeconds(y.getSeconds()-1);for(var P=0,f=0;f<t.length;f++){var i=t[f],I=e.tunnels[i.guid].data;I[s].time=y,P+=I[s].data.totBps}var A=this.constructTotalData(y,P);e.total.push(A)}return e},this.simulate=function(t){t=this.simulateHistoryObject(t);e.historyObject=t,n.$emit("renderOmniFrame")},this.unsimulate=function(){e.resetHistoryObject(),e.requestHistoricData()}}]),String.prototype.replaceAll||(String.prototype.replaceAll=function(t,e){return"[object regexp]"===Object.prototype.toString.call(t).toLowerCase()?this.replace(t,e):this.replace(new RegExp(t,"g"),e)}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){e=0<e?0|e:0;return this.substring(e,e+t.length)===t}}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),angular.module("speedifyUI.services").service("spTranslate",["globals","debug","$translate","$rootScope","$timeout","speedifyAPI",function(t,u,p,g,m,h){this.speedifyProductName=null,this.streamergency="Streamergency",this.streamergencies="Streamergencies",this.wantedLanguages=[],this.lastUsedLanguage="",window.Intl&&"object"==typeof window.Intl?this.numberFormatter=new Intl.NumberFormat:this.numberFormatter=null,g.$on("$translateChangeSuccess",function(t,e){u.log("translateChangeSuccess to "+e.language);e=this.wantedLanguages.indexOf(e.language);-1<e&&(this.wantedLanguages.splice(e,1),0==this.wantedLanguages.length)&&(g.$emit("allLanguagesLoaded"),this.speedifyProductName=p.instant("SPEEDIFY",{}),h.set_language(this.lastUsedLanguage))}.bind(this)),this.setPreferredLanguage=function(t){try{!0!==t&&"default"!==t||(t=[],navigator.languages&&0<navigator.languages.length&&Array.prototype.push.apply(t,navigator.languages),navigator.language&&t.push(navigator.language),navigator.browserLanguage&&t.push(navigator.browserLanguage),navigator.systemLanguage&&t.push(navigator.systemLanguage),navigator.userLanguage&&t.push(navigator.userLanguage),u.log("using browser languages of "+t))}catch(t){u.error("failed to query browser for languages")}try{if("string"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))return}catch(t){u.error("failed sanity checks on language input")}for(var e,n=null,s=0;s<t.length;s++)try{if(i=t[s])for(var i=i.toLowerCase(),r=0;r<languages.length;r++)try{var o=languages[r];if(o){var a=o.toLowerCase();if(a==i){n=o;break}var c=-1<i.indexOf("-"),l=-1<a.indexOf("-");if(c&&!l||!c&&l){var d=c?i.split("-")[0]:i;if((l?a.split("-")[0]:a)==d){n=o;break}}}}catch(t){u.error("failed to match preferred languages, inner loop")}if(n)break}catch(t){u.error("failed to match preferred languages, outer loop")}if(n=n||"en")try{this.lastUsedLanguage!=n&&(g.$emit("loadingLanguages"),e=0,this.lastUsedLanguage&&(e=500),this.lastUsedLanguage=n,window.Intl&&"object"==typeof window.Intl&&(this.numberFormatter=new Intl.NumberFormat(n)),this.wantedLanguages.push(n),m(function(){p.use(n)}.bind(this),e),h.set_language(n))}catch(t){u.error("failed to set preferred language",t)}},this.setPreferredLanguage(!0),this.instant=function(t,e){try{return void 0!==t&&t?(t&&t.startsWith("{{")&&t.endsWith("}}")&&(t=t.substr(2,t.length-4)),(e=void 0===e?{}:e).speedifyProductName=this.speedifyProductName,e.streamergency=this.streamergency,e.streamergencies=this.streamergencies,t=t.replace(/[\u0000-\u001F\u007F-\u009F]/g,""),p.instant(t,e)):""}catch(t){}return""},this.replaceSdkName=function(t){return t.replaceAll("{speedifyProductName}",this.speedifyProductName)},this.toLocaleString=function(t){return this.numberFormatter?this.numberFormatter.format(t):t.toLocaleString(this.lastUsedLanguage)},this.numToLocale=function(e,t,n){try{if(void 0===t)return this.toLocaleString(e);void 0===n&&(n=t);for(var s=Math.round(e*Math.pow(10,n));t<n&&s%10==0;)s=Math.round(s/10),n--;for(var i=n;0<n&&s%10==0;)s=Math.round(s/10),n--;var r=n,o=s/Math.pow(10,n),o=this.toLocaleString(o);if(r<i)for(0==r&&(o+=this.toLocaleString(1.1)[1]);r<i;)o+=this.toLocaleString(0),r++;return o}catch(t){return sentry_report(new Error("failed to format number as locale : "+e+" with language "+this.lastUsedLanguage)),e}}}]).filter("spTranslate",["spTranslate",function(n){return function(t,e){return n.instant(t,e)}}]),angular.module("speedifyAPI",[]).constant("SPEEDIFY_STATES",{LOGGED_OUT:0,LOGGING_IN:1,LOGGED_IN:2,AUTO_CONNECTING:3,CONNECTING:4,DISCONNECTING:5,CONNECTED:6,OVERLIMIT:7}).constant("CONNECTION_STATES",{DISCONNECTED:0,CONNECTING:1,CONNECTED:2}).constant("ERROR_CODES",{OK_NOERROR:0,NETWORK:1,SERVER:2,CREDENTIAL:3,DIRECTORY:4,ACCOUNT:5,RATELIMIT:6,TOKEN_EXPIRED:7,VPN_ADAPTER:8,SERVER_REGION:9,DEVICE_LIMIT:10}).constant("NETWORK_PRIORITIES",{ALWAYS:{value:0,tag:"ALWAYS"},SECONDARY:{value:1,tag:"SECONDARY"},BACKUP:{value:2,tag:"BACKUP"},NEVER:{value:100,tag:"NEVER"},AUTOMATIC:{value:200,tag:"AUTOMATIC"}}).constant("STAT_PERIODS",{TOTAL:"4294967295",CURRENT:"0",DAY:"24",WEEK:"168",MONTH:"720"}).constant("NETWORK_SHARE_STATES",{DISCONNECTED:0,UNAUTHENTICATED:1,AUTHENTICATED:2}).constant("NETWORK_TUNNEL_STATUS",{INACTIVE:0,ACTIVE:1,DISABLED_ON_CLIENT:2,DISABLED_ON_HOST:3,NO_NETWORKS:4,TUNNEL_ERROR:5,NOT_AUTHENTICATED:6,NETWORKS_OVERLIMIT:7,VPN_NOT_CONNECTED:8}).constant("NETWORK_ADAPTER_TYPES",{WiFi:"Wi-Fi",Ethernet:"Ethernet",Cellular:"Cellular",VPN:"VPN",Loopback:"Loopback",Bluetooth:"Bluetooth",NetworkShareClient:"NetworkShare Client",NetworkShareHost:"NetworkShare Host",Unknown:"Unknown"}).service("speedifyAPI",["debug","globals","STAT_PERIODS",function(e,n,s){var t=get_appropriate_ws_url(),i=new FancyWebSocket(t,"event-protocol","speedify_ui",1e3,10);i.bind("open",function(){e.log("Websocket opened")}),i.bind("close",function(){e.log("Websocket closed")}),this.register=function(t,e){i.bind(t,e)},this.unregister=function(t,e){i.unbind(t,e)},this.request_current_state=function(){i.send("request_current_state")},this.clear_streaming_stats=function(){i.send("clear_streaming_stats")},this.request_networks=function(){i.send("request_networks")},this.request_login_params=function(){i.send("request_login_params")},this.request_server_settings=function(){i.send("request_server_settings")},this.set_vendor_local_settings=function(t){i.send("set_vendor_local_settings",{merge:!0,settings:t})},this.request_vendor_local_settings=function(){i.send("request_vendor_local_settings")},this.request_vendor_remote_settings=function(){i.send("request_vendor_remote_settings")},this.request_default_speedify_settings=function(){i.send("request_default_speedify_settings")},this.request_connection_settings=function(){i.send("request_connection_settings")},this.request_connected_server=function(){i.send("request_connected_server")},this.request_accounting_data=function(t){i.send("request_accounting_data",{refresh:!!t})},this.request_dev_settings=function(){i.send("request_dev_settings")},this.request_privacy_settings=function(){i.send("request_privacy_settings")},this.request_streaming_stats=function(){i.send("request_streaming_stats")},this.login=function(t){n.userInitiatedConnect=!0,n.lastNagType=null,e.log("Logging in with "+t.username),t.username=t.username.trim(),t.password=t.password.trim(),i.send("login",t)},this.logout=function(){e.log("Logging out"),i.send("logout")},this.server_auto_connect=function(t,e){t&&(!0!==e&&(n.userInitiatedConnect=!0),n.lastNagType=null,i.send("server_auto_connect",{server:t}))},this.server_disconnect=function(){i.send("server_disconnect",{})},this.set_network_priority=function(t,e){i.send("set_network_priority",{network:t,priority:e})},this.request_historic_connection_stats=function(t){i.send("request_historic_connection_stats",{dataSince:t})},this.request_directory=function(){i.send("request_directory")},this.request_login=function(){i.send("request_login_params")},this.isconnected=function(){return i.isconnected()},this.set_server_connectbest=function(t,e){i.send("set_server_connectbest",{connect_to_best_method:t,countryCode:e=e||""})},this.set_connection_algorithm=function(t){i.send("set_connection_algorithm",{algorithm:t})},this.set_startup_connect=function(t){i.send("set_startup_connect",{connect:t})},this.set_disconnect_on_exit=function(t){i.send("set_disconnect_on_exit",{disconnect:t})},this.set_privacy_accepted_policy=function(t){t&&i.send("set_privacy_accepted_policy",{accepted_policy:t})},this.set_privacy_crash=function(t){i.send("set_privacy_crash",{crash_reports:t})},this.set_privacy_dnsleak=function(t){i.send("set_privacy_dnsleak",{dnsleak:t})},this.set_privacy_ipleak=function(t){i.send("set_privacy_ipleak",{ipleak:t})},this.set_privacy_killswitch=function(t){i.send("set_privacy_killswitch",{killswitch:t})},this.set_privacy_bypass=function(t){i.send("set_localproxy_bypass",{watchlistEnabled:t})},this.resetLocalProxyDomainWatchlist=function(){i.send("set_localproxy_reset_bypass")},this.set_network_limit=function(t,e,n){i.send("set_network_limit",{network:t,max:e,resetDay:n})},this.set_network_daily_limit=function(t,e){i.send("set_network_daily_limit",{network:t,max:e})},this.add_net_daily_limit_boost=function(t,e){i.send("add_net_daily_limit_boost",{network:t,value:e})},this.request_user_location=function(){i.send("request_user_location")},this.set_dev_devserver=function(t){i.send("dev_mode",{enable:t})},this.set_dev_latest=function(t){i.send("dev_latest",{enable:t})},this.set_dev_allpriorities=function(t){i.send("dev_allpriorities",{enable:t})},this.set_dev_allgraphs=function(t){i.send("dev_allgraphs",{enable:t})},this.set_dev_keep_more_logs=function(t){i.send("dev_keep_more_logs",{enable:t})},this.set_dev_nwfw_disable=function(t){i.send("dev_nwfw_disable",{enable:t})},this.ignore_overlimit=function(t){i.send("ignore_overlimit",{guid:t})},this.handle_overlimit=function(t){i.send("handle_overlimit",{guid:t})},this.handle_newadapter=function(t){i.send("handle_newadapter",{guid:t})},this.set_accounting_data=function(t){i.send("set_accounting_data",{userData:t})},this.handle_nag=function(t){i.send("handle_nag",{type:t})},this.send_iap_result=function(t){i.send("send_iap_result",{data:t})},this.account_check=function(t){i.send("account_check",{username:t})},this.account_create=function(t,e){i.send("account_create",{username:t,password:e})},this.account_link=function(t,e,n){i.send("account_link",{username:t,password:e,create:n})},this.account_password_reset=function(t){i.send("account_password_reset",{username:t})},this.account_password_change=function(t,e,n){i.send("account_password_change",{username:t,oldPassword:e,newPassword:n})},this.request_version_data=function(){i.send("request_version_data")},this.request_system_data=function(){i.send("request_system_data")},this.request_referrer_data=function(){i.send("request_referrer_data")},this.remove_adapter=function(t){i.send("remove_adapter",{guid:t})},this.reset_network_usage=function(t){i.send("reset_network_usage",{guid:t})},this.request_system_error=function(){i.send("request_system_error")},this.set_base_analytics=function(t){i.send("set_base_analytics",{json:t})},this.set_encryption_enabled=function(t){i.send("set_encryption_enabled",{enable:t})},this.set_share_facebooklike=function(){i.send("set_share_facebooklike")},this.set_user_messagehandled=function(t){i.send("set_user_messagehandled",{message_id:t})},this.set_dev_jumbo_packets=function(t){i.send("set_dev_jumbo_packets",{enable:t})},this.set_global_retransmission=function(t){i.send("set_global_retransmission",{enable:t})},this.set_connection_transport=function(t){i.send("set_connection_transport",{transport_mode:t})},this.set_header_compression=function(t){i.send("set_header_compression",{enable:t})},this.set_local_proxy_domain_watch_list=function(t,e){i.send("set_localproxy_domainwatchlist_enable",{title:t,enabled:e})},this.set_overflow_threshold=function(t){i.send("set_overflow_threshold",{speed:t})},this.set_priority_overflow_threshold=function(t){i.send("set_priority_overflow_threshold",{speed:t})},this.set_connection_exclude_private_ip=function(t){i.send("set_connection_exclude_private_ip",{exclude:t})},this.sendStatsSubscribe=function(t){var e=[parseInt(s.CURRENT),parseInt(s.DAY),parseInt(s.MONTH),parseInt(s.WEEK),parseInt(s.TOTAL)];null!=t&&e.push(t);try{i.send("stat_subscribe",{enable:!0,periods:e})}catch(t){}},this.runStatsUpdate=function(t){t?(this.sendStatsSubscribe(),this.statsInterval||(e.log("starting stats interval"),this.statsInterval=setInterval(this.sendStatsSubscribe,45e3))):!t&&this.statsInterval&&(e.log("ending stats interval"),clearInterval(this.statsInterval),this.statsInterval=void 0)},this.login_auto=function(){n.userInitiatedConnect=!0,n.lastNagType=null,i.send("login_auto")},this.pause=function(){i.pause()},this.resume=function(){i.resume()},this.set_connection_forward_ports=function(t){i.send("set_connection_forward_ports",{forward_ports:t})},this.set_network_ratelimit=function(t,e){i.send("set_network_ratelimit",{network:t,bps:e})},this.set_network_overlimit_rate=function(t,e){i.send("set_network_overlimit_rate",{network:t,bps:e})},this.dev_crash=function(){i.send("dev_crash")},this.set_dns_servers=function(t){i.send("set_dns_servers",{dns_addresses:t})},this.allow_auto_account=function(t){i.send("allow_auto_account",{allowCheck:t})},this.set_allow_connect=function(){i.send("set_allow_connect")},this.start_speed_test=function(){i.send("speedtest")},this.start_stream_test=function(){i.send("streamtest")},this.request_speed_test_results=function(){i.send("request_speedtest_results")},this.set_cplogin_enable=function(t,e){i.send("set_cplogin_enable",{enable:t,network:e})},this.check_captive_networks=function(){i.send("check_captive_networks")},this.request_session_stats=function(){i.send("request_session_stats")},this.request_last_disconnect_reason=function(){i.send("request_disconnect_reason")},this.request_localproxy_settings=function(){i.send("request_localproxy_settings")},this.set_localproxy_enabled=function(t){i.send("set_localproxy_enabled",{enabled:t})},this.set_localproxy_matchmode=function(t){i.send("set_localproxy_matchmode",{matchMode:t})},this.set_localproxy_domains=function(t){i.send("set_localproxy_domains",{domains:t})},this.set_language=function(t){i.send("set_language",{language:t})},this.set_app_name=function(t){i.send("set_app_name",{name:t})},this.request_account_deletion=function(){i.send("request_account_deletion")},this.set_enable_automatic_connection_priority=function(t){i.send("set_enable_automatic_connection_priority",{enable_automatic_priority:t})},this.set_ios_ondemand=function(t){i.send("set_privacy_ondemand",{ondemand:t})},this.set_ulp_report_interval_seconds=function(t){i.send("set_ulp_report_interval_seconds",{interval:t})},this.start_networksharing_discoverable=function(){i.send("start_networksharing_discoverable")},this.start_networksharing_discovery=function(){i.send("start_networksharing_discovery"),this.netShareDiscoveryInterval||(e.log("starting netshare discovery interval"),this.netShareDiscoveryInterval=setInterval(function(){i.send("start_networksharing_discovery")}.bind(this),25e3))},this.stop_networksharing_discovery=function(){this.netShareDiscoveryInterval&&(e.log("ending netshare discovery interval"),clearInterval(this.netShareDiscoveryInterval),this.netShareDiscoveryInterval=void 0)},this.set_networksharing_host_enabled=function(t){i.send("set_networksharing_host_enabled",{host_enabled:t})},this.set_networksharing_client_enabled=function(t){i.send("set_networksharing_client_enabled",{client_enabled:t})},this.request_networksharing_settings=function(){e.log("request_networksharing_setting"),i.send("request_networksharing_settings")},this.set_network_sharing_displayName=function(t){i.send("set_networksharing_display_name",{display_name:t})},this.request_networksharing_sharesavailable=function(){i.send("request_networksharing_sharesavailable")},this.connect_to_networkshare_secretkey=function(t,e){i.send("connect_to_networkshare_secretkey",{uuid:t,secret_key:e})},this.connect_to_networkshare_connect=function(t){i.send("connect_to_networkshare_connectcode",{connect_code:t})},this.reconnect_to_network_share=function(t){i.send("reconnect_to_networkshare",{uuid:t})},this.set_networksharing_tethered_ttl=function(t){i.send("set_networksharing_tethered_ttl",{tethered_ttl:t})},this.request_networksharing_pair=function(t){i.send("request_networksharing_pair",{uuid:t})},this.allow_networksharing_pair=function(t,e){i.send("allow_networksharing_pair",{uuid:t,allow:e})},this.unpair_networksharing_peer=function(t){i.send("unpair_networksharing_peer",{uuid:t})},this.set_networksharing_auto_accept_pair_requests=function(t){i.send("set_networksharing_pair_request_behavior",{pair_request_behavior:t})},this.set_networksharing_peer_allow_as_host=function(t,e){i.send("set_networksharing_peer_allow_as_host",{uuid:t,allow:e})},this.set_networksharing_peer_allow_as_client=function(t,e){i.send("set_networksharing_peer_allow_as_client",{uuid:t,allow:e})},this.set_networksharing_same_user_auto_pair=function(t){i.send("set_networksharing_same_user_auto_pair",{same_user_auto_pair:t})}}]),angular.module("speedifyUI.services").service("streamFunctions",["settingsRepository",function(i){this.getTypeImg=function(t,e,n){if(!t)return"";var s="Complete";if(t.active)switch(t.health){case 2:s="Active";break;case 1:s=e||n?"Critical":"Poor";break;default:s="Inactive"}t="";return"panes/streaming/img/audioStream"+s+(t="Inactive"!=s&&"Complete"!=s||0!==i.vendor_local_settings.theme&&2!=i.vendor_local_settings.theme||!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)").matches?t:"Dark")+".png"}}]),angular.module("speedifyUI.services").service("testSpeed",["SPEEDIFY_STATES","$rootScope",function(n,s){this.data=null,this.currentTestType=0,this.currentTest={},this.history=[],this.setData=function(t){void 0!==t&&(this.data=t,this.data)&&(console.log(this.data),t=this.data.sort(function(t,e){t=new Date(t.time);return new Date(e.time).getTime()-t.getTime()}),this.currentTest=t[0],this.history=t.filter(function(t){return!t.error}))},this.setStatus=function(t,e){0<this.currentTestType&&0===e&&t>=n.CONNECTED&&s.$emit("speedTestFinished",{error:this.currentTest?this.currentTest.error:null}),this.currentTestType=e}}]),angular.module("speedifyUI.services").service("tunnelRepository",["globals","speedifyAPI","$rootScope","platform","debug","networkAdapterFunctions","settingsRepository","$timeout",function(u,n,p,t,g,m,e,s){this.historyObject={tunnels:{},total:[],lastHistoricData:0,lastTunnelData:0,lastDataStoppage:0},this.loadingHistoricalData=!1,this.liveData={},this.graphLiveTimeTarget=45e3,this.graphExtenedTimeTarget=3e5,this.overview={numActive:0,numBackup:0,numActiveOLRL:0},this.resetHistoryObject=function(){this.historyObject={tunnels:{},total:[],lastHistoricData:0,lastTunnelData:0,lastDataStoppage:0}},this.requestHistoricDataTimer=function(){u.inScreenshotMode||u.safeApply(p.$root,function(){this.loadingHistoricalData&&(g.log("rerequesting historic data"),this.requestHistoricData())}.bind(this))},this.clearHistoricDataTimer=function(){this.historicDataTimer&&s.cancel(this.historicDataTimer),this.historicDataTimer=null},this.requestHistoricData=function(){u.inScreenshotMode||u.safeApply(p.$root,function(){var t=Date.now(),e=(t-=this.graphExtenedTimeTarget,0);this.historyObject&&this.historyObject.lastDataStoppage&&(e=Math.floor(this.historyObject.lastDataStoppage)),e=Math.max(e,t),g.log("requesting tunnels data since "+e),n.request_historic_connection_stats(e),this.loadingHistoricalData=!0,this.clearHistoricDataTimer(),this.historicDataTimer=s(function(){this.requestHistoricDataTimer()}.bind(this),5e3)}.bind(this))},p.$on("websocketReconnect",function(){this.requestHistoricData()}.bind(this)),this.handleHistoricTunnelConnection=function(d){u.inScreenshotMode||u.safeApply(p.$root,function(){var t=(new Date).getTime();if(t-2e3<this.historyObject.lastHistoricData)g.log("ignoring duplicate historic tunnel connections"),this.loadingHistoricalData=!1;else{this.historyObject.lastHistoricData=t,g.log("got "+d.length+" historical data points");for(var e=0;e<d.length;e++){var n,s=d[e],i=[];for(n in s.connections)if(s.connections.hasOwnProperty(n)){var r,o,a,c=s.connections[n];for(r in c)c.hasOwnProperty(r)&&(o=c[r],(a={guid:n}).cnnct="1"==o.substring(0,1),a.zzz="1"==o.substring(1,2),a.totBps=parseInt(o.substring(2,18),16),a.bInF=parseInt(o.substring(18,26),16),a.bInFL=parseInt(o.substring(26,34),16),a.ltMs=parseInt(o.substring(34,38),16),a.lsR=parseInt(o.substring(38,40),16)/100,a.lsS=parseInt(o.substring(40,42),16)/100,a.protocol=r,i.push(a))}s.connections=i,this.handleTunnelConnection(s,!0)}for(n in this.historyObject.tunnels)if(this.historyObject.tunnels.hasOwnProperty(n)){this.historyObject.tunnels[n].data.sort(function(t,e){return t.time<e.time?-1:t.time>e.time?1:0});this.historyObject.tunnels[n].data.length;for(var l=this.historyObject.tunnels[n].data.length-2;0<=l;l--)this.historyObject.tunnels[n].data[l].time.getTime()==this.historyObject.tunnels[n].data[l+1].time.getTime()&&this.historyObject.tunnels[n].data.splice(l,1)}this.historyObject.total.sort(function(t,e){return t.time<e.time?-1:t.time>e.time?1:0});this.historyObject.total.length;for(l=this.historyObject.total.length-2;0<=l;l--)this.historyObject.total[l].time.getTime()==this.historyObject.total[l+1].time.getTime()&&this.historyObject.total.splice(l,1);this.loadingHistoricalData=!1,p.$emit("renderOmniFrame")}}.bind(this))},this.updateTunnelNames=function(t,e){u.inScreenshotMode||u.safeApply(p.$root,function(){for(var t in this.historyObject.tunnels)this.historyObject.tunnels.hasOwnProperty(t)&&((t=this.historyObject.tunnels[t]).name||(t.name=m.GetConnectionDisplayName(t,u.networks,!1)),t.description||(t.description=m.GetConnectionDescription(t,u.networks)),t.type||(t.type=m.GetNetworkTypeFromGuid(t.guid,u.networks)))}.bind(this))},this.getDefaultStatFrame=function(t){return{time:t,tunnel:{zzz:!1,totBps:0,lsR:0,lsS:0,ltMs:0},proxy:{zzz:!1,totBps:0,lsR:0,lsS:0,ltMs:0},share:{zzz:!1,totBps:0,lsR:0,lsS:0,ltMs:0}}},this.handleTunnelConnection=function(l,d){u.safeApply(p.$root,function(){var t=l.connections,e=new Date(l.time);if(!d){if(this.liveData=l,e<this.historyObject.lastTunnelData)return void g.log("ignoring non-historical tunnel data because it is older than last stored tunnel data");this.overview.numActive=l.numActive,this.overview.numBackup=l.numBackup,this.overview.numActiveOLRL=l.numActiveOLRL}if(!u.inScreenshotMode){this.historyObject.lastTunnelData=e;var n=5e3<(new Date).getTime()-e.getTime(),s=new Date(e.getTime()-this.graphExtenedTimeTarget);for(a in this.historyObject.tunnels)if(this.historyObject.tunnels.hasOwnProperty(a))for(;this.historyObject.tunnels[a].data[0]&&this.historyObject.tunnels[a].data[0].time<s;)this.historyObject.tunnels[a].data.shift();for(;this.historyObject.total[0]&&this.historyObject.total[0].time<s;)this.historyObject.total.shift();var i,r,o,a,c={};for(a in t)t.hasOwnProperty(a)&&(r="tunnel","proxy"!=(i=t[a]).protocol&&"share"!=i.protocol||(r=i.protocol),"speedify"===i.guid?((o=c.total)||(o=this.getDefaultStatFrame(e),c.total=o),o[r].totBps+=i.totBps):(this.historyObject.tunnels.hasOwnProperty(i.guid)||(this.historyObject.tunnels[i.guid]={name:null,description:null,type:null,guid:i.guid,data:new Array}),this.historyObject.tunnels[i.guid].name=m.GetConnectionDisplayName(i,u.networks,!1),this.historyObject.tunnels[i.guid].description=m.GetConnectionDescription(i,u.networks),this.historyObject.tunnels[i.guid].type=m.GetNetworkTypeFromGuid(i.guid,u.networks),(i.cnnct||i.zzz)&&((o=c[i.guid])||(o=this.getDefaultStatFrame(e),c[i.guid]=o),o[r].zzz|=i.zzz,o[r].totBps+=i.totBps,o[r].ltMs+=i.ltMs,o[r].lsS+=i.lsS,o[r].lsR+=i.lsR,o.isHistoric=d)));for(a in c)c.hasOwnProperty(a)&&("total"==a?this.historyObject.total:this.historyObject.tunnels[a].data).push(c[a]);d||n||p.$emit("renderOmniFrame")}}.bind(this))},this.getFirstLiveDataMatching=function(t,e){if(this.liveData&&this.liveData.connections&&0<this.liveData.connections.length)for(var n=0;n<this.liveData.connections.length;n++){var s=this.liveData.connections[n];if(s&&s.guid===t){if(!e)return s;if("tunnel"==e){if("proxy"!=s.protocol&&"share"!=s.protocol)return s}else if(s.protocol===e)return s}}return null},this.getAllPeerLiveDataMatching=function(t,e){var n=[];if(this.liveData&&this.liveData.connections&&0<this.liveData.connections.length)for(var s=0;s<this.liveData.connections.length;s++){var i=this.liveData.connections[s];i&&i.guid&&i.guid.startsWith(t)&&(e?"tunnel"==e?"share"!=i.protocol&&n.push(i):i.protocol===e&&n.push(i):n.push(i))}return n},n.register("report_connection_stats",this.handleTunnelConnection.bind(this)),n.register("report_historic_connection_stats",this.handleHistoricTunnelConnection.bind(this)),p.$on("$destroy",function(){n.unregister("report_connection_stats",this.handleTunnelConnection),n.unregister("report_historic_connection_stats",this.handleHistoricTunnelConnection)})}]),angular.module("speedifyUI.services").service("TVFocusManager",["$window","$timeout","debug","$mdComponentRegistry","globals",function(t,n,e,a,s){this.focusableSearch="[ng-click]:not(.tvFocusSkipNav), input",this._enabled=!1,this._selectedElement=[{element:null,stackName:"document"}],this.setFocus=function(t){if($(".tvFocused").removeClass("tvFocused"),this._selectedElement[0].element=$(t),this._selectedElement[0].element){this._selectedElement[0].element.addClass("tvFocused"),this._selectedElement[0].element.focus();try{if(this._selectedElement[0].element[0].scrollIntoViewIfNeeded)this._selectedElement[0].element[0].scrollIntoViewIfNeeded(!0);else try{this._selectedElement[0].element[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}catch(t){this._selectedElement[0].element[0].scrollIntoView(!0)}}catch(t){}}},this.addStack=function(t){console.log("adding stack "+t),this._selectedElement.unshift({element:null,stackName:t})},this.removeStack=function(t){console.log("removing stack "+t);for(var e=-1;++e&&e<this._selectedElement.length&&this._selectedElement[e].stackName!=t;);e<this._selectedElement.length-1&&this._selectedElement[e].stackName==t&&(this.setFocus(this._selectedElement[e+1].element),this._selectedElement.splice(e,1))},this.checkNoSelected=function(){if(this._selectedElement[0].element&&0==this._selectedElement[0].element.closest("body").length&&0==$(".tvStack-"+this._selectedElement[0].stackName).length&&this.removeStack(this._selectedElement[0].stackName),!this._selectedElement[0].element){var t=$(document),e=(t="document"!=this._selectedElement[0].stackName?$(".tvStack-"+this._selectedElement[0].stackName):t).find("[tv-auto-focus]");if(0<e.length){if(e.is(this.focusableSearch))return this.setFocus(e.first()),!0;e=e.find(this.focusableSearch);if(0<e.length)return this.setFocus(e.first()),!0}e=t.find(this.focusableSearch);if(0<e.length)return this.setFocus(e.first()),!0}return!1},this.navigateStep=function(t,e){var n,s=t.element,i=(n=s&&(n=0!==(n=$(s.closest("[tv-focus-stack]"))).find("md-sidenav").prevObject.length&&0===a.getInstances().length?$(s.closest("#onePane")):n)&&0!=n.length?n:$(document)).find(this.focusableSearch);if(0==i.length)return null;for(var r=-1,o=0;o<i.length;++o)if(s&&0<s.length&&i[o]==s[0]){r=o;break}return r<0?i[0]:"l"==e||"u"==e?0==r?i[i.length-1]:i[r-1]:"r"==e||"d"==e?r+1>=i.length?i[0]:i[r+1]:null},this.isVisible=function(t){for(;t&&0<t.length&&!t.is("body")&&!t.is("[tv-focus-stack]");){if(parseFloat(t.css("opacity"))<.1)return!1;t=t.parent()}return!0},this.navigate=function(t){this.checkNoSelected()||0!=this._selectedElement.length&&(t=this.navigateStep(this._selectedElement[0],t),this.setFocus(t))},this.handleLeft=function(){this.navigate("l")},this.handleRight=function(){this.navigate("r")},this.handleUp=function(){this.navigate("u")},this.handleDown=function(){this.navigate("d")},this.remoteMashPromise=void 0,this.consecutiveArrows=0,this.resetRemoteMash=function(){this.consecutiveArrows=0},document.addEventListener("keydown",function(t){var e;t=t||window.event,this._enabled?39==t.keyCode||"ArrowRight"==t.key?"INPUT"!==t.target.nodeName&&(this.handleRight(),t.preventDefault()):38==t.keyCode||"ArrowUp"==t.key?(this.handleUp(),t.preventDefault()):37==t.keyCode||"ArrowLeft"==t.key?"INPUT"!==t.target.nodeName&&(this.handleLeft(),t.preventDefault()):40==t.keyCode||"ArrowDown"==t.key?(this.handleDown(),t.preventDefault()):13!=t.keyCode&&"Enter"!=t.key&&(9==t.keyCode||"Tab"==t.key?(t.shiftKey?this.handleLeft():this.handleRight(),t.preventDefault()):27!=t.keyCode&&"Escape"!=t.key||(e=angular.element(document.getElementById("onePane")).scope())&&e.backButton()):"INPUT"===t.target.nodeName||"SELECT"===t.target.nodeName||39!=t.keyCode&&"ArrowRight"!=t.key&&38!=t.keyCode&&"ArrowUp"!=t.key&&37!=t.keyCode&&"ArrowLeft"!=t.key&&40!=t.keyCode&&"ArrowDown"!=t.key||(this.remoteMashPromise&&n.cancel(this.remoteMashPromise),this.consecutiveArrows++,5==this.consecutiveArrows&&setIsTV(!0),this.remoteMashPromise=n(this.resetRemoteMash.bind(this),5e3))}.bind(this),nonPassiveEvent)}]).directive("tvAutoFocus",["TVFocusManager",function(s){return{restrict:"A",link:function(t,e,n){setTimeout(function(){e.is(s.focusableSearch)?s.setFocus(e):s.setFocus(e.find(s.focusableSearch))},100)}}}]).directive("tvFocusStack",["TVFocusManager","globals","$mdComponentRegistry","$mdSidenav",function(i,r,t,e){return{restrict:"A",link:function(t,e,n){var s=r.guidGenerator();e.addClass("tvStack-"+s),i.addStack(s),t.$on("$destroy",function(){i.removeStack(s)})}}}]),angular.module("speedifyUI.services").service("updater",["platform","debug","branding","sentry","urlArgs","spTranslate","matomo",function(n,s,t,e,p,g,i){this.UPDATES_URL=t.updatesUrl,this.UPDATES_TIMEOUT=15e3,this.StartUpdateCheck=function(t){n.updateCheck&&p.call(function(){this.grabUpdate(t)}.bind(this))},this.grabUpdate=function(u){var t=p.add(this.UPDATES_URL),t=$.ajax({url:t,dataType:"text",timeout:this.UPDATES_TIMEOUT,context:this});t.done(function(t){for(var e="",n=0,s=0,i=0,r=0,o="",a="",c=t.split("\n"),l=0;l<c.length;l++){var d=c[l].split("|");2==d.length&&("Message"==d[0]?e=d[1]:"ReleaseDate"==d[0]?d[1]:"VersionMajor"==d[0]?n=parseInt(d[1]):"VersionMinor"==d[0]?s=parseInt(d[1]):"VersionBuild"==d[0]?i=parseInt(d[1]):"VersionRevision"==d[0]?r=parseInt(d[1]):"DownloadURL"==d[0]?o=d[1]:"DownloadExe"==d[0]&&(a=d[1]))}n>parseInt(p.version.maj)||n==parseInt(p.version.maj)&&s>parseInt(p.version.min)||n==parseInt(p.version.maj)&&s==parseInt(p.version.min)&&i>parseInt(p.version.bug)||n==parseInt(p.version.maj)&&s==parseInt(p.version.min)&&i==parseInt(p.version.bug)&&r>parseInt(p.version.svn)?this.UpdateAvailable(e,o,a):u&&ShowAlertPopup({msg:g.instant("UPDATES.LATEST"),isAlert:!1})}),t.fail(function(t,e){s.error("failed to get updates : "+e),u&&ShowAlertPopup({msg:g.instant("UPDATES.ERROR")})})},this.UpdateAvailable=function(t,e){s.log("Showing update available: "+t+", "+e),ShowConfirmPopup({msg:t,isUrgent:!(this.updates_showingUpdate=!0),yesCb:function(){n.doNativeUpdate()||n.windowOpenExternal(i.appendTracking(e,i.Screen.Popup,"upgrade"))}.bind(this),noCb:function(){}.bind(this),yesText:g.instant("UPDATES.INSTALLNOW"),noText:g.instant("UPDATES.IGNORE"),groupId:"update",isAlert:!1})}}]),angular.module("speedifyUI.services").service("urlArgs",["speedifyAPI","debug","$timeout","branding","accounting",function(e,t,n,s,i){e.register("report_version_data",function(t){this.version.maj=t.maj,this.version.min=t.min,this.version.bug=t.bug,this.version.svn=t.build,this.versionObtained=!0}.bind(this)),e.register("report_system_data",function(t){this.uuid=t.uuid.replace(/-/g,""),this.os=t.osPlatform,this.uuidObtained=!0,this.isVM=t.isVM,this.distro=t.distro}.bind(this)),e.register("report_referrer_data",function(t){this.refs=t,this.refsObtained=!0}.bind(this)),this.versionObtained=!1,this.uuidObtained=!1,this.refsObtained=!1,this.version={},this.uuid="",this.os="",this.refs,this.isVM=!1,this.call=function(t){var e;this.versionObtained&&this.uuidObtained&&this.refsObtained?t():(e=t,n(function(){this.call(e)}.bind(this),1e3))},this.add=function(t){if(0===t.indexOf("http"))try{var e=t;return-1<e.indexOf("?")?e+="&":e+="?",e+=this.getStr()}catch(t){}return t},this.getObj=function(){var t=this.getStr(),s={};t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,n){s[e]=n});return s},this.getStr=function(){var t="";this.versionObtained&&(t+="osPlatform="+this.os+"&maj="+this.version.maj+"&min="+this.version.min+"&bug="+this.version.bug+"&rev="+this.version.svn),this.distro&&(t+="&distro="+encodeURIComponent(this.distro));try{t+="&machName="+encodeURIComponent(require("os").hostname())}catch(t){}try{t+="&paid="+i.payTier}catch(t){sentry_report(t)}return t},this.SetupUrlArgs=function(){var t;void 0!==versionFromBuild&&(t=versionFromBuild.split("."),this.version.maj=t[0],this.version.min=t[1],this.version.bug=t[2]),e.isconnected()&&(e.request_version_data(),e.request_system_data(),e.request_referrer_data()),this.versionObtained&&this.uuidObtained&&this.refsObtained||n(this.SetupUrlArgs.bind(this),2e3)},this.SetupUrlArgs()}]),angular.module("speedifyUI.services").service("userEventFunctions",["settingsRepository","STAT_PERIODS","debug","speedifyAPI",function(n,t,e,s){this.hasEvents=function(t,e){return!t||!Array.isArray(t)||t.length<=0?[]:t.filter(function(e){if(n&&n.hasSetVendorLocalSettings&&n.vendor_local_settings)return void 0===n.vendor_local_settings.archivedMessages?t:!n.vendor_local_settings.archivedMessages.some(function(t){return e.id===t.id})}).filter(function(t){return t.type===e}).filter(function(t){return void 0!==t.start_date?new Date(t.start_date)<=new Date:void 0===t.start_date}).filter(function(t){var e;return 1==t.expires&&void 0!==t.expire_date?(e=new Date(t.expire_date),new Date<=e):0==t.expires})},this.clearOldArchives=function(t){var e=this.archivedMessages().filter(function(e){return!e.start_date||(new Date-new Date(e.start_date))/864e5<60||!t||t.some(function(t){return t.id===e.id})});n&&n.vendor_local_settings&&void 0!==n.vendor_local_settings.archivedMessages&&(n.vendor_local_settings.archivedMessages=e,s.set_vendor_local_settings(n.vendor_local_settings))},this.notificationCenterMessages=function(t){return this.hasEvents(t,"notification-center")},this.textBannerMessages=function(t){return this.hasEvents(t,"text-banner")},this.popupMessages=function(t){return this.hasEvents(t,"notification-popup")},this.hasArchivedMessages=function(){return 0<$scope.archivedMessages().length},this.archiveMessage=function(t){var e;null!=t&&void 0!==(e=this.archivedMessages())&&(e.push(t),n.vendor_local_settings.archivedMessages=e,s.set_vendor_local_settings(n.vendor_local_settings))},this.archivedMessages=function(){if(n&&n.vendor_local_settings)return void 0===n.vendor_local_settings.archivedMessages&&(n.vendor_local_settings.archivedMessages=[]),n.vendor_local_settings.archivedMessages}}]);var staticPlatform="android",versionFromBuild="14.4.0.12657";function notificationsUpdated(t){var e=angular.element(document.getElementById("devTools")).scope();e&&e.onNotificationsUpdate(t)}function setPermissionList(t){var e=angular.element(document.getElementById("introContainer")).scope();e&&e.setPermissionList(t)}function completePermission(t,e){var n=angular.element(document.getElementById("introContainer")).scope();n&&n.completePermission(t,e)}function changePolicy(t){var e=angular.element(document.getElementById("introContainer")).scope();e&&t&&e.changePolicyDate(t)}function showIntro(){setPermissionList({forceIntro:!0})}function closeIntro(t){var e=angular.element(document.getElementById("introContainer")).scope();e&&e.escapeIntro(t)}function nativeSignInComplete(){var t=angular.element(document.getElementById("introContainer")).scope();t&&t.nativeSignInComplete()}function testPermissions(t){setPermissionList({debugPermissions:!0,debugIntro:1==t,forceIntro:1==t,permissions:[{isVpn:!0,id:1,completed:!1,description:"Install the Speedify VPN Profile",explanation:"VPN Permissions allow us to encrypt your data and protect your privacy.",allowSkip:!1},{isNotifications:!0,id:2,completed:!1,description:"Allow Notifications",explanation:"Get notified when you're close to exceeding data caps.",allowSkip:!0}]})}function testIntro(){testPermissions(!0)}function testChangePolicy(){changePolicy({policyDate:20200310})}function loggen_external_setState(t){var e=angular.element(document.getElementById("loggen-div")).scope();e&&e.loggen.setRunningState(t)}function loggen_generate(){var t=angular.element(document.getElementById("loggen-div")).scope();t&&t.loggen.generate()}function getCalculatedSpeed(t){var e;return void 0===t||isNaN(t)?"0.00 Kbps":1e3<=(t=Number(t/1e3).toFixed(2))?1e3<=(e=Number(t/1e3).toFixed(2))?Number(e/1e3).toFixed(2)+" Gbps":e+" Mbps":t+" Kbps"}function showStore(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.showStore()}function updatePushPermission(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.updatePushPermission(t)}function setIsTablet(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setIsTablet(t)}function setIsTV(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setIsTV(t)}function setIsNotched(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setIsNotched(t)}function setIsDarkMode(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setIsDarkMode(t)}function supportSystemColorPreference(e){onScope("onePane",function(t){t.supportSystemColorPreference(e)})}function deviceIsManaged(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.deviceIsManaged(t)}function setIsIos12(t){var e=angular.element(document.getElementById("onePane")).scope();e&&(e.setSupportsSiriShortcuts(t),e.setHasIosDropdownBug(t))}function setHasRedemptionCodes(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.supportsRedemptionCodes(t)}function testGoForth(t){var e=angular.element(document.getElementById("onePane")).scope();e&&(e.showGoforth=!0,e.showIntroFlow=!0)}function testCaptivePortal(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.showCaptivePortalPopup()}function testSocialMediaPopup(){var t=angular.element(document.getElementById("onePane")).scope();t&&(t.shouldShowSocialPopup=!0)}function testPushPermission(){var t=angular.element(document.getElementById("onePane")).scope();t&&(t.showIntroFlow=!0,t.showPushPermission=!0)}function testStreamingBypass(){var t=angular.element(document.getElementById("onePane")).scope();t&&(t.showStreamingBypassPopup=!0)}function testSalePopup(){var t=angular.element(document.getElementById("onePane")).scope();t&&(t.showSalePopup=!0)}function testSettingLock(){var t,e=angular.element(document.getElementById("onePane")).scope();e&&(null==(t=e.settingsRepository.defaultSettings.transportMode)&&(e.settingsRepository.defaultSettings.transportMode={}),t&&1==t.locked?e.settingsRepository.defaultSettings.transportMode.locked=!1:e.settingsRepository.defaultSettings.transportMode.locked=!0)}function completeEmbeddedPurchase(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.completeEmbeddedPurchase(t)}function handleDeepLink(t,e){var n=angular.element(document.getElementById("onePane")).scope();return!!n&&n.handleDeepLink(t,e)}function shouldAskPushPermission(t){var e=angular.element(document.getElementById("onePane")).scope();e&&(e.pushPermissionShouldAsk=t.shouldAsk)}function showPopupForNotification(t,e){var n=angular.element(document.getElementById("onePane")).scope();n&&n.showPopupForNotification(t,e)}function setABTestValue(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setABTestValue(t)}function bytesToSize(t){var e;return isNaN(t)||0===t?"0 Bytes":(e=parseInt(Math.floor(Math.log(t)/Math.log(1e3))),(t/Math.pow(1e3,e)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][e])}function testAccountingMessage(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.testUserAccountMessages(t)}function setWindowLocation(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setWindowLocation(t)}function setNewsEvents(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.setNewsEvents(t)}function goToSettings(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.goToSettings()}function showConnectStartupPopup(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.showConnectStartupPopup()}function thermalStateDidChange(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.updateThermalReadings(t)}function sharedCompletedWithActivity(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.sharedCompletedWithActivity(t)}function testSchedulingNotification(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.showWeeklyStatsPopup()}function nativeSignClosed(){var t=angular.element(document.getElementById("onePane")).scope();t&&t.matomo&&t.matomo.trackPageView("settings/account","Account - Account")}function isTrialEligible(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.isTrialEligible(t)}function trackMatomoEvent(t,e){var n;void 0!==t&&void 0!==e&&(n=angular.element(document.getElementById("onePane")).scope())&&n.trackMatomoEvent(t,e)}function requestNetworkSharingPair(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.requestNetworkSharingPair(t)}function networkShareAuthRequest(t,e){var n=angular.element(document.getElementById("onePane")).scope();n&&n.networkShareAuthRequest(t,e)}function networkSharePromptNewPeer(t,e){var n=angular.element(document.getElementById("onePane")).scope();n&&n.networkSharePromptNewPeer(t,e)}function userLoginInitiated(t){var e=angular.element(document.getElementById("onePane")).scope();e&&e.userLoginInitiated(t)}angular.module("speedifyUI.services").service("weeklyReportFunctions",["settingsRepository","STAT_PERIODS","debug","speedifyAPI",function(r,o,a,c){this.CONNECTEDTIMETHRESHOLD=600,this.TRANSFERREDBYTETHRESHOLD=1e10,this.INACTIVECONNECTEDTIMETHRESHOLD=120,this.INACTIVETRANSFERREDBYTETHRESHOLD=2e9,this.showInactiveNotification=null,this.showActiveNotification=null,this.recordWeeklyReportStats=function(t){var e,n,s,i;t&&t[o.WEEK]&&r&&r.hasSetVendorLocalSettings&&(t=t[o.WEEK],null==r.vendor_local_settings.weeklyStreamingStats&&(r.vendor_local_settings.weeklyStreamingStats={}),e=!1,t.streaming&&(n=t.streaming)&&(e=0<n.total_speed_saves+n.unique_saves+n.total_failover_saves+n.total_redundant_saves),n=t.total_connected_minutes>=this.CONNECTEDTIMETHRESHOLD,s=t.bytes_recv+t.bytes_sent>=this.TRANSFERREDBYTETHRESHOLD,i=t.total_connected_minutes<=this.INACTIVECONNECTEDTIMETHRESHOLD,t=t.bytes_recv+t.bytes_sent<=this.INACTIVETRANSFERREDBYTETHRESHOLD,i=!e&&i&&t,this.showActiveNotification===(t=e||n||s)&&this.showInactiveNotification===i||(a.log("Recording weekly report change."),this.showActiveNotification=t,this.showInactiveNotification=i,r.vendor_local_settings.weeklyStreamingStats[o.WEEK]={showInactiveNotification:i,showActiveNotification:t,lastSaveDate:(new Date).toISOString()},c.set_vendor_local_settings(r.vendor_local_settings)))},this.filterWeeklyReports=function(t){return t.filter(function(t){var e,n,s,i;return!t.message||!t.message.content_tag.includes("weeklyNotification")||!!(e=r.vendor_local_settings.weeklyStreamingStats)&&!!(e=e[o.WEEK])&&!!(n=moment(e.lastSaveDate))&&((s=new Date).setDate(s.getDate()-7),i=t.message.content_tag.includes("weeklyNotification_"),t=t.message.content_tag.includes("weeklyNotification-inactive"),i&&s<n&&void 0!==e.showActiveNotification?(a.log("showingActiveNotification "+e.showActiveNotification),e.showActiveNotification):!(!t||void 0===e.showInactiveNotification)&&(a.log("showInactiveNotification "+e.showInactiveNotification),e.showInactiveNotification))})}}]),angular.module("speedifyUI.services").service("windowEvents",["$rootScope","$window","$timeout",function(n,t,s){var e=angular.element(t);this.width=e.width(),this.height=e.height(),this.getWindowDimensions=function(){return{h:this.height,w:this.width}},this.applyNewSize=function(t,e){n.$broadcast("windowEventResize",t),s(function(){n.$broadcast("windowEventResize",t)}.bind(this),150)},e.bind("resize",function(){this.width=e.width(),this.height=e.height(),this.changeDelay=s(function(){this.applyNewSize(this.getWindowDimensions(),null)}.bind(this),50)}.bind(this))}]),angular.module("speedifyUI.components").directive("about",function(){return{scope:{currentState:"="},restrict:"E",templateUrl:"components/about/about.html",controller:"AboutCtrl"}}).controller("AboutCtrl",["$scope","speedifyAPI","platform","$window","updater","accounting","externalLinks","globals","loggen","spTranslate","SPEEDIFY_STATES","LearnMore","urlArgs","matomo","audioPlayer",function(t,e,n,s,i,r,o,a,c,l,d,u,p,g,m){t.versionStr=null,t.UpdateValues=function(){p.call(function(){a.safeApply(t.$root,function(){t.versionStr=p.version.maj+"."+p.version.min+"."+p.version.bug+"."+p.version.svn})}.bind(this))},t.launchTwitter=function(){m.playSound("audio/general-tap.mp3",1,!0),o.toTwitter(g.Screen.About)},t.getTwitterHandler=function(){return l.instant("SETTINGSPANE.ABOUT.FOLLOW",{username:"@speedify"})},t.getRateText=function(){return l.instant("SETTINGSPANE.ABOUT.RATE",{appname:"Speedify"})},t.launchTos=function(){m.playSound("audio/general-tap.mp3",1,!0),o.Tos(g.Screen.About)},t.launchPrivacy=function(){m.playSound("audio/general-tap.mp3",1,!0),o.Privacy(g.Screen.About)},t.launchCredits=function(){m.playSound("audio/general-tap.mp3",1,!0),o.Credits(g.Screen.About)},t.launchYouTube=function(){m.playSound("audio/general-tap.mp3",1,!0),o.toYoutube(g.Screen.About)},t.launchInstagram=function(){m.playSound("audio/general-tap.mp3",1,!0),o.toInstagram(g.Screen.About)},t.allowReview=function(){return n.features.review},t.doReview=function(){m.playSound("audio/general-tap.mp3",1,!0),o.OSReview(g.Screen.About)},t.UpdateValues()}]),angular.module("speedifyUI.components").directive("accountInfo",function(){return{scope:{currentState:"=",hideEmail:"=",hideSubEnd:"=",hideUsage:"=",hideUsageText:"=",hidePeriodText:"=",hideMeter:"=",allowLauncher:"=",useSmallSpacing:"=",usePercentText:"="},restrict:"E",templateUrl:"components/accountInfo/accountInfo.html",controller:"AccountInfoCtrl"}}).controller("AccountInfoCtrl",["$scope","accounting","spTranslate","settingsRepository","DataScaling","globals","SPEEDIFY_STATES",function(r,o,a,t,c,e,n){r.showingEmail=function(){return!o.isAutoAccount&&!0!==r.hideEmail},r.getEmail=function(){return r.currentState===n.LOGGED_OUT?a.instant("ACCOUNTPANE.LOGIN"):r.showingEmail()?o.email:o.getAccountTypeText()},r.isExpired=function(){return o.subscriptionEndDate&&e.getDiffDays(o.subscriptionEndDate)<0},r.getSubEnd=function(){var t=e.getDiffDays(o.subscriptionEndDate);return t<0?a.instant("ACCINFO.SUB.EXPIRED"):a.instant("ACCINFO.SUB.ENDTIME",{dayCount:t,dayCountDisplay:a.numToLocale(t)})},r.getUsageClasses=function(){var t=o.isAutoAccount&&r.usePercentText;return{"text-single":!t,"accountInfo-usage-text":t}},r.getPercentConsumed=function(){var t=o.bytesUsed/o.bytesAvail*100,e=Math.floor,t=(e=o.isDataReached()||t<1?Math.ceil:e)(t);return Math.min(100,Math.max(0,t))},r.getUsageText=function(){var t,e,n,s=o.bytesUsed,i=o.bytesAvail;return o.isAutoAccount&&r.usePercentText?(n=r.getPercentConsumed(),e=c.ScaleData(t=[s,i],2),Math.min(t[1],Math.max(0,t[1]-t[0]))<.99&&o.isDataReached(),n=a.numToLocale(n),a.instant("ACCINFO.USAGE.USAGEREMAINING",{percentConsumed:n,availableBytes:bytesToSize(o.bytesAvail)})):0<i?(e=c.ScaleData(t=[s,i],2),"<span class='accountInfo-usage-value'>"+a.numToLocale(t[0],0,1)+"</span><span class='accountInfo-usage-units'>"+e+"B</span> / <span class='accountInfo-usage-value'>"+a.numToLocale(t[1],0,1)+"</span><span class='accountInfo-usage-units'>"+e+"B</span>"):-1==i?(e=c.ScaleData(t=[s],2),r.showingEmail()?"<span class='accountInfo-usage-value'>"+a.numToLocale(t[0],0,1)+"</span><span class='accountInfo-usage-units'>"+e+"B</span> / <span class='accountInfo-usage-value'>"+a.instant("ACCINFO.USAGE.UNLIMITED")+"</span>":(n="<span class='accountInfo-usage-value'>"+a.numToLocale(t[0],0,1)+"</span><span class='accountInfo-usage-units'>"+e+"B</span>",a.instant("ACCINFO.USAGE.UNLIMITEDWITHUSAGE",{usedBytes:n}))):a.instant("ACCINFO.USAGE.UNSUPPORTED")},r.getUsageTitle=function(){return o.usageUsedText},r.getPeriodEndText=function(){var t=o.periodEnd,t=e.getDiffDays(t);return a.instant("ACCINFO.PERIOD.ENDTIME",{dayCount:t,dayCountDisplay:a.numToLocale(t)})},r.getMeterBarStyle=function(){return{width:100*o.usedPercent+"%"}},r.isUsageFull=function(){return 1<=o.usedPercent},r.showEmail=function(){return o.hasData()&&!0!==r.hideEmail},r.showSubEnd=function(){return!(!o.hasData()||!0===r.hideSubEnd||!o.subscriptionEndDate)&&e.getDiffDays(o.subscriptionEndDate)<=30},r.showUsageText=function(){return o.hasData()&&"true"!=r.hideUsageText&&!r.isExpired()},r.showPeriodEndText=function(){return o.hasData()&&!o.isUnlimited&&!0!==r.hidePeriodText&&!r.isExpired()},r.showMeter=function(){return o.hasData()&&!o.isUnlimited&&1!=r.hideMeter&&!r.isExpired()},r.launchAccountControl=function(){r.$emit("showAccountControl")},r.isClickable=function(){return r.allowLauncher},r.emailClick=function(){r.isClickable()&&(r.currentState===n.LOGGED_OUT?r.$emit("showRegisterLogin"):r.launchAccountControl())}}]),angular.module("speedifyUI.components").directive("positioned",function(){return{restrict:"A",scope:{positionString:"="},link:function(s,i,t){setTimeout(function(){var t,e,n=function(t,e){var n=i.hasClass("bubbleArrow");n||(t.top=t.top+15),i.css(t),n||(n=((t=i.parent().find(".bubbleArrow"))[0].getBoundingClientRect().left+.5*t[0].getBoundingClientRect().width-i[0].getBoundingClientRect().left)/i[0].getBoundingClientRect().width,n=Math.min(100,Math.max(0,Math.round(100*n))),t=(t[0].getBoundingClientRect().top+.5*t[0].getBoundingClientRect().height-i[0].getBoundingClientRect().top)/i[0].getBoundingClientRect().height,t=Math.min(100,Math.max(0,Math.round(100*t))),i.css({"-webkit-transform-origin":n+"% "+t+"%","transform-origin":n+"% "+t+"%"})),i.addClass("animated")}.bind(s);console.log("position set to "+s.positionString),void 0===s.positionString?(e=(t=$(this).parent()).find(".bubbleArrow"),t.hasClass("arrowTop")?this.position({my:"center top",at:"center bottom",of:e,collision:"fit",using:n}):t.hasClass("arrowBottom")?this.position({my:"center bottom",at:"center top",of:e,collision:"fit",using:n}):t.hasClass("arrowLeft")?this.position({my:"left center",at:"right center",of:e,collision:"fit",using:n}):t.hasClass("arrowRight")&&this.position({my:"right center",at:"left center",of:e,collision:"fit",using:n})):(t=s.positionString.indexOf(" "),e=$(s.positionString.substr(t+1)),0==s.positionString.indexOf("bottom")?this.position({my:"center top",at:"center bottom",of:e,collision:"fit",using:n}):0==s.positionString.indexOf("top")?this.position({my:"center bottom",at:"center top",of:e,collision:"fit",using:n}):0==s.positionString.indexOf("left")?this.position({my:"right center",at:"left center",of:e,collision:"fit",using:n}):0==s.positionString.indexOf("right")&&this.position({my:"left center",at:"right center",of:e,collision:"fit",using:n}))}.bind(i),50)}}}).directive("bubbleAction",function(){return{scope:{header:"=",message:"=",actionText:"=",position:"=",actionEvent:"&",dismissEvent:"&",content:"="},restrict:"E",templateUrl:"components/bubble-action/bubble-action.html",controller:"BubbleActionCtrl"}}).controller("BubbleActionCtrl",["$scope",function(e){e.unescape=function(t){return unescape(t)},e.getArrowClass=function(){var t={ownContent:"undefined"!=e.content};return void 0===e.position||0==e.position.indexOf("bottom")?t.arrowTop=!0:0==e.position.indexOf("top")?t.arrowBottom=!0:0==e.position.indexOf("left")?t.arrowRight=!0:0==e.position.indexOf("right")&&(t.arrowLeft=!0),t},e.actionClicked=function(){"undefined"==e.content&&e.actionEvent()},e.dismissClicked=function(){"undefined"==e.content&&e.dismissEvent()}}]),angular.module("speedifyUI.components").directive("captivePortalPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",currentState:"=",currentNetwork:"="},restrict:"E",templateUrl:"components/captive-portal-popup/captive-portal-popup.html",controller:"CaptivePortalPopupCtrl"}}).controller("CaptivePortalPopupCtrl",["$scope","speedifyAPI","spTranslate","$timeout","globals","matomo",function(n,t,e,s,i,r){n.smallScreen=i.smallScreen,n.willClose=!1,n.showChild=!1,n.dismiss=function(){n.willClose=!0,r.trackEvent("captive-portal","close"),s(function(){i.safeApply(n.$root,function(){n.willClose=!1,n.$emit("captivePortalPopupComplete")})},300)},n.$watch("show",function(t,e){s(function(){i.safeApply(n.$root,function(){n.showChild=t})},1150)}),n.connectToCP=function(){r.trackEvent("captive-portal","connect"),t.set_cplogin_enable(!0,n.currentNetwork),n.dismiss()},n.getTitle=function(){return e.instant("CAPTIVEPORTALPOPUP.TITLE",{SSID:"Wi-Fi"})}}]),angular.module("speedifyUI.components").directive("cellWizard",function(){return{scope:{show:"=",wizardNetwork:"="},restrict:"E",templateUrl:"components/cell-wizard/cell-wizard.html",controller:"CellWizardCtrl"}}).controller("CellWizardCtrl",["$scope","speedifyAPI","settingsRepository","$timeout","globals","DataScaling","spTranslate","networkAdapterFunctions","matomo",function(n,t,e,s,i,r,o,a,c){n.defaultCellularDailyLimit=2e8,n.defaultCellularMonthlyLimit=2e9,n.smallScreen=i.smallScreen,n.step=0,n.$on("closeCellWizard",function(){n.dismiss()}),n.dismiss=function(){n.willClose=!0,c.trackEvent("wizard-cell","close"),s(function(){i.safeApply(n.$root,function(){n.show=!1,n.willClose=!1})},300)},n.yes=function(){c.trackEvent("wizard-cell","apply-caps"),n.wizardNetwork&&n.wizardNetwork.adapter&&n.wizardNetwork.adapter.guid&&(t.set_network_daily_limit(n.wizardNetwork.adapter.guid,n.defaultCellularDailyLimit),t.set_network_limit(n.wizardNetwork.adapter.guid,n.defaultCellularMonthlyLimit,0)),n.step=1},n.no=function(){c.trackEvent("wizard-cell","no-caps"),n.continue()},n.getMainSubs=function(){var t={};return t.adapterName=a.GetNetworkDisplayName(n.wizardNetwork.adapter),t},n.getDailyText=function(){var t=[n.defaultCellularDailyLimit],e=r.ScaleData(t,2);return o.numToLocale(t[0])+" "+e+"B"},n.getMonthlyText=function(){var t=[n.defaultCellularMonthlyLimit],e=r.ScaleData(t,2);return o.numToLocale(t[0])+" "+e+"B"},n.getButtonTextSize=function(){if(n.largeLanguages=["de","es","ro","ru"],-1<n.largeLanguages.indexOf(e.vendor_local_settings.language))return"newpop-small-button-text"},n.continue=function(){n.willClose=!0,e.vendor_local_settings.shown_secured_bubble=!0,t.set_vendor_local_settings(e.vendor_local_settings),s(function(){i.safeApply(n.$root,function(){n.$emit("extendedIntroComplete",{step:2,closeWizard:!0,guid:n.wizardNetwork.adapter.guid})})},300)}}]),angular.module("speedifyUI.components").directive("confettiPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/confetti-popup/confetti-popup.html",controller:"ConfettiPopupCtrl"}}).controller("ConfettiPopupCtrl",["$scope","spTranslate","platform","$timeout","settingsRepository","globals","debug","STAT_PERIODS","matomo",function(n,s,e,i,r,o,a,c,l){n.smallScreen=o.smallScreen,n.willClose=!1,n.showChild=!1,n.showShareButton=!0,n.weeklyStats=null,n.popupImage="",n.popupTitle="",n.popupDesc="",n.popupShare="",n.init=function(){n.evaluateWeeklyStats()},n.evaluateWeeklyStats=function(){var t,e;n.popupImage="components/settings-statistics/img/icon-speed-bondedtime.png",n.popupTitle=s.instant("WEEKLYSTATSPOPUP.DEFAULTTITLE"),n.popupDesc=s.instant("WEEKLYSTATSPOPUP.DEFAULTDESC"),void 0!==r&&void 0!==r.vendor_local_settings&&r.hasSetVendorLocalSettings&&void 0!==r.vendor_local_settings.weeklyStreamingStats?null!=r.vendor_local_settings.weeklyStreamingStats[c.WEEK]&&null!=r.vendor_local_settings.weeklyStreamingStats[c.WEEK].stats&&(n.weeklyStats=r.vendor_local_settings.weeklyStreamingStats[c.WEEK].stats,0<n.getWeeklySaves()?(t=n.getWeeklySaves(),e=n.getWeeklyCompletedStreams(),n.popupImage="components/settings-statistics/img/icon-stream-completed.png",n.popupTitle=s.instant("WEEKLYSTATSPOPUP.STREAMSAVETITLE",{saved:t}),n.popupDesc=s.instant("WEEKLYSTATSPOPUP.STREAMSAVEDESC",{streams:e,saved:t}),n.popupShare=s.instant("WEEKLYSTATSPOPUP.STREAMSAVESHARE",{streams:e,saved:t})):n.showShareButton=!1):(a.log("Unable to show weekly stats popup. Session stats unavailable"),n.showShareButton=!1)},n.getWeeklySaves=function(){return null!=n.weeklyStats?(n.weeklyStats.total_failover_saves||0)+(n.weeklyStats.total_redundant_saves||0)+(n.weeklyStats.total_speed_saves||0):0},n.getWeeklyCompletedStreams=function(){if(null!=n.weeklyStats)return n.weeklyStats.total_streams},n.share=function(){l.trackEvent("popup-stats","share");var t={shareUrl:"https://speedify.com/spotlight/spread-the-word/",referralText:n.popupShare+" ",instructionText:""};e.share(t)},n.dismissWeeklyStatsPopup=function(){n.willClose=!0,l.trackEvent("popup-stats","close"),i(function(){o.safeApply(n.$root,function(){n.willClose=!1,n.$emit("confettiPopupComplete")})},300)},n.$watch("show",function(t,e){i(function(){o.safeApply(n.$root,function(){n.showChild=t})},150)}),n.init()}]),angular.module("speedifyUI.components").directive("connectStartupPermissionPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",isIntro:"="},restrict:"E",templateUrl:"components/connect-startup-permission-popup/connect-startup-permission-popup.html",controller:"ConnectStartupPermissionCtrl"}}).controller("ConnectStartupPermissionCtrl",["$scope","speedifyAPI","spTranslate","platform","$timeout","settingsRepository","globals","matomo",function(n,t,e,s,i,r,o,a){n.smallScreen=o.smallScreen,n.getTitle=function(){return e.instant("CONNECTSTARTUPERMISSION.TITLE",{boldPre:"<span class='bold'>",boldPost:"</span>"})},n.dismiss=function(){a.trackEvent("popup-connect-startup","close"),r&&r.vendor_local_settings&&(r.vendor_local_settings.shown_connect_startup=!0,t.set_vendor_local_settings(r.vendor_local_settings)),i(function(){o.safeApply(n.$root,function(){n.$emit("connectStartupPopUpComplete")})},300)},n.$watch("show",function(t,e){i(function(){o.safeApply(n.$root,function(){n.showChild=t})},150)}),n.runConnectStartupPermission=function(){r&&r.connection_settings&&(console.log("Running connect at startup"),r.connection_settings.startup_connect=!r.connection_settings.startup_connect,a.trackEvent("popup-connect-startup","enabled",r.connection_settings.startup_connect),t.set_startup_connect(r.connection_settings.startup_connect)),n.dismiss()},n.isMobile=function(){return s.identity.mobile}}]),angular.module("speedifyUI.components").directive("cover",function(){return{scope:{show:"=",onClick:"&",full:"=",shade:"=",color:"=",takesClicks:"=",message:"="},link:function(t,e,n){t.element=e},restrict:"E",templateUrl:"components/cover/cover.html",controller:"CoverCtrl"}}).controller("CoverCtrl",["$scope","platform",function(n,t){n.closestPopin=null,n.getStyle=function(){var t=n.element.offset(),e=(n.full&&(n.closestPopin||(n.closestPopin=n.element.closest(".pc-child-scroller")),n.closestPopin)&&0<n.closestPopin.length&&(t=n.closestPopin.offset()),{});return n.show&&n.full&&(e.left="-"+t.left+"px",e.top="-"+t.top+"px",e.width=window.innerWidth,e.height=window.innerHeight),e},n.isMobile=function(){return t.identity.mobile}}]),angular.module("speedifyUI.components").directive("dashboard",function(){return{restrict:"E",templateUrl:"components/dashboard/dashboard.html",controller:"DashboardCtrl"}}).controller("DashboardCtrl",["$scope","globals","settingsRepository","spTranslate","matomo","$rootScope","speedifyAPI","bypass","$timeout","pairAndShare","platform","colorSave","NETWORK_SHARE_STATES","debug","NETWORK_TUNNEL_STATUS","SPEEDIFY_STATES","audioPlayer",function(n,t,e,s,i,r,o,a,c,l,d,u,p,g,m,h,v){n.shouldSplit=t.shouldSplit,n.switchVal="suggestions",n.resetClass=!1,n.suggestedBypassList=[],n.pairAndShare=l,n.isSelected=function(t){if(n.switchVal===t)return"darkText"},n.getColor=function(t){return u.getColorForGuid(t.uuid)},n.resetSwitch=function(){if(n.resetClass)return"darkText40"},n.configurePasDevice=function(t){v.playSound("audio/general-tap.mp3",1,!0),n.managePasDevice(t)},n.selected=function(t){n.switchVal=t,n.getSelectedValue()},n.getSelectedValue=function(){n.activeSelection=n.streamingStats.streams.filter(function(t){return t.active===("active"===n.switchVal)})},n.goToBypassPane=function(){n.resetClass=!1,i.trackEvent("dashboard","go-to-bypass-pane"),n.handleToggle({navId:"streamingBypass",header:s.instant("SETTINGSPANE.STREAMINGBYPASS.HEADER"),controllerName:"StreamingBypass",backButtonTitle:s.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"})},n.getBypassCountString=function(){return s.instant("SETTINGSPANE.STREAMINGBYPASS.MANAGE",{count:a.count()})},n.hasSuggestedBypassOptions=function(){return!!e.vendor_local_settings.suggested_bypass&&0<n.suggestedBypassList.length},n.updateSuggestedBypassList=function(){var t=Math.max(a.getSuggestedBypassList().length-3,0);n.suggestedBypassList=a.getSuggestedBypassList().slice(t)},n.getPasDashIcon=function(){return l.getPasIcon(n.currentState)},n.bypassEnabled=function(){return a.suggestionEnabled()},n.allowBypass=function(t,e){null!=t&&(n.selectedIndex=e,a.allow(t),i.trackEvent("streaming-bypass-dashboard",t,"true"),v.playSound("audio/general-tap.mp3",1,!0),c(function(){n.selectedIndex=null,n.suggestedBypassList.splice(e,1)},300))},n.getActivePairAndShareDevices=function(){return s.instant("STREAMING.ACTIVE",{active:n.activePairedDevices().length})},n.goToAndActivatePas=function(){l.receivingIsEnabled()||(i.trackEvent("dashboard","pas-permission",!0),o.set_networksharing_client_enabled(!0),o.set_networksharing_host_enabled(!0)),n.sendToPas()},n.discoveredDevices=function(){return l.availableShares},n.getDiscoveredTitle=function(){return s.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.NEWPEERTITLE",{count:n.discoveredDevices().length})},n.sendToPas=function(){n.sendToPasSettings()},n.getConnectedStateClass=function(){return n.currentState===h.CONNECTED?"noPairContainer":"noPairContainerDisconnected"},n.activePairedDevices=function(){return!l.pairedDevices||n.currentState!=h.CONNECTED?[]:l.pairedDevices.filter(t=>{if(t.peer_as_client&&t.peer_as_client.tunnelStatus==m.ACTIVE||t.peer_as_host&&t.peer_as_host.tunnelStatus==m.ACTIVE){t=l.getDeviceAction(t);if(t.isHosting||t.isClient)return!0}return!1})},n.getDeviceSettingTitle=function(t){return l.getPeerStatusTitles(t)},n.getShareIcon=function(t){if(t)return(t=l.getDeviceAction(t)).isHosting&&t.isClient?"components/dashboard/img/pasFull.png":t.isHosting?"components/dashboard/img/pasSharing.png":"components/dashboard/img/pasReceiving.png"},n.showDashPas=function(){return d.features.networkShareEnabled&&!l.isLocked()},o.register("report_vendor_local_settings",n.updateSuggestedBypassList),n.$on("$destroy",function(){o.unregister("report_vendor_local_settings",n.updateSuggestedBypassList)}),r.$on("onHide",function(){n.resetClass=!0}.bind(this))}]),angular.module("speedifyUI.components").directive("devTools",function(){return{scope:{userLocation:"="},restrict:"E",templateUrl:"components/devtools/devtools.html",controller:"DevToolsCtrl"}}).controller("DevToolsCtrl",["$scope","speedifyAPI","globals","$window","settingsRepository","platform","spTranslate","TOGGLE_STATE","DataScaling","urlArgs","$timeout","simulateTunnelData","sentry","matomo","disconnectNotificationFunctions",function(e,n,t,s,i,r,o,a,c,l,d,u,p,g,m){e.settingsRepository=i,e.pendingDeviceNotifications=[],e.lastDisconnectReason={},n.request_user_location(),n.request_last_disconnect_reason(),e.getPendingNotifications=function(){e.supportsPendingNotifications()&&m.getPendingNotificationRequests()},e.handleDisconnectEvent=function(t){e.lastDisconnectReason=t},e.getDisconnectReason=function(){var t;return e.lastDisconnectReason?(t=e.lastDisconnectReason.disconnectReason,e.lastDisconnectReason.sessionEnd&&(t+=" on "+new Date(1e3*e.lastDisconnectReason.sessionEnd).toUTCString()),e.lastDisconnectReason.sessionLength&&(t+=", session length "+o.numToLocale(e.lastDisconnectReason.sessionLength/60,0,2)+"m"),t):""},e.onDevServerChange=function(){return t.userInitiatedConnect=!0,1==i.dev_settings.use_dev_server?i.dev_settings.use_dev_server=!1:i.dev_settings.use_dev_server=!0,g.resetTracking(),n.request_vendor_remote_settings(),n.set_dev_devserver(i.dev_settings.use_dev_server)},e.onDevLatestChange=function(){return t.userInitiatedConnect=!0,1==i.dev_settings.request_latest?i.dev_settings.request_latest=!1:i.dev_settings.request_latest=!0,g.resetTracking(),n.request_vendor_remote_settings(),n.set_dev_latest(i.dev_settings.request_latest)},e.onJumboPackets=function(){return 1==i.connection_settings.jumbo_packets?i.connection_settings.jumbo_packets=!1:i.connection_settings.jumbo_packets=!0,n.set_dev_jumbo_packets(i.connection_settings.jumbo_packets)},e.onDisableRetransmit=function(){return 1==i.connection_settings.retransmission_enabled?i.connection_settings.retransmission_enabled=!1:i.connection_settings.retransmission_enabled=!0,n.set_global_retransmission(i.connection_settings.retransmission_enabled)},e.onKeepMoreLogs=function(){return 1==i.dev_settings.keep_more_logs?i.dev_settings.keep_more_logs=!1:i.dev_settings.keep_more_logs=!0,n.set_dev_keep_more_logs(i.dev_settings.keep_more_logs)},e.onShowScreenshotMode=function(){t.inScreenshotMode=!t.inScreenshotMode,!0===t.inScreenshotMode?u.simulate(t.networks):u.unsimulate()},e.onAutomaticPriority=function(){return 1==i.connection_settings.enable_automatic_priority?i.connection_settings.enable_automatic_priority=!1:i.connection_settings.enable_automatic_priority=!0,n.set_enable_automatic_connection_priority(i.connection_settings.enable_automatic_priority)},e.getAutomaticPriority=function(){return!0===i.connection_settings.enable_automatic_priority?a.ON:a.OFF},e.onNwFwDisable=function(){return 1==i.dev_settings.dev_ios_disable_nwfw?i.dev_settings.dev_ios_disable_nwfw=!1:i.dev_settings.dev_ios_disable_nwfw=!0,n.set_dev_nwfw_disable(i.dev_settings.dev_ios_disable_nwfw)},e.getNwFwDisable=function(){return!0===i.dev_settings.dev_ios_disable_nwfw?a.ON:a.OFF},e.showNwFwDisable=function(){return"ios"===r.platformClass},e.getKeepMoreLogsState=function(){return!0===i.dev_settings.keep_more_logs?a.ON:a.OFF},e.getDevServerState=function(){return!0===i.dev_settings.use_dev_server?a.ON:a.OFF},e.getDevLatestState=function(){return!0===i.dev_settings.request_latest?a.ON:a.OFF},e.getJumboPacketState=function(){return!0===i.connection_settings.jumbo_packets?a.ON:a.OFF},e.getDisableRetransmitState=function(){return!0===i.connection_settings.retransmission_enabled?a.OFF:a.ON},e.getScreenshotModeState=function(){return!0===t.inScreenshotMode?a.ON:a.OFF},e.getLimitSingleConnState=function(){return!0===i.dev_settings.limit_single_connections?a.ON:a.OFF},e.hasLocation=function(){return!!(e.userLocation&&e.userLocation.latitude&&e.userLocation.longitude)},e.hasGeoipLocation=function(){return!!(e.userLocation&&e.userLocation.geoipLocation&&e.userLocation.geoipLocation.latitude&&e.userLocation.geoipLocation.longitude)},e.hasSecondaryLocation=function(){return!!(e.userLocation&&e.userLocation.secondaryLocation&&e.userLocation.secondaryLocation.latitude&&e.userLocation.secondaryLocation.longitude)},e.usedLocationString=function(){return e.userLocation?e.getPresentationLocation(e.userLocation):""},e.geoipLocationString=function(){return e.userLocation?e.getPresentationLocation(e.userLocation.geoipLocation):""},e.secondaryLocationString=function(){return e.userLocation?e.getPresentationLocation(e.userLocation.secondaryLocation):""},e.locationSource=function(t){if(t&&t.locationSource)switch(t.locationSource){case"geoip":return"GeoIP Server";case"geoipCache":return"Cached GeoIP";case"directory":return"Directory Server";default:return e.userLocation.secondaryLocation.locationSource}return""},e.geoipLocationSource=function(){if(e.userLocation)return e.locationSource(e.userLocation.geoipLocation)},e.secondaryLocationSource=function(){if(e.userLocation)return e.locationSource(e.userLocation.secondaryLocation)},e.usedLocationSource=function(){if(e.userLocation)return e.locationSource(e.userLocation)},e.getPresentationLocation=function(t){return t&&t.latitude&&t.longitude?"Lat : "+e.getPresentationCoordinate(t.latitude)+", Lon : "+e.getPresentationCoordinate(t.longitude):""},e.getPresentationCoordinate=function(t){return Math.floor(100*t)/100},e.secondaryOverflowValues=[1,2,3,4,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,125,150,175,200,250,300,350,400,500,600,700,800,900,1e3],e.secondaryOverflowOptions=[],0<i.connection_settings.connection_secondary_speed_activation&&e.secondaryOverflowValues.indexOf(i.connection_settings.connection_secondary_speed_activation)<0&&(S=[1e6*(v={val:i.connection_settings.connection_secondary_speed_activation}).val],T=c.SingleScale(S,2),v.name=o.numToLocale(S[0])+T+"bps",e.secondaryOverflowOptions.push(v));for(var h=0;h<e.secondaryOverflowValues.length;h++){var v,S=[1e6*(v={val:e.secondaryOverflowValues[h]}).val],T=c.SingleScale(S,2);v.name=o.numToLocale(S[0])+T+"bps",e.secondaryOverflowOptions.push(v)}e.getSecondaryOverflowText=function(){var t=[1e6*i.connection_settings.connection_secondary_speed_activation],e=c.ScaleData(t,2);return"<span class='text-single'><span class='value total'>"+o.numToLocale(t[0])+"</span>"+e+"bps</span>"},e.preSecondaryOverflowChanged=function(t){},e.secondaryOverflowChanged=function(t){i.connection_settings.connection_secondary_speed_activation=t,n.set_overflow_threshold(i.connection_settings.connection_secondary_speed_activation)},e.getRefSourceText=function(){return l.refsObtained?l.refs.source:""},e.getRefCampaignText=function(){return l.refsObtained?l.refs.campaign:""},e.getThermalState=function(){return t.thermalState},e.doCrash=function(){n.dev_crash()},e.doUIHostCrash=function(){r.doUIHostCrash()},e.doUIJavascriptCaughtException=function(){p.report(new Error("CrashOnPurpose: caught error"))},e.doUIJavascriptUncaughtException=function(){CrashOnPurpose()},e.hasPrivateIPControl=function(){return r.features.privateIPControl},e.hasOnDemand=function(){return r.features.onDemand},e.isPasHost=function(){return r.features.networkShareEnabled&&r.features.networkShareHost},e.getExcludePrivateIP=function(){return!0===i.connection_settings.exclude_private_ip?a.ON:a.OFF},e.getOnDemandSetting=function(){return!0===i.privacy_settings.ondemand?a.ON:a.OFF},e.onExcludePrivateIP=function(){return 1==i.connection_settings.exclude_private_ip?i.connection_settings.exclude_private_ip=!1:i.connection_settings.exclude_private_ip=!0,n.set_connection_exclude_private_ip(i.connection_settings.exclude_private_ip)},e.onSetOnDemand=function(){return 1==i.privacy_settings.ondemand?i.privacy_settings.ondemand=!1:i.privacy_settings.ondemand=!0,n.set_ios_ondemand(i.privacy_settings.ondemand)},e.setupSettingsAccordion=function(){$("#dev-settings-list").accordion({heightStyle:"content",header:"> div.settings-header",collapsible:!0})},$("#dev-settings-list").on("accordionbeforeactivate",function(t,e){t&&t.originalEvent&&"keydown"==t.originalEvent.type&&t.preventDefault()}),e.hasCountryCode=function(){return e.userLocation&&e.userLocation.countryCode},e.getCountryCode=function(){return e.userLocation&&e.userLocation.countryCode?e.userLocation.countryCode:""},e.getCountryString=function(){return e.userLocation&&e.userLocation.countryCode?o.instant("LOCATION.COUNTRY."+e.userLocation.countryCode.toLowerCase()):""},e.showGenerateLogsInfoBanner=function(){testAccountingMessage([{id:Math.floor(1e4*Math.random()).toString(),origin_date:78373873,platform:r.platformClass,type:"text-banner",topic:"account",expires:!1,expire_date:0,message:{subtitle:"Please tap to generate logs",title:"There seems to be an issue on your account",show_local_notification:!0,level:"error",link_url:"https://speedify.com/in-app/generate-logs",link_text:"Generate Logs"}}]),e.$emit("closesettings",{closeSettings:!0})},e.showAccountingErrorBanner=function(){testAccountingMessage([{id:Math.floor(1e4*Math.random()).toString(),origin_date:78373873,platform:r.platformClass,type:"text-banner",topic:"account",expires:!0,expire_date:1637440046e3,message:{subtitle:"Please check your iTunes account",title:"Your payment method has expired",show_local_notification:!0,level:"error",link_url:"https://www.apple.com",link_text:"iTunes Account"}}]),e.$emit("closesettings",{closeSettings:!0})},e.showMarketingInfoBanner=function(){testAccountingMessage([{id:Math.floor(1e4*Math.random()).toString(),origin_date:78373873,platform:r.platformClass,type:"text-banner",topic:"marketing",expires:!1,expire_date:1637440046e3,message:{subtitle:"Enjoy the new native app available on the Apple App Store",title:"New macOS version now available!",show_local_notification:!0,level:"info",link_url:"https://apps.apple.com/us/app/speedify/id999025824",link_text:"Apple App Store"}}]),e.$emit("closesettings",{closeSettings:!0})},e.showAccountingWarningBanner=function(){testAccountingMessage([{id:Math.floor(1e4*Math.random()).toString(),origin_date:78373873,platform:r.platformClass,type:"text-banner",topic:"account",expires:!1,expire_date:1637440046e3,message:{subtitle:"Tap this banner to renew your subscription",title:"Your subscription is about to expire!",show_local_notification:!0,level:"warning",link_url:"https://speedify.com/in-app/store",link_text:""}}]),e.$emit("closesettings",{closeSettings:!0})},e.uidShowStore=function(){showStore()},e.uidShowIntro=function(){showIntro()},e.uidTestIntro=function(){testIntro()},e.uidChangePolicy=function(){testChangePolicy()},e.uidTestPermissions=function(){testPermissions()},e.uidTestGoForth=function(){testGoForth()},e.uidTestSchedulingNotification=function(){testSchedulingNotification()},e.uidTestCaptivePortal=function(){testCaptivePortal()},e.showSocialMediaPopup=function(){testSocialMediaPopup(),e.$emit("closesettings",{closeSettings:!0})},e.uidTestNotifications=function(){testPushPermission()},e.uidTestStreamingBypass=function(){testStreamingBypass()},e.uidTestSalePopup=function(){testSalePopup()},e.uidToggleTransportLock=function(){testSettingLock()},e.uidNag50=function(){reportNag("usage50")},e.uidNag75=function(){reportNag("usage75")},e.uidNag100=function(){reportNag("usage100")},e.uidNagExpired=function(){reportNag("expired")},e.testDisconnectNotification=function(){m.scheduleTestNotification()},e.showNotificationNoActions=function(t){r.showNotification({id:"noActionsNoImage",replaceCurrent:t,title:"Test Notification",caption:"This is a manual test notification without actions."})},e.showNotificationWithActions=function(t){r.showNotification({id:"withActionsNoImage",replaceCurrent:t,title:"Test Notification w/Actions",caption:"This is a manual test notification with actions.",actions:[{text:"Yes",cb:'ShowAlertPopup({msg: "Clicked Yes", groupId: "notificationTest"});'},{text:"No",cb:'ShowAlertPopup({msg: "Clicked No", groupId: "notificationTest"});'}]})},e.showNotificationNoActionsWithImage=function(t){r.showNotification({id:"noActionsWithImage",replaceCurrent:t,title:"Test Image Notification",caption:"This is a manual test notification with image and without actions.",image:"img/shareIcon.png"})},e.showNotificationWithActionsWithImage=function(t){r.showNotification({id:"withActionsWithImage",replaceCurrent:t,title:" Image Notification w/Actions",caption:"This is a manual test notification with image and actions.",image:"img/shareIcon.png",actions:[{text:"Yes",cb:'ShowAlertPopup({msg: "Clicked Yes", groupId: "notificationTest"});'},{text:"No",cb:'ShowAlertPopup({msg: "Clicked No", groupId: "notificationTest"});'}]})},e.showNotificationOverrideActivate=function(t){r.showNotification({id:"overrideActivate",replaceCurrent:t,title:"Test Activate Action",caption:"This is a manual test notification with an overridden activate action.",activate:'ShowAlertPopup({msg: "Overridden Activate Action", groupId: "notificationTest"});'})},e.hideNotificationNoActions=function(t){r.hideNotification("noActionsNoImage")},e.hideNotificationWithActions=function(t){r.hideNotification("withActionsNoImage")},e.hideNotificationNoActionsWithImage=function(t){r.hideNotification("noActionsWithImage")},e.hideNotificationWithActionsWithImage=function(t){r.hideNotification("withActionsWithImage")},e.hideNotificationOverrideActivate=function(t){r.hideNotification("overrideActivate")},e.clearNotifications=function(){r.clearNotifications()},e.getLocalProxyDenyListMode=function(){return"denylist"===i.localproxy_settings.matchMode?a.ON:a.OFF},e.onLocalProxyDenyListMode=function(){"denylist"===i.localproxy_settings.matchMode?i.localproxy_settings.matchMode="allowlist":i.localproxy_settings.matchMode="denylist",n.set_localproxy_matchmode(i.localproxy_settings.matchMode)},e.supportsPendingNotifications=function(){return r.features.supportsPendingNotifications},e.getPendingNotifications(),e.onNotificationsUpdate=function(t){e.pendingDeviceNotifications=t,console.log(e.pendingDeviceNotifications.length),console.log(e.pendingDeviceNotifications[0])},e.onMessagingTestSuiteChange=function(){return 1==i.vendor_local_settings.use_messaging_test_suite?i.vendor_local_settings.use_messaging_test_suite=!1:i.vendor_local_settings.use_messaging_test_suite=!0,n.set_vendor_local_settings(i.vendor_local_settings)},e.getMessagingTestSuite=function(){return!0===i.vendor_local_settings.use_messaging_test_suite?a.ON:a.OFF},e.toggleUlpReportEachMinute=function(){var t=60===i.connection_settings.ulp_report_interval_seconds?0:60;return n.set_ulp_report_interval_seconds(t)},e.getUlpReportEachMinuteState=function(){return!0==(60===i.connection_settings.ulp_report_interval_seconds)?a.ON:a.OFF},e.getTetheredTtlState=function(){return i.network_sharing_settings&&!0===i.network_sharing_settings.tethered_ttl?a.ON:a.OFF},e.toggleTetheredTtlState=function(){var t=!(i.network_sharing_settings&&!0===i.network_sharing_settings.tethered_ttl);return n.set_networksharing_tethered_ttl(t)},n.register("report_disconnect_reason",e.handleDisconnectEvent),e.$on("$destroy",function(){n.unregister("report_disconnect_reason",e.handleDisconnectEvent)})}]),angular.module("speedifyUI.components").directive("desktopStoreNags",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/desktop-store-nags/desktop-store-nags.html",controller:"DesktopStoreNagsCtrl"}}).controller("DesktopStoreNagsCtrl",["$scope","$timeout","globals","platform","accounting","spTranslate","matomo",function(n,s,i,t,e,r,o){n.willClose=!1,n.showChild=!1,n.dismiss=function(){n.willClose=!0,o.trackEvent("nag-store-desktop","close"),s(function(){i.safeApply(n.$root,function(){n.ok(),n.show=!1,n.willClose=!1})},300)},n.$on("closeNag",function(){n.dismiss()}),n.$watch("show",function(t,e){s(function(){i.safeApply(n.$root,function(){n.showChild=t})},150)}),n.sendToStore=function(){n.$emit("closeNag"),o.trackEvent("nag-store-desktop","store-open"),i.sentToStore=!0,t.features.nativePurchase?n.$emit("showUpgrade"):(t.windowOpenExternal(o.appendTracking(branding.url_settings.store_url,o.Screen.Nag,n.screenName),!0),purchaseComplete())},n.doSignIn=function(){o.trackEvent("nag-store-desktop","sign-in"),n.$emit("showRegisterLogin"),n.$emit("closeNag")},n.getPeriodEndText=function(){var t=e.periodEnd,t=i.getDiffDays(t);return r.instant("DESKTOPSTORENAGS.NEWDATA",{dayCount:t,dayCountDisplay:r.numToLocale(t)})}}]),angular.module("speedifyUI.components").directive("disconnectPrompt",function(){return{scope:{dashboard:"=",news:"=",streams:"="},restrict:"E",templateUrl:"components/disconnect-prompt/disconnect-prompt.html",controller:"DisconnectPrompt"}}).controller("DisconnectPrompt",["$scope","platform","matomo","settingsRepository","speedifyAPI","externalLinks","accounting","$rootScope","spTranslate","debug","$timeout","testSpeed",function(n,s,i,e,r,t,o,a,c,l,d,u){n.hasStreamTest=!1,n.timeoutID=null,n.init=function(){i.trackPageView("dashboard/disconnect-prompt","disconnect-prompt"),2===u.currentTestType&&(n.hasStreamTest=!0,r.server_disconnect()),n.timeoutID&&clearTimeout(n.timeoutID),!0===n.hasActiveStreams()&&(n.timeoutID=setTimeout(n.dismiss,3e4))},n.hasActiveStreams=function(){var t;return!!n.streams&&(t=n.streams.filter(function(t){return t.active}),!n.hasStreamTest)&&0<t.length},n.getTomorrowsReconnectTimeInMinutes=function(){var t=new Date,e=t.getHours(),e=(2<=e&&t.setDate(t.getDate()+1),console.log(e),t.setHours(5),t.setMinutes(0),t.setMilliseconds(0),new Date);return(t.getTime()-e.getTime())/6e4},n.supportsReconnectLater=function(){return s.features.supportsReconnectLater},n.isDevUser=function(){return!(!o||!o.isDev)},n.options=[{delayTimeMinutes:5,title:"Reconnect in 5 minutes",icon:"reconnect-short",isDev:!0,analyticsDesc:"five-minutes"},{delayTimeMinutes:120,title:c.instant("DISCONNECTPROMPT.OPTIONS.SHORTCONNECT"),icon:"reconnect-short",isDev:!1,analyticsDesc:"two-hours"},{delayTimeMinutes:n.getTomorrowsReconnectTimeInMinutes(),title:c.instant("DISCONNECTPROMPT.OPTIONS.LONGCONNECT"),icon:"reconnect-long",isDev:!1,analyticsDesc:"tomorrow"}],n.getIcon=function(t){t="components/disconnect-prompt/images/"+t;return e.vendor_local_settings&&(e.vendor_local_settings.theme===e.theme.dark||e.vendor_local_settings.theme===e.theme.system&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(t+="-dark"),t+".png"},n.reconnect=function(){i.trackEvent("disconnect-prompt","reconnect","server"),r.server_disconnect(),d(function(){r.server_auto_connect("ignorelast")},1e3),n.dismiss()},n.reconnectAfterDelay=function(t,e){i.trackEvent("disconnect-prompt","reconnect",e),n.hasActiveStreams()&&r.server_disconnect();e=6e4*t;s.delayReconnect(e),a.$emit("reconnectAfterDelay",{delay:e}),n.dismiss()},n.launchSupport=function(){i.trackEvent("disconnect-prompt","get-help"),t.Support(i.Screen.Settings)},n.stayConnected=function(){i.trackEvent("disconnect-prompt","stayConnected"),n.dismiss()},n.stayDisconnected=function(){l.log("Staying disconnected"),i.trackEvent("disconnect-prompt","disconnect"),r.server_disconnect(),n.dismiss()},n.dismiss=function(){n.timeoutID&&(clearTimeout(n.timeoutID),n.timeoutID=null),d(function(){n.$emit("disconnectPromptComplete")},1e3)},n.init()}]),angular.module("speedifyUI.components").directive("dropdown",function(){return{scope:{text:"=",model:"=",options:"=",changeStart:"&",changeEnd:"&"},restrict:"E",templateUrl:"components/dropdown/dropdown.html",controller:"DropdownCtrl"}}).controller("DropdownCtrl",["$scope","$timeout","$document","$window","globals","debug",function(t,e,n,s,i,r){t.openDropdown=function(){t.changeStart({value:t.model})},t.onChange=function(){t.changeEnd({value:t.model})}}]),angular.module("speedifyUI.components").directive("errorPane",function(){return{scope:{connected:"=",errorMessage:"="},restrict:"E",templateUrl:"components/error/error.html",controller:"ErrorCtrl"}}).controller("ErrorCtrl",["$scope","spTranslate",function(t,e){t.getErrorText=function(){return t.connected?t.errorMessage:e.instant("ERROR.SERVICEDOWN")}}]),angular.module("speedifyUI.components").directive("featureUpgradePopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/feature-upgrade-popup/feature-upgrade-popup.html",controller:"FeatureUpgradePopupCtrl"}}).controller("FeatureUpgradePopupCtrl",["$scope","platform","$timeout","userEventFunctions","globals","matomo","spTranslate","branding",function(n,t,s,e,i,r,o,a){n.smallScreen=i.smallScreen,n.willClose=!1,n.showChild=!1,n.features=[{img:"plus",desc:o.instant("LOCKSCREEN.POPUP.PLUS")},{img:"calls",desc:o.instant("LOCKSCREEN.POPUP.CALLS")},{img:"stream",desc:o.instant("LOCKSCREEN.POPUP.STREAM")},{img:"security",desc:o.instant("LOCKSCREEN.POPUP.SECURITY")},{img:"servers",desc:o.instant("LOCKSCREEN.POPUP.SERVERS")},{img:"unlimited",desc:o.instant("LOCKSCREEN.POPUP.UNLIMITED")}],n.sendToStore=function(){n.dismissPopup(),i.sentToStore=!0,r.trackEvent("feature-upgrade-popup","store-open"),t.features.nativePurchase?n.$emit("showUpgrade"):(t.windowOpenExternal(r.appendTracking(a.url_settings.store_url,r.Screen.Nag,n.screenName),!0),purchaseComplete())},n.getFeatureImage=function(t){return"components/feature-upgrade-popup/img/"+t+".png"},n.doSignIn=function(){n.$emit("showRegisterLogin"),n.dismissPopup()},n.dismissPopup=function(){n.willClose=!0,e.archiveMessage(n.newsMessage),s(function(){i.safeApply(n.$root,function(){n.willClose=!1,n.$emit("featureUpgradePopupComplete")})},300)},n.$watch("show",function(t,e){s(function(){i.safeApply(n.$root,function(){n.showChild=t})},150)})}]),angular.module("speedifyUI.components").directive("introSlides",function(){return{scope:{availableHeight:"=",connected:"=",onComplete:"&",sale:"="},restrict:"E",templateUrl:"components/intro/intro.html",controller:"IntroCtrl"}}).controller("IntroCtrl",["$scope","platform","speedifyAPI","globals","debug","externalLinks","$timeout","spTranslate","productListing","$rootScope","accounting","settingsRepository","LearnMore","permissions","TVFocusManager","policies","$mdComponentRegistry","$mdSidenav","urlArgs","purchasing","matomo","pairAndShare","audioPlayer",function(c,l,e,o,i,t,d,a,n,s,r,u,p,g,m,h,v,S,T,f,E,w,N){c.permissions=g,c.step=-1,c.hasVPNPermission=!1,c.alreadyCompleted=!1,c.alreadySeenGdprText=!1,c.alreadySeenPasText=!1,c.choseAlreadyHaveAccount=!1,c.show=!1,c.CLICKED_PERMISSION_SET_DELAY=3e3,c.productListing=n,c.lastActivePermission=-1,c.isLastSlide=!1,c.goToDashboard=!1,c.sliderHeight=440,c.yearlyCost="",c.handledRestart=!1,c.isDebugTest=!1,c.currentPurchasingProduct=null,c.previousSlide="",c.didSetIntroComplete=!1,c.helpOpen=!!v.get("help"),c.slides=["unlimited","connections","servers","security","devices","free"],c.handleSliderHeight=function(){o.smallScreen?c.sliderHeight=395:c.sliderHeight=440},c.handleSliderHeight(),c.$on("windowEventResize",function(t){c.handleSliderHeight()}),c.enablePas=function(t){c.alreadySeenPasText=!0,u.vendor_local_settings.alreadySeenPasText=c.alreadySeenPasText,t&&(E.trackEvent("intro","pas-permission",t),w.set_networksharing_host_enabled(t),w.set_networksharing_client_enabled(t)),N.playSound("audio/general-tap.mp3",1,!0),e.set_vendor_local_settings(u.vendor_local_settings);t=u.vendor_local_settings.completed_intro;(!0===c.goToDashboard||c.alreadyHasAccount()||t)&&c.setIntroComplete()},c.setIntroComplete=function(){u.vendor_local_settings&&(u.vendor_local_settings.intro_purchasing||!u.vendor_local_settings.alreadySeenPasText&&c.showPas())?c.step=-1:o.safeApply(c.$root,function(){c.onComplete(),c.choseAlreadyHaveAccount&&!c.alreadyHasAccount()||(u.vendor_local_settings.completed_intro=!0,e.set_vendor_local_settings(u.vendor_local_settings),e.set_allow_connect()),c.alreadyCompleted=!0,c.step=-1,c.introShowing=!1,u.vendor_local_settings.completed_intro||E.pushInitialPageView(),d(function(){o.safeApply(c.$root,function(){c.show=!1})}.bind(this),c.show?300:0)})},c.setIntroCompleteWithFreeVersion=function(){c.setIntroComplete()},c.continueAndCheckPermission=function(){E.trackIntroOpening(),c.okGdpr2(),l.features.hasVpnPermission&&!g.hasPermission("vpn")&&0<g.platformPermissions.length&&!1===c.isDebugTest?(E.trackEvent("intro","run-permission",JSON.stringify(g.getPermission("vpn"))),g.runPermissionWithID("vpn")):(c.alreadySeenGdprText=!0,E.trackEvent("intro/offer","offer"),c.alreadyHasAccount()&&c.setIntroComplete(),!0===c.isDebugTest&&(c.okPermissions(),!0===c.goToDashboard||c.alreadyHasAccount()?c.setIntroComplete():(c.alreadySeenGdprText=!0,E.trackEvent("intro/offer","offer")),c.isDebugTest=!1))},c.getPrivacyText=function(){return u.privacy_settings.accepted_policy&&u.privacy_settings.accepted_policy!=h.currentPolicyDate?void 0===h.currentPolicyDate?void d(function(){c.getPrivacyText()},500):a.instant("INTRO.DESC.PRIVACYCHANGE"):a.instant("INTRO.DESC.PRIVACY")},c.okGdpr2=function(){N.playSound("audio/general-tap.mp3",1,!0),u.setSessionAcceptedPolicy(h.currentPolicyDate),c.okCommon()},c.setStep=function(t,e){c.step=t-.5,d(function(){c.step=t,d(function(){}.bind(this),500),e&&e()},350)},c.okPermissions=function(){c.clickedPastPermissions=!0,c.okCommon()},c.okCommon=function(){var t=u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate,e=!0!==c.clickedPastPermissions&&!c.platformPermissionsReady(!0);if(i.log("hasAcceptedGdpr"+t),c.alreadySeenGdprText||t){for(var n=0;n<g.platformPermissions.length;n++){var s=g.platformPermissions[n];s.clicked||s.launched||(g.setViewed(s),r.hasData()&&c.alreadyHasAccount()&&c.setIntroComplete())}c.alreadyHasAccount()&&c.setIntroComplete()}else!0===c.goToDashboard?c.setIntroComplete():c.setStep(1),i.log("havePermissionsToView"+e),e||c.alreadyHasAccount()||c.setIntroComplete()},s.$on("accountingDataSet",function(){c.alreadyHasAccount()&&c.setIntroComplete()}),c.setPermissionList=function(a){o.safeApply(c.$root,function(){if(a&&"object"==typeof a)if(a.permissions&&(g.setPermissions(a.permissions),l.features.hasVpnPermission)&&g.hasPermission("vpn")&&!1===u.hasSetVendorLocalSettings)d(function(){c.setPermissionList(a)}.bind(this),500);else{var t=c.step,e=(1==a.debugIntro&&(c.alreadySeenFirstSlide=!1,c.alreadyCompleted=!1),1==a.debugPermissions&&(c.clickedPastPermissions=!1),""==u.privacy_settings.accepted_policy||u.privacy_settings.accepted_policy&&u.privacy_settings.accepted_policy<h.currentPolicyDate),n=u.vendor_local_settings&&!0===u.vendor_local_settings.completed_intro,s=!c.alreadyCompleted&&(1==a.forceIntro||!c.platformPermissionsReady(!0)&&!n),i=u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate,r=u.privacy_settings&&u.vendor_local_settings.alreadySeenPasText,o=!c.alreadySeenGdprText&&!i&&e;switch(c.step){case-1:!0==s?c.step=0:!0===o?c.step=1:!0===i&&((!0===n||c.alreadyHasAccount())&&u.vendor_local_settings.alreadySeenPasText?c.setIntroComplete():(c.step=1,c.alreadySeenGdprText=i,c.alreadySeenPasText=r));break;case 0:i&&(c.goToDashboard===u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate?c.setIntroComplete():c.alreadySeenGdprText=u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate);break;case 1:s&&(c.step=0);break;case 2:o&&(c.step=1);break;default:c.step=-1}-1<c.step?(c.introShowing=!0,t!=c.step&&d(function(){}.bind(this),500),c.show=!0):1==a.forceIntro&&c.alreadyCompleted&&c.setIntroComplete()}})},c.isiOS=function(){return"ios"===l.platformClass},c.isMacExtension=function(){return"macExtension"===l.platformClass},c.hasFreeData=function(){return"lin"!==l.platformClass&&!T.isVM},c.alreadyHasAccount=function(){return r.isPaying||r.isUnlimited},c.completePermission=function(n,s){E.trackEvent("intro",n+"-permission",s),o.safeApply(c.$root,function(){for(var t=0;t<g.platformPermissions.length;t++){var e=g.platformPermissions[t];n==e.id&&(e.enabled=1==s||void 0===s),"vpn"==e.id&&1==e.enabled&&(c.okPermissions(),!0===c.goToDashboard?c.setIntroComplete():c.alreadySeenGdprText=!0)}})},c.purchaseAttemptPending=!1,c.getIsPurchasingFor=function(t){return!!c.purchaseAttemptPending&&c.purchaseAttemptPending.id===t},c.getProductByTag=function(t){if(c.productListing.products)for(var e=0;e<c.productListing.products.length;++e)if(c.productListing.products[e].productTag==t)return c.productListing.products[e];return null},c.getSavings=function(){var t=c.getYearlyProduct();return t&&t.savings?a.instant("PURCHASE.SAVEPERCENTAGE",{percentDisplay:a.numToLocale(Math.ceil(100*t.savings))}):""},c.getMonthlyPrice=function(){var t="--",e=c.getYearlyProduct();return e?(e.priceValue&&e.months&&(t=e.priceValue/e.months),a.instant("PURCHASE.PRICEPERMONTH",{currencySymbol:e.currencySymbol||"",currencyCode:e.currencyCode||"",price:a.numToLocale(t,2,2)})):""},c.getMonthlyProduct=function(){return c.getProductByTag("monthly")},c.getYearlyProduct=function(){return c.getProductByTag("yearly")},c.getYearlyABProduct=function(){return c.getProductByTag("yearlyAB")},c.purchase=function(t){E.trackEvent(E.Screen.Intro,"purchase"),u.vendor_local_settings.intro_purchasing=!0,e.set_vendor_local_settings(u.vendor_local_settings),n.productsError?ShowAlertPopup({msg:n.productsError}):c.buyProduct(t,E.Screen.Intro)},c.buyProduct=function(t){c.setPurchasePending(t),N.playSound("audio/general-tap.mp3",1,!0),f.buyProduct(t,E.Screen.Intro),c.currentPurchasingProduct=t},c.setPurchaseComplete=function(t){var e;u.vendor_local_settings.intro_purchasing=!1,c.purchaseAttemptPending&&(c.setPurchasePending(!1),l.showUi(),e=!0,void 0===t?(e="unknown",c.setIntroComplete()):1==t.success?(c.setIntroComplete(),r.isAutoAccount&&!t.username&&u.doCompleteRegistration()):!1===t.success&&(e=!1),c.currentPurchasingProduct)&&c.currentPurchasingProduct.id&&E.trackEvent("intro","purchase-complete-"+e,c.currentPurchasingProduct.id),c.currentPurchasingProduct=null},c.showEscapeButton=function(){return!T.isVM&&"lin"!=l.platformClass||c.alreadyHasAccount()},c.escapeIntro=function(t){N.playSound("audio/general-tap.mp3",1,!0),E.trackEvent("intro","intro-complete",t),u.vendor_local_settings.intro_purchasing=!1,e.set_vendor_local_settings(u.vendor_local_settings),c.setIntroComplete()},c.setPurchasePending=function(t){t||(u.vendor_local_settings.intro_purchasing=!0,e.set_vendor_local_settings(u.vendor_local_settings)),o.safeApply(c.$root,function(){c.purchaseAttemptPending=t})},c.getSubtitle=function(){return!0===c.sale?c.getTotalCost(c.getYearlyABProduct()):c.getTotalCost(c.getMonthlyProduct())},c.getButtonTitle=function(){return!0===c.sale?a.instant("INTRO.PITCH.TRIALBUTTON"):a.instant("INTRO.PITCH.SUBSCRIBEFOR")+" "+c.getSubtitle()},c.getTotalCost=function(t,e){if(t){if(t.isFree)return a.instant(t.billing,{dataAmount:o.freeDataAmount,trialLength:t.trialLengthDays});if(t.priceValue){var n,s,i=t.priceValue,r="";if("yr"==t.billing){if(!0===c.sale)return n=c.getYearlyProduct(),s=a.instant("PURCHASE.PRICEPERYEARABTESTA"),c.yearlyCost=(t.currencySymbol||"")+a.numToLocale(i,2,2),r="PURCHASE.PRICEPERYEARABTESTB","<span>"+s+"</span> <span class='ab-trial-text'> "+a.instant("PURCHASE.PRICEPERYEARABTESTC",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:a.numToLocale(n.cost,2,2)})+"</span> <span>"+a.instant(r,{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:a.numToLocale(i,2,2)})+"</span>";r=e?"PURCHASE.PRICEWITHOUTDURATION":"PURCHASE.PRICEPERYEAR"}else"mo"==t.billing&&(r="PURCHASE.PRICEPERMONTH");return a.instant(r,{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:a.numToLocale(i,2,2)})}}return"--"},c.title=function(){var t=c.getYearlyProduct();return t&&!0===t.isTrial?a.instant("INTRO.PITCH.TRIAL")+" "+a.instant("INTRO.PITCH.TRIALPAY",{cost:c.getTotalCost(t,!0)}):a.instant("INTRO.PITCH.NOTRIALDESC",{cost:c.getTotalCost(t,!0)})},c.isTrial=function(){var t=c.getYearlyProduct();return t&&t.isTrial},c.okPermission=function(t){d(function(){t.clicked=!0}.bind(this),c.CLICKED_PERMISSION_SET_DELAY),g.runPermission(t)},c.platformPermissionsReady=function(t){for(var e=!0,n=0;n<g.platformPermissions.length;n++){var s=g.platformPermissions[n];!0===s.enabled||!0===s.launched||!0!==t&&!0===s.allowSkip||(e=!1)}return e},c.getPaneClassFor=function(t){return c.getClassFor(t)},c.isMobile=function(){return l.identity.mobile},c.getAccountText=function(){return a.instant("INTRO.PERMISSIONS.ACCOUNTREADY",{accountType:r.getAccountTypeText()})},c.getIntroPaneClass=function(){document.getElementById("intro-gdpr-main").scrollTop=0;var t={};return t["step"+c.step]=!0,t};var y=c.$watch("helpOpen",function(){u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate&&(c.step=-1,c.show=!1,c.helpOpen=!1,y()),c.launchHelpFromGdpr()}),P=(c.launchHelpFromGdpr=function(){N.playSound("audio/general-tap.mp3",1,!0),v.when("help").then(function(t){d(function(){v.get("help")&&S("help").isOpen()&&(c.step=-1,c.show=!1),c.helpOpen=!0},250),t.onClose(function(){u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate||(c.step=1,c.show=!0,c.helpOpen=!1)})})},c.getDataString=function(){return a.instant("INTRO.PITCH.LIMITEDDESCData",{data:bytesToSize(r.bytesAvail)})},c.getDataStringDesc=function(){return a.instant("INTRO.PITCH.LIMITEDTITLEDESCDATA",{data:bytesToSize(r.bytesAvail)})},c.launchPrivacy=function(){N.playSound("audio/general-tap.mp3",1,!0),t.Privacy(E.Screen.Intro)},c.launchTOS=function(){N.playSound("audio/general-tap.mp3",1,!0),t.Tos(E.Screen.Intro)},s.$on("lastSlideReached",function(t,e){c.isLastSlide=e}),s.$on("setPurchaseComplete",function(t,e){c.setPurchaseComplete(e)}),c.showUpdatedPolicy=function(){var t=u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate,e=u.vendor_local_settings&&1==u.vendor_local_settings.completed_intro;return!t&&e},c.showSliderArrows=function(){return o.isTV||!l.identity.mobile},c.sendToSignIn=function(){E.trackEvent(E.Screen.Intro,"login"),N.playSound("audio/general-tap.mp3",1,!0),u.vendor_local_settings.intro_purchasing=!1,e.set_vendor_local_settings(u.vendor_local_settings),s.$broadcast("showRegisterLogin"),c.isiOS()||c.handleIntroLogin()},c.handleIntroLogin=function(){i.log("handleIntroLogin"),c.isSigningIn=!0,v.when("login").then(function(t){i.log("login has ended - finish handling the intro"),d(function(){i.log("login has ended - finish handling the intro"),c.step=-1,c.show=!1},250),t.onClose(function(){i.log("login onClose"),c.isSigningIn=!1,c.alreadyHasAccount()?(i.log("login oetIntroCompleteClose"),c.setIntroComplete()):(c.step=3,c.show=!0,i.log("login $scope.step = 3;"))})})},c.changePolicyDate=function(t){c.alreadySeenGdprText=!1,c.isDebugTest=!0,c.step=1,h.currentPolicyDate=u.privacy_settings.accepted_policy+1},c.nativeSignInComplete=function(){e.server_auto_connect("auto"),c.escapeIntro("exit-native-login")},s.$on("privacySettingsUpdated",function(){c.privacySettingsUpdated=!0,c.checkIntroComplete()}),c.checkIntroComplete=function(){var t,e;u&&!u.hasSetVendorLocalSettings||c.isSigningIn||(c.isiOS()||c.handledRestart||c.handleIntroRestart(),t=u.privacy_settings&&u.privacy_settings.accepted_policy==h.currentPolicyDate,c.alreadySeenPasText=u.vendor_local_settings.alreadySeenPasText,c.alreadySeenGdprText=t,e=u.vendor_local_settings.completed_intro,!t&&c.privacySettingsUpdated?c.step=0:c.showPas()&&!c.alreadySeenPasText?c.step=1:e?c.didSetIntroComplete||(c.didSetIntroComplete=!0,c.setIntroComplete()):c.step=2)},c.handleIntroRestart=function(){c.handledRestart=!0,c.step=-1,(c.show=!1)!==u.vendor_local_settings.completed_intro&&void 0!==u.vendor_local_settings.completed_intro||(c.step=0,c.show=!0)},c.showPas=function(){return l.features.networkShareEnabled},s.$on("sliderFocusChanged",function(t,e){void 0!==c.slides[e]&&c.previousSlide!==c.slides[e]&&(c.previousSlide=c.slides[e],N.playSound("audio/general-tap.mp3",1,!0),E.trackEvent("intro","slider-swiped",c.slides[e]))}),c.$on("windowEventResize",function(t,e){}));c.$on("$destroy",P),c.doGdprLearnMore=function(){N.playSound("audio/general-tap.mp3",1,!0),p("gdpr",E.Screen.Intro)},l.getPermissionList()}]),angular.module("speedifyUI.components").directive("goforth",function(){return{scope:{show:"="},restrict:"E",templateUrl:"components/goforth/goforth.html",controller:"GoforthCtrl"}}).controller("GoforthCtrl",["$scope","speedifyAPI","settingsRepository","$timeout","globals","matomo",function(t,e,n,s,i,r){t.smallScreen=i.smallScreen,t.continue=function(){t.willClose=!0,n.vendor_local_settings.shown_go_forth=!0,r.trackEvent("go-forth","continue"),e.set_vendor_local_settings(n.vendor_local_settings),s(function(){i.safeApply(t.$root,function(){t.$emit("extendedIntroComplete",{step:1})})},300)}}]),angular.module("speedifyUI.components").directive("loadingPane",function(){return{scope:{shouldShowRestartService:"="},restrict:"E",templateUrl:"components/loading/loading.html",controller:"LoadingCtrl"}}).controller("LoadingCtrl",["$scope","platform","$timeout",function(t,e,n){t.restartService=function(){e.restartService()},t.showRestartServiceButton=function(){return t.shouldShowRestartService&&e.features.serviceRestart}}]),angular.module("speedifyUI.components").directive("lockScreen",function(){return{restrict:"E",templateUrl:"components/lock-screen/lock-screen.html",controller:"LockScreenCtrl"}}).controller("LockScreenCtrl",["$scope","globals","platform","productListing","purchasing","matomo","$rootScope","externalLinks","speedifyAPI","STAT_PERIODS","accounting","branding","spTranslate","settingsRepository",function(n,e,t,s,i,r,o,a,c,l,d,u,p,g){n.init=function(){c.request_session_stats(),r.trackPageView("dashboard/lock-screen","Dashboard - lock-screen")},n.getProductByTag=function(t){if(n.productListing.products)for(var e=0;e<n.productListing.products.length;++e)if(n.productListing.products[e].productTag==t)return n.productListing.products[e];return null},n.getLockIcon=function(){return g.isDarkMode()?"components/lock-screen/img/lockGraph-dark.png":"components/lock-screen/img/lockGraph-light.png"},n.getYearlyProduct=function(){return n.getProductByTag("yearly")},n.getMonthlyProduct=function(){return n.getProductByTag("monthly")},n.buyProduct=function(t){s.productsError?ShowAlertPopup({msg:s.productsError}):(n.setPurchasePending(t),i.buyProduct(t,r.Screen.Purchase))},n.setPurchasePending=function(t){e.safeApply(n.$root,function(){n.purchaseAttemptPending=t})},n.haveTrials=function(){return d.userHasTrials(n.selectedProduct)},n.supportsViewMore=function(){return t.features.supportsViewMore},n.goToStore=function(){r.trackEvent("lock-screen","store-open"),t.features.nativePurchase?n.$emit("showUpgrade"):(t.windowOpenExternal(r.appendTracking(u.url_settings.store_url,r.Screen.Lock,"store"),!0),purchaseComplete())},n.getCurrencyCodeInformation=function(){return d.getCurrencyCodeInformation(n.selectedProduct)},n.hasStats=function(){var t;return void 0!==n.sessionStats&&0!==Object.keys(n.sessionStats).length&&void 0!==(t=n.sessionStats[l.TOTAL])&&(void 0!==t.max_download_mbps&&0<t.max_download_mbps||void 0!==t.max_upload_mbps&&0<t.max_upload_mbps||void 0!==t.num_failovers&&0<t.num_failovers||void 0!==t.cp_benefit&&void 0!==t.cp_benefit.cp_success&&0<t.cp_benefit.cp_success)},n.useWallOfText=function(){return"ios"===t.platformClass||"macExtension"===t.platformClass},n.launchTos=function(){a.Tos(r.Screen.About)},n.launchPrivacy=function(){a.Privacy(r.Screen.About)},n.doSignIn=function(){n.$emit("showRegisterLogin")},n.shouldRestorePurchases=function(){return t.features.restorePurchase&&!d.isPaying&&!d.isTeam},n.doRestorePurchases=function(){n.purchaseAttemptPending=!0,r.trackEvent("lock-screen","restore-purchase"),t.restorePurchase(!0)},n.restoreComplete=function(){n.purchaseAttemptPending=!1},o.$on("setPurchaseComplete",function(t,e){n.purchaseAttemptPending=!1}),n.isSelectedProduct=function(t){return!!(n.selectedProduct&&n.selectedProduct.id&&t&&t.id&&n.selectedProduct.id===t.id)},n.changeProduct=function(t){n.selectedProduct=t},n.getTrialInfo=function(t){return p.instant("PURCHASE.TRIALPRICE",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:p.numToLocale(t.priceValue,2,2),trialPrice:0})},n.purchaseAttemptPending=!1,n.selectedProduct=n.getYearlyProduct(),n.init()}]),angular.module("speedifyUI.components").factory("loggen",["$timeout","platform","globals","$rootScope","sentry","debug",function(t,e,n,s,i,r){var o={running:!1,generate:function(){o.running=!0,s.$broadcast("loggenPrehook"),t(function(){try{e.generateLogs()}catch(t){i.report(t)}},250)},setRunningState:function(t){n.safeApply(s,function(){o.running=t,r.log("loggen set running to "+o.running)})}};return o}]).directive("loggenDisplay",function(){return{restrict:"E",templateUrl:"components/loggen/loggen-display.html",controller:"LoggenDisplayCtrl"}}).controller("LoggenDisplayCtrl",["$scope","loggen",function(t,e){t.loggen=e,t.showLoggen=function(){return e.running}}]),angular.module("speedifyUI.components").directive("nagDisplay",function(){return{scope:{nagType:"="},restrict:"E",templateUrl:"components/nag-display/nag-display.html",controller:"NagDisplayCtrl"}}).controller("NagDisplayCtrl",["$scope","$rootScope","platform","debug","spTranslate","accounting","LearnMore","globals","matomo","branding",function(t,e,n,s,i,r,o,a,c,l){t.getImg=function(){switch(t.nagType){case"usage100":return"components/nag-display/img/speedify100nag.png";case"usage75":return"components/nag-display/img/speedify75nag.png";case"usage50":return"components/nag-display/img/speedify50nag.png";case"expired":return"components/nag-display/img/speedify-billing-end.png"}},t.getHeaderText=function(){switch(t.nagType){case"usage100":return i.instant("UPSELL.HEADER.USAGE100",{percentage:i.numToLocale(100*r.usedPercent,0)});case"usage75":return i.instant("UPSELL.HEADER.USAGE75",{percentage:i.numToLocale(100*r.usedPercent,0)});case"usage50":return i.instant("UPSELL.HEADER.USAGE50",{percentage:i.numToLocale(100*r.usedPercent,0)});case"expired":return i.instant("UPSELL.HEADER.EXPIRED")}},t.getDescriptionText=function(){switch(t.nagType){case"usage100":return i.instant("UPSELL.DESCRIPTION.USAGE100");case"usage75":return i.instant("UPSELL.DESCRIPTION.USAGE75");case"usage50":return i.instant("UPSELL.DESCRIPTION.USAGE50");case"expired":return i.instant("UPSELL.DESCRIPTION.EXPIRED")}},t.getSecondaryText=function(){switch(t.nagType){case"usage100":return i.instant("UPSELL.SECONDARYHEADER.USAGE100");case"usage75":return i.instant("UPSELL.SECONDARYHEADER.USAGE75");case"usage50":return i.instant("UPSELL.SECONDARYHEADER.USAGE50");case"expired":return i.instant("UPSELL.SECONDARYHEADER.EXPIRED")}},t.getButtonText=function(){switch(t.nagType){case"usage100":return i.instant("INTRO.PERMISSIONS.COMPLETE");case"usage75":return i.instant("SERVERS.OPTIONS.UPGRADELINK");case"usage50":return i.instant("UPSELL.BUTTONS.STORE");case"expired":return i.instant("INTRO.PERMISSIONS.COMPLETE")}return""},t.goToStore=function(){console.log("Going to store from nag"),t.$emit("closeNag"),a.sentToStore=!0,c.trackEvent("nag-display-"+t.nagType,"store-open"),n.features.nativePurchase?t.$emit("showUpgrade"):(n.windowOpenExternal(c.appendTracking(l.url_settings.store_url,c.Screen.nag,t.nagType),!0),purchaseComplete())},t.doSignIn=function(){c.trackEvent("nag-display-"+t.nagType,"login"),e.$broadcast("showRegisterLogin"),t.$emit("closeNag")}}]),angular.module("speedifyUI.components").directive("networkDot",function(){return{scope:{network:"=",numOfCellularConnections:"=",configureNetwork:"&",showPriorityText:"&",itemMinWidth:"=",itemMaxWidth:"=",type:"=",connectedServer:"=",currentState:"="},link:function(t,e,n){t.elem=e},restrict:"E",templateUrl:"components/network-dot/network-dot.html",controller:"NetworkDotCtrl"}}).controller("NetworkDotCtrl",["$scope","$rootScope","networkAdapterFunctions","NETWORK_PRIORITIES","globals","$timeout","colorSave","spTranslate","CONNECTION_STATES","speedifyAPI","settingsRepository","tunnelRepository","mosFunctions","platform","SPEEDIFY_STATES","matomo","pairAndShare","NETWORK_ADAPTER_TYPES",function(s,e,i,t,n,r,o,a,c,l,d,u,p,g,m,h,v,S){s.networkAdapterFunctions=i,s.NETWORK_PRIORITIES=t,s.disabledConnectionColor="#CCCCCC",s.subtitleText="",s.init=function(){s.connectionColor=s.getConnectionColor()},s.getDisabledConnectionColor=function(){return d.vendor_local_settings&&(d.vendor_local_settings.theme===d.theme.dark?s.disabledConnectionColor="#3D3D40":d.vendor_local_settings.theme===d.theme.light?s.disabledConnectionColor="#CCCCCC":d.vendor_local_settings.theme===d.theme.system&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?s.disabledConnectionColor="#3D3D40":s.disabledConnectionColor="#CCCCCC")),s.disabledConnectionColor},s.getConnectionColor=function(){var t;if(s.network.guid)return t=s.network.guid,s.network.type!==S.NetworkShareClient&&s.network.type!==S.NetworkShareHost||(t=v.getShareGuid(s.network.guid)),o.getColorForGuid(t)},s.getSizeStyle=function(t){return{height:t+"px",width:t+"px"}},s.getStyle=function(t){var e=-1*t/2;return{position:"absolute",width:t+"px",height:t+"px",margin:e+"px 0 0 "+e+"px",top:"50%",left:"50%"}},s.getIconStyle=function(t,e){t=s.getStyle(t);return t["border-radius"]="50%",e&&(t["background-color"]=e),(s.network&&s.network.connectionState==c.CONNECTED&&!0===s.network.sleeping||s.currentState===m.CONNECTED&&s.connectedServer&&"proxy"===s.connectedServer.longName)&&(t["background-color"]=s.getConnectionColor()),t},s.hasISP=function(){return!!s.network&&s.network.isp},s.getISP=function(){return s.network?"("+s.network.isp+")":""},s.getAdapterDotDisplayName=function(){if(void 0!==s.network&&void 0!==s.network.type)return a.instant("ADAPTERTYPES."+s.network.type)},s.getAdapterName=function(){var t,e=void 0,n="";return s.hasISP()&&(n=s.getISP()),g.identity.mobile||"mac"===g.platformClass||1===s.numOfCellularConnections&&(e=!0),1<s.numOfCellularConnections&&s.network.type===S.Cellular?"("+(t=s.network.name)+")"!==n&&(t+=" "+n):"("+(t=i.GetNetworkDisplayName(s.network,e))+")"!==n&&(t+=" "+n),t},s.getAdapterPriorityText=function(){var t;return s.network&&s.network.guid?-1<n.cpNetworks.indexOf(s.network.guid)?a.instant("PRIORITIES.CAPTIVEPORTAL"):!0!==s.network.offline||s.network.sleeping?(t=i.getPriorityName(s.network.priority,s.network.type),s.network.priority!=s.network.workingPriority?i.getPriorityName(s.network.workingPriority,s.network.type)+" ("+t+")":t):a.instant("ADAPTERINFO.STATUS.DISCONNETED"):""},s.getAdapterDesc=function(){return s.network?s.network.description?a.instant(s.network.description):s.getAdapterName():""},s.toolTipText=function(){return s.getAdapterDesc()+"\n"+s.getAdapterName()},s.getIcon=function(){if(s.network&&s.network.type)return s.hasISP()&&"Starlink"==s.network.isp?"components/network-dot/img/satellite.png":i.GetNetworkIconFromType(s.network.type)},s.configureThisNetwork=function(){s.network&&s.network.type&&(h.trackEvent("network-dot","configure",s.network.type),s.configureNetwork({network:s.network}))},s.isOverlimitDaily=function(){return!(!s.network||!s.network.limits)&&0!==s.network.limits.maxDaily&&s.network.limits.usageDaily>=s.network.limits.maxDaily+s.network.limits.boostDaily},s.isOverlimitMonthly=function(){return!(!s.network||!s.network.limits)&&0!==s.network.limits.max&&s.network.limits.usage>=s.network.limits.max},s.isCaptivePortal=function(){var t,e;return!!(s.network&&s.network.guid&&(t=!1,t=(e=u.getFirstLiveDataMatching(s.network.guid,s.getProtocolFromDisplayType()))?1==e.cnnct:t))&&-1<n.cpNetworks.indexOf(s.network.guid)},s.isOverlimitRatelimited=function(){return!(!s.network||!s.network.limits||0==s.network.limits.overlimitRate)&&(0!==s.network.limits.max&&s.network.limits.usage>=s.network.limits.max||0!==s.network.limits.maxDaily&&s.network.limits.usageDaily>=s.network.limits.maxDaily+s.network.limits.boostDaily)},s.getProtocolFromDisplayType=function(){return"Proxy"===s.type?"proxy":"Shared"==s.type?"share":"tunnel"},s.getConnectionInformation=function(t){if(!s.network.guid)return getCalculatedSpeed(0);var e=u.getFirstLiveDataMatching(s.network.guid,s.getProtocolFromDisplayType());if(s.isSpeedMode())return e?getCalculatedSpeed(t?null!=e.rcvBps?e.rcvBps:0:null!=e.sndBps?e.sndBps:0):"0 Kbps";if(!e)return"";if(t){if(null!=e.lsR)return Number(100*e.lsR).toFixed(2)+"%"}else if(null!=e.lsS)return Number(100*e.lsS).toFixed(2)+"%"},s.getStarRating=function(){var t;return!s.network||!s.network.guid||!(t=u.getFirstLiveDataMatching(s.network.guid,s.getProtocolFromDisplayType()))||void 0===t||void 0===t.mos||t.mos<=0?"":"star"+p.GetMOSRating(t.mos)+" star"},s.isSpeedMode=function(){return"Speed"===s.type||"Proxy"===s.type||"Shared"===s.type},s.isLatencyMode=function(){return"Latency"===s.type},s.isLossMode=function(){return"Loss"===s.type},s.isSpeedOrLossMode=function(){return s.isSpeedMode()||s.isLossMode()},s.getLatency=function(){if(s.network&&s.network.guid){var t,e=u.getFirstLiveDataMatching(s.network.guid,s.getProtocolFromDisplayType());if(e)if(void 0!==e.ltMs)return t="",void 0!==e.jtMs&&0<=e.jtMs&&(t="("+e.jtMs+")"),e.ltMs+" ms "+t}return""},s.isLimited=function(){return!(!s.network||!s.network.limits||0===s.network.limits.max&&0===s.network.limits.maxDaily)},s.isRateLimited=function(){return!(!s.network||void 0===s.network.rateLimit)&&0!==s.network.rateLimit},s.statusIsOverlimit=function(){if(s.isOverlimitDaily()||s.isOverlimitMonthly()||s.isRateLimited())return"statusError"},s.limitArcAmount=function(){var t,e;return s.isConnecting()?.25:(t=0,s.isLimited()&&(void 0!==(e=i.getMonthlyUsageData(s.network)).usage.percentage&&parseInt(e.usage.percentage)>t&&(t=parseInt(e.usage.percentage)),void 0!==(e=i.getDailyUsageData(s.network)).usage.percentage)&&parseInt(e.usage.percentage)>t&&(t=parseInt(e.usage.percentage)),Math.min(100,t/100))},s.isDisabled=function(){return!!s.network&&s.network.priority===t.NEVER.value},s.isConnected=function(){return!!s.network&&!s.isDisabled()&&!s.network.sleeping&&(s.network.connectionState==c.CONNECTED||s.currentState===m.CONNECTED&&s.connectedServer&&"proxy"===s.connectedServer.longName)},s.getSubtitleText=function(){s.isCaptivePortal()?s.subtitleText=a.instant("NETWORKDOT.MESSAGING.CAPTIVE"):s.isRateLimited()?s.subtitleText=a.instant("ADAPTERINFO.BWLIMIT.title"):s.isOverlimitDaily()?s.subtitleText=a.instant("SETTINGSPANE.NETWORKS.DATACAP.DAILY"):s.isOverlimitMonthly()?s.subtitleText=a.instant("SETTINGSPANE.NETWORKS.DATACAP.MONTHLY"):s.isOverlimitRatelimited()?s.subtitleText=a.instant("NETWORKDOT.MESSAGING.OVERLIMITRATELIMIT"):s.isDisabled()?s.subtitleText=a.instant("NETWORKDOT.MESSAGING.DISABLED"):s.subtitleText=s.getAdapterPriorityText()},s.hasError=function(){return!!(s.isCaptivePortal()||s.isRateLimited()||s.isOverlimitDaily()||s.isOverlimitMonthly()||s.isOverlimitRatelimited()||s.isDisabled())},s.$watch(function(){return s.network.connectionState},function(t){t===c.CONNECTED?r(function(){s.$broadcast("radiateOnConnection",s.network.connectionState)},100):t===c.DISCONNECTED&&e.$emit("radiateClearDisconnect",{guid:s.network.guid})}),s.isConnecting=function(){return!!s.network&&!s.isDisabled()&&s.network.connectionState==c.CONNECTING},s.init()}]),angular.module("speedifyUI.services").service("limitsCommon",["platform","spTranslate","DataScaling",function(t,i,r){this.dailyValues=[5e6,25e6,5e7,1e8,15e7,2e8,25e7,3e8,35e7,4e8,45e7,5e8,75e7,1e9,15e8,2e9,25e8,3e9,4e9,5e9,1e10,25e9,5e10,1e11,15e10,2e11,25e10,3e11,4e11,5e11,75e10,1e12],this.monthlyValues=[5e7,1e8,25e7,5e8,1e9,2e9,3e9,4e9,5e9,6e9,7e9,8e9,9e9,1e10,11e9,12e9,13e9,14e9,15e9,16e9,17e9,18e9,19e9,2e10,25e9,3e10,4e10,5e10,1e11,15e10,2e11,25e10,3e11,4e11,5e11,75e10,1e12],this.bwLimitValuesMbps=[.25,.5,.75,1,2,3,4,5,7.5,10,12.5,15,20,25,30,40,50,60,70,80,90,100,2e3],this.bwOverLimitValuesMbps=[.25,.5,.75,1,2,5],this.overlimitDefaultRate=5e6,this.lastTranslatedLanguage=null,this.translatedDailyValues=null,this.translatedMonthlyValues=null,this.translatedResetDays=null,this.translatedBwLimitValues=null,this.translateValues=function(){this.lastTranslatedLanguage=i.lastUsedLanguage,this.translatedDailyValues=[];for(var t=0;t<this.dailyValues.length;t++){var e=[(s={val:this.dailyValues[t]}).val],n=r.SingleScale(e,2);s.name=i.numToLocale(e[0])+n+"B",this.translatedDailyValues.push(s)}this.translatedMonthlyValues=[];for(t=0;t<this.monthlyValues.length;t++){e=[(s={val:this.monthlyValues[t]}).val],n=r.SingleScale(e,2);s.name=i.numToLocale(e[0])+n+"B",this.translatedMonthlyValues.push(s)}this.translatedBwLimitValues=[];for(t=0;t<this.bwLimitValuesMbps.length;t++){e=[(s={val:1e6*this.bwLimitValuesMbps[t]}).val],n=r.SingleScale(e,this.bwLimitValuesMbps[t]<1?1:2);s.name=i.numToLocale(e[0])+n+"bps",this.translatedBwLimitValues.push(s)}this.translatedBwOverLimitValues=[];for(t=0;t<this.bwOverLimitValuesMbps.length;t++){var s,e=[(s={val:1e6*this.bwOverLimitValuesMbps[t]}).val],n=r.SingleScale(e,this.bwLimitValuesMbps[t]<1?1:2);s.name=i.numToLocale(e[0])+n+"bps",this.translatedBwOverLimitValues.push(s)}this.translatedResetDays=[];for(t=1;t<=31;t++)this.translatedResetDays.push({val:t,name:i.instant("LIMITS.RESETDAY.N",{day:t,dayDisplay:i.numToLocale(t)})})},this.getMonthlyValues=function(){return this.translatedMonthlyValues&&this.lastTranslatedLanguage==i.lastUsedLanguage||this.translateValues(),this.translatedMonthlyValues},this.getDailyValues=function(){return this.translatedDailyValues&&this.lastTranslatedLanguage==i.lastUsedLanguage||this.translateValues(),this.translatedDailyValues},this.getResetDays=function(){return this.translatedResetDays&&this.lastTranslatedLanguage==i.lastUsedLanguage||this.translateValues(),this.translatedResetDays},this.getBwLimitValues=function(){return this.translatedBwLimitValues&&this.lastTranslatedLanguage==i.lastUsedLanguage||this.translateValues(),this.translatedBwLimitValues},this.getBwOverLimitValues=function(){return this.translatedBwOverLimitValues&&this.lastTranslatedLanguage==i.lastUsedLanguage||this.translateValues(),this.translatedBwOverLimitValues},this.getNextLevel=function(t,e){for(var n=t,s=0;s<e.length;s++)if(e[s]>n){n=e[s];break}return n}}]),angular.module("speedifyUI.components").directive("networkLimitsDaily",function(){return{scope:{network:"=",header:"@",useWhiteText:"="},restrict:"E",templateUrl:"components/network-limits/network-limits-daily.html",controller:"NetworkLimitDailyCtrl"}}).directive("networkLimitsMonthly",function(){return{scope:{network:"=",header:"@",useWhiteText:"="},restrict:"E",templateUrl:"components/network-limits/network-limits-monthly.html",controller:"NetworkLimitMonthlyCtrl"}}).controller("NetworkLimitDailyCtrl",["$scope","speedifyAPI","globals","networkAdapterFunctions","TOGGLE_STATE","spTranslate","debug","limitsCommon","settingsRepository","DataScaling","matomo","audioPlayer",function(i,r,e,s,t,o,n,a,c,l,d,u){var p,g,m;i.networkAdapterFunctions=s,i.dailyOptions=[],i.network&&i.network.limits&&0<i.network.limits.maxDaily&&a.dailyValues.indexOf(i.network.limits.maxDaily)<0&&(g=[(p={val:i.network.limits.maxDaily}).val],m=l.SingleScale(g,2),p.name=o.numToLocale(g[0])+m+"B",i.dailyOptions.push(p)),i.network&&i.network.limits&&-1<i.network.limits.boostDaily&&a.dailyValues.indexOf(i.network.limits.boostDaily)<0&&(g=[(p={val:i.network.limits.boostDaily}).val],m=l.SingleScale(g,2),p.name=o.numToLocale(g[0])+m+"B",i.dailyOptions.push(p)),i.dailyOptions.push.apply(i.dailyOptions,a.getDailyValues()),i.bandwidthDailyChanged=function(t){i.network&&i.network.limits&&(i.network.limits.maxDaily=t,i.updateLimitDaily())},i.preBandwidthDailyBoostChanged=function(t){i.previousBoost=t,n.log("set working boost to "+t)},i.bandwidthDailyBoostChanged=function(t){var e;i.network&&i.network.limits&&(e=t-i.previousBoost,i.previousBoost=t,0!=e)&&(n.log("adding boost of "+e),r.add_net_daily_limit_boost(i.network.guid,e))},i.addBoostFromDropdown=function(t){var e=t;i.network.limits.boostDaily&&(e=t-i.network.limits.boostDaily),u.playSound("audio/general-tap.mp3",1,!0),r.add_net_daily_limit_boost(i.network.guid,e)},i.dailyLimitUpdated=function(t){i.network.limits.maxDaily=t,i.updateLimitDaily()},i.updateLimitDaily=function(){i.network&&i.network.limits&&(d.trackEvent("settings-adapter","daily-cap",i.network.limits.maxDaily),r.set_network_daily_limit(i.network.guid,i.network.limits.maxDaily))},i.isOverlimitDaily=function(){return!(!i.network||!i.network.limits)&&0!==i.network.limits.maxDaily&&i.network.limits.usageDaily>=i.network.limits.maxDaily+i.network.limits.boostDaily},i.shouldShowLimitDaily=function(){return i.isLimitedDaily()},i.isLimitedDaily=function(){return!(!i.network||!i.network.limits)&&0<i.network.limits.maxDaily},i.limitDailySwitchPress=function(){console.log("Tapping"+JSON.stringify(i.network)),i.network&&i.network.limits&&(0<i.network.limits.maxDaily?i.network.limits.maxDaily=0:i.defaultLimit(),i.updateLimitDaily())},i.shouldShowDailyExtra=function(){return!(!i.network||!i.network.limits||!i.shouldShowLimitDaily())&&(0<i.network.limits.boostDaily||0<i.network.limits.maxDaily&&i.network.limits.usageDaily>=.99*i.network.limits.maxDaily)},i.getLimitDailyExtra=function(){return s.getDailyLimitExtraText(i.network)},i.defaultLimit=function(){var t=Math.max(1e8,.1*i.network.limits.max),t=Math.max(t,i.network.limits.usageDaily/.65);t=a.getNextLevel(t,a.dailyValues),i.network.limits.maxDaily=t},i.$on("defaultDailyLimit",function(t){e.safeApply(i.$root,function(){0!==i.network.limits.max&&(i.defaultLimit(),i.updateLimitDaily())})}),i.getDailyState=function(){return i.isLimitedDaily()?t.ON:t.OFF},i.getDailyLimitText=function(){var t,e,n;return i.network&&0===i.network.limits.maxDaily?(t={max:{value:0,unit:""}},n=Math.max(1e8,.1*i.network.limits.max),n=Math.max(n,i.network.limits.usageDaily/.65),n=[a.getNextLevel(n,a.dailyValues)],e=l.ScaleData(n,0),t.max.value=n[0],t.max.unit=e,n=t,"<span class='data-limit text-single'><span class='value total'>"+o.numToLocale(n.max.value)+"</span>"+n.max.unit+"B</span>"):(i.handleDailyCliInput(),s.getDailyLimitText(i.network))},i.hasDailyBoost=function(){return i.network.limits&&i.network.limits.boostDaily},i.getDailyBoostText=function(){return s.getDailyLimitExtraText(i.network)},i.handleDailyCliInput=function(){if(i.network&&i.network.limits&&0<i.network.limits.maxDaily){for(var t=0;t<i.dailyOptions.length;t++)if(i.dailyOptions[t].val===i.network.limits.maxDaily)return;var e={val:i.network.limits.maxDaily},n=[e.val],s=l.SingleScale(n,0);e.name=o.numToLocale(n[0])+s+"B",i.dailyOptions.push(e),i.dailyOptions.sort(function(t,e){return parseFloat(t.val)-parseFloat(e.val)}),r.add_net_daily_limit_boost(i.network.guid,-i.network.limits.boostDaily)}},i.getDailyUsageDisplay=function(){return s.getDailyUsageText(i.network)},i.usageReplacements=function(){return{usage:i.getDailyUsageDisplay(),limitHtml:'<dropdown class="inline" text="getDailyLimitText()" model="network.limits.maxDaily" options="dailyOptions" change-end="dailyLimitUpdated(value)"></dropdown>'}},i.boostReplacements=function(){return{boostHtml:'<dropdown class="inline" text="getLimitDailyExtra()" model="network.limits.boostDaily" options="dailyOptions" change-start="preBandwidthDailyBoostChanged(value)" change-end="bandwidthDailyBoostChanged(value)"></dropdown>'}}}]).controller("NetworkLimitMonthlyCtrl",["$scope","speedifyAPI","globals","networkAdapterFunctions","TOGGLE_STATE","spTranslate","limitsCommon","settingsRepository","DataScaling","matomo","audioPlayer",function(i,t,e,s,n,r,o,a,c,l,d){var u,p,g;i.networkAdapterFunctions=s,i.resetDayOptions=[{val:0,name:r.instant("LIMITS.RESETDAY.LAST30")}],i.monthlyOptions=[],i.network&&i.network.limits&&0<i.network.limits.max&&o.monthlyValues.indexOf(i.network.limits.max)<0&&(p=[(u={val:i.network.limits.max}).val],g=c.SingleScale(p,0),u.name=r.numToLocale(p[0])+g+"B",i.monthlyOptions.push(u)),i.monthlyOptions.push.apply(i.monthlyOptions,o.getMonthlyValues()),i.resetDayOptions.push.apply(i.resetDayOptions,o.getResetDays()),i.resetDayChanged=function(t){i.network.limits.resetDay=t,i.updateLimitMonthly()},i.monthlyLimitUpdated=function(t){i.network.limits.max=t,i.updateLimitMonthly()},i.updateLimitMonthly=function(){i.network&&i.network.limits&&(l.trackEvent("settings-adapter","monthly-cap",i.network.limits.max),t.set_network_limit(i.network.guid,i.network.limits.max,i.network.limits.resetDay))},i.isOverlimitMonthly=function(){return!(!i.network||!i.network.limits)&&0!==i.network.limits.max&&i.network.limits.usage>=i.network.limits.max},i.shouldShowLimitMonthly=function(){return i.isLimitedMonthly()},i.isLimitedMonthly=function(){return!(!i.network||!i.network.limits)&&0<i.network.limits.max},i.limitMonthlySwitchPress=function(){console.log("Tapping"+JSON.stringify(i.network)),i.network&&i.network.limits&&(0<i.network.limits.max?i.network.limits.max=0:i.defaultLimit(),i.updateLimitMonthly())},i.defaultLimit=function(){var t=Math.max(2e9,i.network.limits.usage/.65),t=o.getNextLevel(t,o.monthlyValues);i.network.limits.max=t},i.$on("defaultMonthlyLimit",function(t){e.safeApply(i.$root,function(){i.defaultLimit(),i.updateLimitMonthly()})}),i.getMonthlyState=function(){return i.isLimitedMonthly()?n.ON:n.OFF},i.getMonthlyLimitText=function(){var t,e,n;return i.network&&!i.network.limits.max?(t={max:{value:0,unit:""}},n=Math.max(2e9,i.network.limits.usage/.65),n=[o.getNextLevel(n,o.monthlyValues)],e=c.ScaleData(n,0),t.max.value=n[0],t.max.unit=e,n=t,"<span class='data-limit text-single'><span class='value total'>"+r.numToLocale(n.max.value)+"</span>"+n.max.unit+"B</span>"):(i.handleMonthlyCliInput(),s.getMonthlyLimitText(i.network))},i.handleMonthlyCliInput=function(){if(i.network&&i.network.limits&&0<i.network.limits.max){for(var t=0;t<i.monthlyOptions.length;t++)if(i.monthlyOptions[t].val===i.network.limits.max)return;var e={val:i.network.limits.max},n=[e.val],s=c.SingleScale(n,0);e.name=r.numToLocale(n[0])+s+"B",i.monthlyOptions.push(e),i.monthlyOptions.sort(function(t,e){return parseFloat(t.val)-parseFloat(e.val)})}},i.getMontlyResetDayText=function(){if(i.network.limits)for(var t=0;t<i.resetDayOptions.length;t++)if(i.resetDayOptions[t].val==i.network.limits.resetDay)return i.resetDayOptions[t].name;return r.instant("LIMITS.RESETDAY.UNKNOWN")},i.getMonthlyUsageDisplay=function(){return s.getMonthlyUsageText(i.network)},i.clickedConfigureData=function(t){},i.clickedConfigureDay=function(t){},i.usageReplacements=function(){return{usage:i.getMonthlyUsageDisplay(),limitHtml:'<dropdown class="inline" text="getMonthlyLimitText()" model="network.limits.max" options="monthlyOptions" change-start="clickedConfigureData(value)" change-end="monthlyLimitUpdated(value)"></dropdown>'}},i.resetDayReplacements=function(){return{resetDayHtml:'<dropdown class="inline" text="getMontlyResetDayText()" model="network.limits.resetDay" options="resetDayOptions" change-end="resetDayChanged(value)"></dropdown>'}}}]),angular.module("speedifyUI.components").directive("networkWizard",function(){return{scope:{adapterName:"=",guid:"="},restrict:"E",templateUrl:"components/network-wizard/network-wizard.html",controller:"NetworkWizardCtrl"}}).controller("NetworkWizardCtrl",["$scope","speedifyAPI","DataScaling","spTranslate","networkAdapterFunctions","matomo",function(n,t,s,i,e,r){n.defaultCellularDailyLimit=2e8,n.defaultCellularMonthlyLimit=2e9,n.step=0,n.yesCaps=function(){r.trackEvent("wizard-network","apply-caps"),t.set_network_daily_limit(n.wizardNetwork.adapter.guid,n.defaultCellularDailyLimit),t.set_network_limit(n.wizardNetwork.adapter.guid,n.defaultCellularMonthlyLimit,0),n.step=1},n.noCaps=function(){r.trackEvent("wizard-network","no-caps"),n.gotIt()},n.gotIt=function(){r.trackEvent("wizard-network","close"),n.$emit("closePopup","no")},n.getMainSubs=function(){var t={};return t.adapterName=e.GetNetworkDisplayName(n.wizardNetwork.adapter),t},n.getDailyText=function(){var t=[n.defaultCellularDailyLimit],e=s.ScaleData(t,2);return i.numToLocale(t[0])+" "+e+"B"},n.getMonthlyText=function(){var t=[n.defaultCellularMonthlyLimit],e=s.ScaleData(t,2);return i.numToLocale(t[0])+" "+e+"B"}}]),angular.module("speedifyUI.components").directive("networksSlider",function(){return{scope:{networks:"=",configureNetwork:"&",availableWidth:"=",currentState:"=",connectedServer:"="},restrict:"E",templateUrl:"components/networks-slider/networks-slider.html",controller:"NetworksSliderCtrl"}}).controller("NetworksSliderCtrl",["$scope","globals","networkAdapterFunctions","platform","windowEvents","SPEEDIFY_STATES","spTranslate","LearnMore","matomo","speedifyAPI","settingsRepository","$interval","NETWORK_ADAPTER_TYPES","audioPlayer",function(n,s,e,t,i,r,o,a,c,l,d,u,p,g){n.globals=s,n.currentFocussed=0,n.networkComponentWidth=120,n.networkComponentSpacing=20,n.networkComponentHeight=100,n.itemRingOffset=7,n.currentGraphOption=0,n.interval=void 0,n.graphOptions=["Speed","Latency","Loss","Proxy","Shared"],n.graphSwapTime=20,n.allowSharedGraph=function(){return t.features.networkShareHost&&d.network_sharing_settings&&d.network_sharing_settings.host_enabled&&n.networks&&0<n.networks.filter(function(t){return t.type==p.NetworkShareHost&&!t.guid.startsWith("combined\\")}).length},n.checkGraphSwap=function(){d&&d.hasSetVendorLocalSettings&&d.vendor_local_settings&&(d.vendor_local_settings.graph_rotation&&n.currentState==r.CONNECTED?(n.startGraphCheck(),n.graphSwapTime<=0?(n.currentGraphOption==n.graphOptions.length-1?n.currentGraphOption=0:n.currentGraphOption+=1,"Shared"!=n.graphOptions[n.currentGraphOption]||n.allowSharedGraph()||(n.currentGraphOption=0),n.selected(n.graphOptions[n.currentGraphOption]),n.resetGraphSwapTime()):--n.graphSwapTime):n.resetGraphRotation())},n.startGraphCheck=function(){void 0===n.interval&&(n.interval=u(n.checkGraphSwap,1e3))},n.resetGraphSwapTime=function(){n.graphSwapTime=20},n.resetGraphRotation=function(){void 0!==n.interval&&(n.resetGraphSwapTime(),n.currentGraphOption=0,u.cancel(n.interval),n.interval=void 0)},n.getAdapterSize=function(t){660<=t.h||s.tallWindow,n.itemMinWidth=41,n.itemMaxWidth=n.itemMinWidth+2*n.itemRingOffset},n.isConnected=function(){return n.currentState===r.CONNECTED},n.isDesktop=function(){return!t.identity.mobile},n.isSelected=function(t){var e=[];return n.graphOptions[n.currentGraphOption]===t?e.push("darkText"):e.push("darkText40"),"Speed"==t||"Proxy"==t&&n.isConnectedProxy()||e.push("left-option"),e},n.addConnection=function(){c.trackEvent("networks-slider","add-connection"),a("addconnection",c.Screen.Dashboard)},n.getAdapterSize(i.getWindowDimensions());i=n.$on("windowEventResize",function(t,e){n.getAdapterSize(e)});n.$on("$destroy",i),n.getIdFor=function(t){if(t&&t.guid)return e.sanitizeId(t.guid)},n.isAdapter=function(t){return!(!t||!t.guid)&&"~addconnection"!==t.guid},n.configureThisNetwork=function(t){n.configureNetwork&&n.configureNetwork({network:t})},n.numberOfCellConnections=function(){return!n.networks||n.networks.length<=0?0:n.networks.filter(function(t){return t.type===p.Cellular})},n.isNetOffline=function(t){return t.offline?1:0},n.networkFilter={ignored:!1},t.identity.mobile||(n.networkFilter.offline="!true"),n.shouldShowPriorityText=function(){return 2<n.networks.length||2==n.networks.length&&!s.isShowingAddConnection},n.selected=function(t,e){e&&c.trackEvent("graph-change",t),d.vendor_local_settings.graph_rotation||g.playSound("audio/general-tap.mp3",1,!0),n.currentGraphOption=n.graphOptions.indexOf(t),n.resetGraphSwapTime()},n.isConnectedProxy=function(){return n.connectedServer&&"proxy"==n.connectedServer.longName},n.getProxyChartTitle=function(){return n.isConnectedProxy()?o.instant("OMNICHART.SUBTITLES.PROXY"):o.instant("SETTINGSPANE.STREAMINGBYPASS.HEADER").toUpperCase()},n.applyGraphByConnection=function(t){s.safeApply(n.$root,function(){t&&("proxy"==t.longName?"Proxy"!=n.graphOptions[n.currentGraphOption]&&n.selected("Proxy",!1):"Proxy"==n.graphOptions[n.currentGraphOption]&&n.selected("Speed",!1))})},n.filterNetworks=function(){return n.networks?n.networks.filter(function(t){return 4===n.currentGraphOption?t.type==p.NetworkShareHost&&!t.guid.startsWith("combined\\"):3===n.currentGraphOption?t.type!==p.NetworkShareHost&&t.type!==p.NetworkShareClient:t.type!==p.NetworkShareHost}):[]},n.evaluateChangingActiveGraph=function(e){s.safeApply(n.$root,function(){var t=parseInt(e.state);"Shared"==n.graphOptions[n.currentGraphOption]&&(t<=r.LOGGED_IN||!n.allowSharedGraph())&&n.selected("Speed",!1)})},l.register("report_connected_server",n.applyGraphByConnection),l.register("report_vendor_local_settings",n.checkGraphSwap),l.register("report_current_state",n.evaluateChangingActiveGraph),l.register("report_networks",n.evaluateChangingActiveGraph),l.request_connected_server(),n.$on("$destroy",function(){l.unregister("report_connected_server",n.applyGraphByConnection),l.unregister("report_vendor_local_settings",n.checkGraphSwap),l.unregister("report_current_state",n.evaluateChangingActiveGraph),l.unregister("report_networks",n.evaluateChangingActiveGraph)})}]),angular.module("speedifyUI.components").directive("newPopupContainer",function(){return{scope:{show:"="},restrict:"E",transclude:!0,templateUrl:"components/new-popup-container/newPopupContainer.html",controller:"NewPopupContainerCtrl"}}).controller("NewPopupContainerCtrl",["$scope","speedifyAPI","settingsRepository","$timeout","globals","spTranslate",function(t,e,n,s,i,r){t.smallScreen=i.smallScreen,t.isSlideOne=!0,t.show&&(n.vendor_local_settings.shown_secured_bubble=!0,e.set_vendor_local_settings(n.vendor_local_settings)),t.getHeader=function(){return t.isSlideOne?r.instant("GOFORTH.CONNECTED"):"Your Cellular Connection"},t.getHeaderIcon=function(){return t.isSlideOne?"components/goforth/img/goforthTop.png":"components/goforth/img/introWizardCell.png"},t.getSubtitle=function(){return r.instant("GOFORTH.RELIABILITY")},t.continue=function(){t.isSlideOne=!1}}]),angular.module("speedifyUI.components").directive("omniChart",function(){return{scope:{type:"="},link:function(t,e,n){t.elem=e,t.chart=$(e[0]).find("#omniChart"),t.init()},restrict:"E",templateUrl:"components/omni-chart/omni-chart.html",controller:"OmniChartCtrl"}}).controller("OmniChartCtrl",["$scope","colorSave","globals","platform","settingsRepository","debug","$timeout","speedifyAPI","graphCommon","$rootScope","tunnelRepository","spTranslate","DataScaling","sentry","simulateTunnelData","CONNECTION_STATES","NETWORK_ADAPTER_TYPES","pairAndShare",function(ht,vt,St,e,t,Tt,n,s,i,o,ft,Et,r,wt,a,Nt,yt,Pt){ht.chartMode="bandwidth",ht.chartLastUpdate=new Date,ht.tooltipShow=!1,ht.tooltipData=void 0,ht.chartRedrawCount=0,ht.chartRedrawOptimize=(e.identity.mobile,1),ht.hasData=!1,ht.chart=void 0,ht.isVisible=!0,ht.requestedAnimation=0,ht.targetFPS=3,ht.strokeColor="rgba(0,0,0,1)",ht.lightStrokeColor="rgba(44, 241, 164,1.0)",ht.fontName=St.fontName,ht.radiateData={},ht.chartCSSTopOffset=60,ht.chartCSSTopOffsetSpeed=74,ht.chartType="Speed",ht.protocolCategory="tunnel",ht.settingsRepository=t,ht.devWidth=0,ht.devHeight=0,ht.devPixelRatio=0,ht.totalString=Et.instant("OMNICHART.TOTAL");var c,l=o.$on("renderOmniFrame",function(){ht.renderFrame()}),d=(ht.setChartTo=function(t,e){var n,s;switch(t){case"Proxy":n="Speed",s="proxy";break;case"Shared":n="Speed",s="share";break;default:n=t,s="tunnel"}ht.chartType===n&&ht.protocolCategory===s||(ht.chartType=n,ht.protocolCategory=s)},ht.getStrokeColor=function(){t.vendor_local_settings&&(t.vendor_local_settings.theme===t.theme.dark?ht.strokeColor="white":t.vendor_local_settings.theme===t.theme.light?ht.strokeColor="rgba(0,0,0,1)":t.vendor_local_settings.theme===t.theme.system&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ht.strokeColor="white":ht.strokeColor="rgba(0,0,0,1)"))},o.$on("windowEventResize",function(t,e){ht.updateDimensions(),ht.updateDynamicDPRParams(),c&&n.cancel(c),c=n(function(){ht.updateDimensions(),ht.updateDynamicDPRParams()},1500)})),u=(ht.$on("isHidden",function(){ft.historyObject.lastDataStoppage=Date.now(),ht.updateDimensions(!0)}),ht.$on("isVisible",function(){ht.updateDimensions()}),ht.$on("sliderFocusChanged",function(t,e){ht.updateDimensions()}),o.$on("menuToggled",function(t,e){n(function(){ht.updateDimensions()},0)}));ht.$watch("type",function(t){ht.setChartType(t)}),ht.setChartType=function(t){null!=t&&(console.log("Changing chart"),ht.setChartTo(t,!1),ht.renderFrame())},ht.renderFrame=function(t){if(t=t||0,0===ht.requestedAnimation){try{ht.requestedAnimation=(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(ht.updateChart.bind(ht,t))}catch(t){wt.report(t)}++t<ht.targetFPS&&n(function(){ht.renderFrame(t)}.bind(ht),1e3/ht.targetFPS)}},ht.updateDimensions=function(n){St.safeApply(ht.$root,function(){ht.chart&&0!=ht.chart.length||(ht.chart=$("#omniChart"));var t=!1,e=(window.devicePixelRatio!=ht.devPixelRatio&&(ht.devPixelRatio=window.devicePixelRatio,t=!0),ht.chart.css("width")),e=((e=St.isVisible?e:"0px")===ht.width&&!t||(ht.width=e,ht.devWidth=parseInt(ht.width)*window.devicePixelRatio,ht.chart.attr("width",ht.devWidth)),ht.chart.css("height"));(e=St.isVisible?e:"0px")===ht.height&&!t||(ht.height=e,ht.devHeight=parseInt(ht.height)*window.devicePixelRatio,ht.chart.attr("height",ht.devHeight)),!0!==n&&ht.renderFrame()})},ht.init=function(){ht.container=St.findAncestorByClass(ht.elem,"sliderOuter"),ht.updateDimensions(),n(ht.updateDimensions,500),s.request_historic_connection_stats()},ht.tooltipTitleLabel=function(t){return new Date(t).toLocaleTimeString()},ht.tooltipValueLabel=function(t){t=r.BandwidthForPreciseDisplay(t);return Et.numToLocale(t,1)+" Mbps"},ht.formatLabel=function(t,e){t=r.BandwidthForPreciseDisplay(t);return Et.numToLocale(t,1)+(ht.hideYLabelUnits||!0===e?"":" Mbps")},ht.getYPoint=function(t,e,n,s){return Math.min(n-s,n-n*(t/e))},ht.getLabelToolip=function(t){return t&&t.description||""},ht.getLabelOverlayStyle=function(t){var e,n={};return t&&t.size&&(e=0,e=ht.chartCSSTopOffset,n.position="absolute",n.top=t.size.top+e+"px",n.left=t.size.left+"px",n.width=t.size.width+"px",n.height=t.size.height+"px"),n},ht.configure=function(t){ht.$emit("showNetworkConfig",{guid:t})},ht.getDefaultMaxForChart=function(t){switch(t){case"Speed":return 5e6/1.1;case"Loss":return.1;case"Latency":return 50;default:return 0}},ht.adapterOverlayFilter=function(t){return!!t.guid},ht.updateChart=function(M){if(ht.requestedAnimation=0,St.isVisible)if(ht.chart)if(ft.loadingHistoricalData)Tt.error("loading data, deferring");else if(0==parseInt(ht.width)||0==parseInt(ht.height)||NaN==parseInt(ht.width)||NaN==parseInt(ht.height))ht.updateDimensions(!0);else{var t=[],e=new Date,n=new Date,s=new Date(0),i=ht.chartType,r=ht.getDefaultMaxForChart(i),o=ht.protocolCategory,a=(ht.hasData=!1,ft.historyObject.tunnels);for(T in a=Object.fromEntries(Object.entries(a).filter(function(t){if("share"==o){if(t[1].type!=yt.NetworkShareHost||t[1].guid.startsWith("combined\\"))return!1}else if("proxy"==o){if(t[1].type==yt.NetworkShareHost||t[1].type==yt.NetworkShareClient)return!1}else if(t[1].type==yt.NetworkShareHost)return!1;return!0})))a.hasOwnProperty(T)&&0;if(ht.chartRedrawCount=(ht.chartRedrawCount+1)%ht.chartRedrawOptimize,0===ht.chartRedrawCount){for(var c=0;c<ft.historyObject.total.length;c++)s<(G=(f=ft.historyObject.total[c]).time)&&(s=G);n=s.getTime()-ft.graphExtenedTimeTarget,ht.chartLastUpdate=e,ht.chartParams.xaxis.min=new Date(n),ht.chartParams.xaxis.max=new Date(s.getTime());var U=0;for(T in a)if(a.hasOwnProperty(T))if(0<(m=a[T]).data.length)for(c=0;c<m.data.length;c++)if((h=[(f=m.data[c]).time.getTime()])[0]>=n){U++;break}for(var G,B,l=ht.devWidth,e=U,F=e*ht.chartParams.series.bars.minX+(e-1)*ht.chartParams.series.bars.lineSpacing+ht.chartParams.series.bars.secondSpacing,d=Math.floor(l/F),u=ht.chartParams.series.bars.minX,H=F,p=Math.floor(ft.graphExtenedTimeTarget/1e3/d),g=ht.chartParams.xaxis.min.getTime()/1e3%p,n=ht.chartParams.xaxis.max.getTime()-1e3*g-p*d*1e3,c=0;c<ft.historyObject.total.length;c++)n<=(G=(f=ft.historyObject.total[c]).time)&&"Speed"==i&&"tunnel"==o&&(B=f[o].totBps,r=Math.max(B,r));for(T in a)if(a.hasOwnProperty(T)){var m=a[T];if(0!==m.data.length){var $={label:"",description:m.description,data:[],guid:m.guid},V=m.guid;m.type!==yt.NetworkShareClient&&m.type!==yt.NetworkShareHost||(V=Pt.getShareGuid(V)),$.color=vt.getColorForGuid(V);for(c=0;c<m.data.length;c++){var h;0<c&&m.data[c-1];if((h=[(f=m.data[c]).time.getTime(),0,0,0,0]).sleeping=f[o].zzz,h[0]>=n){switch(i){case"Speed":h[1]=f[o].totBps;break;case"Loss":h[1]=Math.max(f[o].lsR,f[o].lsS),h[2]=f[o].lsR,h[3]=f[o].lsS;break;case"Latency":h[1]=f[o].ltMs}r=Math.max(h[1],r),$.data.push(h)}}ht.hasData=!0,t.push($)}}var v=ft.historyObject.total,W=(p=Math.floor(ft.graphExtenedTimeTarget/1e3/d),"Speed"==i);ht.hasData=!1;g=ht.chartParams.xaxis.min.getTime()/1e3%p;for(var Y=ht.chartParams.xaxis.max.getTime()-1e3*g-p*d*1e3,S=d+1,T=0;T<t.length;T++){for(var f=t[T],E=[],c=0,E=new Array(S);c<S;c++)E[c]=[ht.chartParams.xaxis.max.getTime()-1e3*(d-c),0,0,0,0];for(var w=0;w<f.data.length;w++){var N=f.data[w],y=Math.floor((N[0]-Y)/1e3/p);if(!(S<=y||y<0||void 0===y||isNaN(y))){0;try{W?(2<=N.length&&(E[y][1]=Math.max(E[y][1],N[1])),3<=N.length&&(E[y][2]=Math.max(E[y][2],N[2])),4<=N.length&&(E[y][3]=Math.max(E[y][3],N[3])),E[y][4]++):!0!==N.sleeping&&(2<=N.length&&(E[y][1]+=N[1]),3<=N.length&&(E[y][2]+=N[2]),4<=N.length&&(E[y][3]+=N[3]),E[y][4]++)}catch(t){Tt.error("error updating chart",t)}}}for(var j=0;j<E.length;j++){N=E[j];!W&&0<N[4]&&(N[1]/=N[4],N[2]/=N[4],N[3]/=N[4]),r=Math.max(N[1],r)}f.data=E,ht.hasData=!0}for(E=[],c=0,E=new Array(S);c<S;c++)E[c]={time:new Date(ht.chartParams.xaxis.max.getTime()-1e3*(d-c)),data:{totBps:0},objects:0};for(c=0;c<v.length;c++){f=v[c],y=Math.floor((f.time.getTime()-Y)/1e3/p);if(!(S<=y||y<0||void 0===y||isNaN(y)))try{W?E[y].data.totBps=Math.max(E[y].data.totBps,f[o].totBps):E[y].data.totBps+=f[o].totBps,E[y].objects++}catch(t){Tt.error("error updating chart",t)}}for(T=0;T<E.length;T++)(N=E[T])&&(0<N.objects&&!W&&0<N.objects&&(N.data.totBps/=N.objects),"Speed"==i)&&(r=Math.max(N.data.totBps,r));v=E,ht.hasData=!0,ht.chartParams.yaxis.min=0,ht.chartParams.yaxis.max=1.1*r;try{var P=ht.chart[0].getContext("2d"),I=(P.clearRect(0,0,ht.devWidth,ht.devHeight),ht.chartParams.side.textSizeXSmall+"px "+ht.fontName),A="bold "+I,_=(ht.chartParams.side.textSizeLarge,ht.fontName,ht.chartParams.side.lineHeight);ht.chartParams.side.lineHeightLarge;if(0!==t.length){for(var q=(g+ +M/ht.targetFPS)*F/p,k=null,b=0,T=0;T<t.length;T++){var f=t[T],K=!1,C=(P.fillStyle=f.color,P.strokeStyle=f.color,P.lineWidth=u,P.lineCap="round",0),D=0,R=null,z=0,X=0,J=0,Q=1;P.beginPath();for(w=0;w<f.data.length;w++){var O=((N=f.data[w])[0]-ht.chartParams.xaxis.max.getTime())/1e3;null!==R&&O<=R||5<=N.length&&0===N[4]||(C=l+(O-1)*H+b*u+b*ht.chartParams.series.bars.lineSpacing-q)<0||(P.moveTo(C,ht.devHeight-u),D=_+ht.getYPoint(N[1],ht.chartParams.yaxis.max,ht.devHeight-u-_,ht.chartParams.series.bars.minY),P.lineTo(C,D),(null==k||k.y>D)&&((k=null==k?{}:k).y=D,k.x=C,k.data=N,k.color=f.color),R=O,K=!0,z=N[1],w==f.data.length-2&&(X=N[1]),w==f.data.length-3&&(J=N[1]),w>=f.data.length-10&&(Q=Math.max(Q,N[1])))}P.stroke(),"Speed"===i&&ht.checkRadiate(f,z,X,J),K&&b++}if("Speed"==i&&"tunnel"==o){P.fillStyle=ht.lightStrokeColor,P.strokeStyle=ht.lightStrokeColor,P.lineWidth=ht.chartParams.series.total.width,P.beginPath();for(var Z=[.5*e-1.1,.75],R=null,tt=0,c=0;c<v.length;c++){O=((f=v[c]).time.getTime()-ht.chartParams.xaxis.max.getTime())/1e3;if(null!==R){if(O<=R)continue;1<O-R&&(P.stroke(),P.beginPath(),R=null)}var et,C=l+(O-1)*H-b/2*u+Z[0]*ht.chartParams.series.bars.secondSpacing-q;if(!(C<0)){if(D=_+ht.getYPoint(f.data.totBps,ht.chartParams.yaxis.max,ht.devHeight-u-_,ht.chartParams.series.bars.minY)-u,null==R&&P.moveTo(C,D),!St.networks||void 0===St.networks)return;1<St.networks.filter(function(t){if("share"==o){if(t.type!=yt.NetworkShareHost||t.guid.startsWith("combined\\"))return!1}else if("proxy"==o){if(t.type==yt.NetworkShareHost||t.type==yt.NetworkShareClient)return!1}else if(t.type==yt.NetworkShareHost)return!1;return t.connectionState==Nt.CONNECTED}).length&&(P.lineTo(Math.max(C,tt),D),et=C+b*u+b*ht.chartParams.series.bars.lineSpacing+Z[1]*ht.chartParams.series.bars.secondSpacing,P.lineTo(et,D),tt=et,(null==k||k.y>D)&&((k=null==k?{}:k).y=D,k.x=C+(et-C)/2,k.data=[0,f.data.totBps],k.color=f.color),R=O)}}P.stroke()}var L=ht.devWidth-ht.chartParams.side.padding.right;if(k){P.strokeStyle=ht.strokeColor,P.fillStyle=ht.strokeColor,P.lineWidth=+window.devicePixelRatio,P.beginPath(),P.arc(k.x,k.y,u/2*3,0,2*Math.PI),P.stroke(),P.beginPath(),P.arc(k.x,k.y,u/2,0,2*Math.PI),P.stroke(),P.fill();var nt=k.x>.5*l;switch(i){case"Speed":P.font=A,P.fillStyle=k.color;var st=ht.formatLabel(k.data[1],!0),it=P.measureText(st).width,rt=(P.font=I,P.fillStyle=k.color,P.measureText("Mbps").width);x=nt?(L=k.x-2.5*u)-it-rt:(L=ht.devWidth-ht.chartParams.side.padding.right,k.x+2.5*u),P.strokeStyle=ht.strokeColor,P.fillStyle=ht.strokeColor,P.font=A,P.fillText(st,x,k.y+.25*_-2.5*u,L-x),x+=it,P.font=I,P.fillText("Mbps",x,k.y+.25*_-2.5*u,L-x),x+=rt;break;case"Latency":P.font=A,P.fillStyle=k.color;var ot=Et.numToLocale(k.data[1],0),at=P.measureText(ot).width,ct=(P.font=I,P.fillStyle=k.color,P.measureText("ms").width);x=nt?(L=k.x-2.5*u)-at-ct:(L=ht.devWidth-ht.chartParams.side.padding.right,k.x+2.5*u),P.font=A,P.fillStyle=k.color,P.fillText(ot,x,k.y+.25*_-2.5*u,L-x),x+=at,P.font=I,P.fillStyle=k.color,P.fillText("ms",x,k.y+.25*_-2.5*u,L-x),x+=ct;break;case"Loss":P.font=A,P.fillStyle=k.color;var x,lt=Et.numToLocale(100*k.data[2],0,2),dt=P.measureText(lt).width,ut=(P.font=I,P.fillStyle=k.color,P.measureText("%").width),pt=(P.font=A,P.fillStyle=k.color,Et.numToLocale(100*k.data[3],0,2)),gt=P.measureText(pt).width,mt=(P.font=I,P.fillStyle=k.color,P.measureText("%").width);x=nt?(L=k.x-2.5*u)-dt-ut-gt-mt:(L=ht.devWidth-ht.chartParams.side.padding.right,k.x+2.5*u),P.font=A,P.fillStyle=k.color,P.fillText(lt,x,k.y+.25*_-2.5*u,L-x),x+=dt,P.font=I,P.fillStyle=k.color,P.fillText("%",x,k.y+.25*_-2.5*u,L-x),x+=ut,P.font=A,P.fillStyle=k.color,P.fillText(pt,x,k.y+.25*_-2.5*u,L-x),x+=gt,P.font=I,P.fillStyle=k.color,P.fillText("%",x,k.y+.25*_-2.5*u,L-x),x+=mt}}}}catch(t){wt.report(t)}}}else Tt.error("speed missing, deferring")},ht.chartParams={xaxis:{mode:"time",show:!1},yaxis:{show:!1,tickFormatter:ht.formatLabel},series:{bars:{show:!0,align:"center",barWidth:.45},total:{}},grid:{borderWidth:{left:0,right:0,top:0,bottom:0},hoverable:!0,minBorderMargin:0},legend:{show:!1},side:{width:.33,padding:{left:25,top:12},lineMinimumValue:.05,lineMaxAge:.25}},ht.updateDynamicDPRParams=function(){ht.chartParams.side.padding.right=5*window.devicePixelRatio,ht.chartParams.side.textSizeXSmall=12*window.devicePixelRatio,ht.chartParams.side.textSizeLarge=18*window.devicePixelRatio,ht.chartParams.side.lineHeight=12*window.devicePixelRatio,ht.chartParams.side.lineHeightLarge=16*window.devicePixelRatio,ht.chartParams.side.textVerticalPadding=8*window.devicePixelRatio,ht.chartParams.side.labelSpacing=4*window.devicePixelRatio,ht.chartParams.series.bars.minY=+window.devicePixelRatio,ht.chartParams.series.bars.minX=3*window.devicePixelRatio,ht.chartParams.series.bars.secondSpacing=3*window.devicePixelRatio,ht.chartParams.series.bars.lineSpacing=+window.devicePixelRatio,ht.chartParams.series.total.width=2*window.devicePixelRatio},ht.updateDynamicDPRParams(),ht.mouseOver=function(t){e.identity.mobile||(ht.hoveringOn=t,ht.renderFrame())},ht.touchOver=function(t){e.identity.mobile&&(ht.hoveringOn=t,ht.renderFrame())},ht.shouldShowCover=function(){return!ht.hasData},ht.checkRadiate=function(e,t,n,s){var i,r;St.networks&&void 0!==St.networks&&0!==St.networks.filter(function(t){return t.guid===e.guid}).length&&((i=ht.radiateData[e.guid])?i.prevLatestValue===t&&0!==t||(i.prevSecondToLast!==n&&(i.prevSecondToLast=n,i.bucketLengthCount=0,i.numBucketsFilledSinceLastRadiate++,i.radiating)&&n<5e5&&o.$emit("radiateClear"+e.guid),!i.radiating&&1e6<t&&o.$emit("radiateInitial"+e.guid),r=3<=i.numBucketsFilledSinceLastRadiate,i.radiating&&r&&1.5<t/n&&1.5<t/s&&o.$emit("radiateAgain"+e.guid),i.prevLatestValue=t,i.bucketLengthCount++):ht.radiateData[e.guid]={prevLatestValue:t,prevSecondToLast:n,bucketLengthCount:0,radiating:!1,numBucketsFilledSinceLastRadiate:0})},ht.$on("$destroy",function(){l(),d(),u()})}]),angular.module("speedifyUI.components").directive("newsPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",newsMessage:"="},restrict:"E",templateUrl:"components/news-popup/news-popup.html",controller:"NewsPopupCtrl"}}).controller("NewsPopupCtrl",["$scope","platform","$timeout","userEventFunctions","globals","matomo","settingsRepository","speedifyAPI",function(n,e,s,i,r,o,a,c){n.smallScreen=r.smallScreen,n.willClose=!1,n.showChild=!1,n.mainImage=function(t){if(t.includes("lesson-"))return"components/news-popup/img/"+t+".jpg";switch(t){case"bonding":return"components/intro/img/introslide-bonding.png";case"encryption":return"components/intro/img/introslide-encryption.png";case"tracking":return"components/intro/img/introslide-freetier.png";case"help":return"components/intro/img/introslide-multipledevices.png";case"enhance":return"components/news-popup/img/streamEnhance.png";case"limits":return"components/news-popup/img/priorityLimits.png";case"apps":return"components/goforth/img/goforthBottom.png"}},n.learnMore=function(){o.trackEvent("popup-news","learn-more",n.newsMessage.message.content_tag);var t=n.newsMessage.message.link_url;n.dismissStreamPopup(),""===t||handleDeepLink(t,!1)||e.windowOpenExternal(o.appendTracking(t,o.Screen.News,n.newsMessage.message.content_tag))},n.getImageClass=function(t){return t.includes("lesson-")?"news-popup-image-lessons":"news-popup-image"},n.exitUserMessage=function(){var t;a&&a.vendor_local_settings&&a.vendor_local_settings&&("marketing"!==n.newsMessage.topic?(console.log("Supressing message "+n.newsMessage.id),c.set_user_messagehandled(n.newsMessage.id),void 0===a.vendor_local_settings.messagesHandled&&(a.vendor_local_settings.messagesHandled=[]),(t={})[n.newsMessage.id]=(new Date).getTime(),a.vendor_local_settings.messagesHandled.push(t)):i.archiveMessage(n.newsMessage),c.set_vendor_local_settings(a.vendor_local_settings))},n.dismissStreamPopup=function(){n.willClose=!0,n.exitUserMessage(),o.trackEvent("popup-news","close",n.newsMessage.message.content_tag),i.archiveMessage(n.newsMessage),s(function(){r.safeApply(n.$root,function(){n.willClose=!1,n.$emit("newsPopupComplete")})},300)},n.$watch("show",function(t,e){s(function(){r.safeApply(n.$root,function(){n.showChild=t})},150)})}]),angular.module("speedifyUI.components").directive("onePane",function(){return{restrict:"E",templateUrl:"components/one-pane/one-pane.html",controller:"OnePaneCtrl"}}).controller("OnePaneCtrl",["$scope","globals","speedifyAPI","debug","SPEEDIFY_STATES","ERROR_CODES","settingsRepository","userEventFunctions","networkAdapterFunctions","TOGGLE_STATE","platform","$timeout","windowEvents","$rootScope","spTranslate","accounting","TVFocusManager","LearnMore","alertTracker","urlArgs","$mdSidenav","$mdComponentRegistry","policies","NETWORK_PRIORITIES","STAT_PERIODS","loggen","matomo","performanceTestFunctions","permissions","weeklyReportFunctions","testSpeed","branding","disconnectNotificationFunctions","ReviewManager","pairAndShare","NETWORK_ADAPTER_TYPES","NETWORK_SHARE_STATES","audioPlayer",function(l,o,d,a,u,n,p,s,e,i,g,c,r,m,h,v,S,T,f,E,w,N,y,P,I,A,_,k,t,b,C,D,M,R,O,L,U,x){l.showSettings=!1,l.showStatistics=!1,l.showAccountSettings=!1,l.showNetworkSettings=!1,l.showStreamingBypass=!1,l.showStreamingBypassPopup=!1,l.streamingTitle="",l.showSessionSettings=!1,l.showBondingMode=!1,l.startupConnect=!1,l.showTransportMode=!1,l.showHeaderCompression=!1,l.showPairAndShare=!1,l.showJumboMTU=!1,l.showDisconnectOnExit=!1,l.showEncryption=!1,l.showDNSService=!1,l.showKillSwitch=!1,l.showNotifications=!1,l.showSale=!1,l.selectedStat={},l.captivePortalPopup=!1,l.currentSettings="",l.currentNetwork=null,l.captiveNetwork="",l.showTheme=!1,l.showSoundPane=!1,l.showLanguage=!1,l.showWindowLocation=!1,l.showGraphRotation=!1,l.showRegisterLogin=!1,l.showPasswordChange=!1,l.showPasswordReset=!1,l.showDevTools=!1,l.showUpgrade=!1,l.showHelp=!1,l.system_error_message=null,l.configuringNetworkGuid=null,l.lastConnectedTime=null,l.wizardNetwork=null,l.SPEEDIFY_STATES=u,l.initialRegisterText=null,l.loginRegisterHeader=null,l.tallWindow=!1,l.extraBottomBar=!1,l.bottomBarExtraSize=15,l.introShowing=!1,l.showSalePopup=!1,l.shouldShowNewsPopup=!1,l.showingPasPopup=!1,l.showPushPermission=!1,l.showConnectStartupPermission=!1,l.pushPermissionShouldAsk=!1,l.pushPermissionRateLimit=28800,l.currentSession=0,l.handledWizardNetworks=[],l.waitingOnPurchaseAccountAvailable=!1,l.loginRegisterEmail=null,l.showDNSLeak=!1,l.showIPLeak=!1,l.lastSalepopupShownTime=0,l.lastPushpopupShownTime=0,l.isInSale=!1,l.isSigningIn=!1,l.currentSalePopupTimeout=300,l.lastSalepopupShownTime=0,l.openNavTimeout=100,l.closeNavTimeout=250,l.currentDisplayedStats={},l.dnsAddresses=[],l.dnsInputLimit=2,l.wasDualPane=!1,l.shouldShowSocialPopup=!1,l.shouldShowConfettiPopup=!1,l.shouldShowSpeedTestResult=!1,l.showCellWizard=!1,l.showIntroFlow=!1,l.showGoforth=!1,l.currentStatTries=0,l.maxStatTries=10,l.currentEventTries=0,l.maxEventTries=10,l.currentAccountMessage=null,l.currentNewsEvents=[],l.showFeatureUpgradePopup=!1,l.connectAccountError=!1,l.showDisconnectPrompt=!1,l.clearNewsEventAttempts=0,l.deepLinkRetries=0,l.maxDeepLinkRetries=3,l.currentStreams=null,l.requestingAuth=!1,l.isAutoPair=!1,l.isRequesting=!1,l.currentDuration="day",l.children=["account","server","networks","bondingMode","connectStartup","transportMode","jumbo","disconnectExit","devTools","portforwarding","encryption","dnsService","killSwitch","notifications","about","dnsleak","ipleak","language","statisticsDetails","news"],l.secondChildren=["priority","dailyCap","monthlyCap","overlimit","addDNS","ratelimit","ipAddress","upgrade","login","passwordChange","statisticsDetails","testSpeed","pairAndShareDisplay","pairAndShareQr","pairAndReceiveControl","pairAndShareControl","pairAndShareRequest","pairAndShareAutoPair","networks"],l.containsInput=["dnsService","login"],l.usageDataStates={NO_USAGE_DATA_REMAINING:0,LIMITED_USAGE_DATA_REMAINING:1,UNLIMITED_USAGE_DATA:2,DISCONNECTED:3},l.$on("closeStreamingBypass",function(){l.showStreamingBypassPopup=!1,l.popupClosed()}),m.$on("networkShareAuthRequest",function(t,e){l.isRequesting=!1,l.networkShareAuthRequest(e.uuid,e.display_name)}),l.$on("featureUpgradePopupComplete",function(){l.showFeatureUpgradePopup=!1,l.shouldShowLockedDashboard()?_.trackPageView("dashboard/lock-screen","Dashboard - lock-screen"):l.popupClosed()}),l.$on("closeSpeedTest",function(){l.shouldShowSpeedTestResult=!1,l.popupClosed()}),l.$on("closeNag",function(){l.handleNagClose()}),l.$on("pushPopUpComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.showPushPermission=!1,g.features.startupConnectPermission&&(l.showConnectStartupPermission=!0,_.trackPageView("popup/connect-startup-popup","connect-startup-popup"))})},500)}),l.$on("connectStartupPopUpComplete",function(){c(function(){o.safeApply(l.$root,function(){l.showConnectStartupPermission=!1,l.showIntroFlow=!1,l.popupClosed()})},500)}),l.$on("viewTestSpeedHistory",function(t,e){c(function(){o.safeApply(l.$root,function(){l.shouldShowSpeedTestResult=!1,l.handleToggle({navId:"testSpeed",header:h.instant("SETTINGSPANE.TESTSPEED.HEADER"),controllerName:"TestSpeed",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"})})},500)}),l.$on("socialPopUpComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.shouldShowSocialPopup=!1,l.popupClosed()})},500)}),l.$on("disconnectPromptComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){a.log("Dismissing disconnect prompt from disconnectPromptComplete"),l.dismissDisconnectPrompt()})},500)}),l.$on("confettiPopupComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.shouldShowConfettiPopup=!1,l.popupClosed()})},500)}),l.$on("streamPopupComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.closeStreamPopup()})},500)}),l.$on("pasPopupComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.showingPasPopup=!1,l.isAutoPair=!1,e?(N.get("pairAndShare")&&w("pairAndShare").isOpen()&&_.trackPageView("pairAndShare","pairAndShare"),l.isPairingSuccess=null,l.pasErrorMessage=null):l.popupClosed(),l.checkPopUpQueue()})},500)}),l.checkPopUpQueue=function(){c(function(){var t;0<O.popupQueue.length&&(t=O.popupQueue[0],void 0!==(O.deviceToBePaired=t).isRequesting&&(l.isRequesting=t.isRequesting),void 0!==t.isSuccess&&(l.isPairingSuccess=t.isSuccess),void 0!==t.errorMessage&&(l.pasErrorMessage=t.errorMessage),O.popupQueue.shift(),l.showingPasPopup=!0)},1e3)},m.$on("showPasPopup",function(t,e){l.onShowPasPopup(e)}),l.$on("showPasPopup",function(t,e){l.onShowPasPopup(e)}),l.onShowPasPopup=function(t){c(function(){o.safeApply(l.$root,function(){l.isRequesting=t.isRequesting,l.isPairingSuccess=t.isSuccess,l.pasErrorMessage=t.errorMessage,l.showingPasPopup=!0,l.isAutoPair=t.isAutoPair})},700)},l.$on("newsPopupComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.shouldShowNewsPopup=!1,l.shouldShowReviewPopup=!1,l.popupClosed(),l.currentAccountMessage&&(l.currentAccountMessage=null)})},500)}),l.$on("captivePortalPopupComplete",function(t,e){c(function(){o.safeApply(l.$root,function(){l.captivePortalPopup=!1,l.popupClosed()})},500)}),l.$on("showStreamingBypassPopup",function(t,e){a.log("Show bypass popup "+JSON.stringify(e)),l.showBypassPopup(e)}),l.showBypassPopup=function(t){l.isOnDashboard()?(l.streamingTitle=t.title,l.showStreamingBypassPopup=!0,_.trackPageView("popup/streaming-bypass-popup","streaming-bypass-popup"),g.showUi()):c(function(){a.log("Not on dashboard, not showing bypass popup"),l.showBypassPopup(t)},1e3)},l.getSettingsHeader=function(){return h.instant("ONEPANE.POPINS.SETTINGS")},l.popupClosed=function(){_.trackPageView("dashboard","Dashboard")},l.showCaptivePortalPopup=function(){!0!==l.captivePortalPopup&&(l.isOnDashboard()?(_.trackPageView("popup/streaming-bypass-popup","captive-portal-popup"),l.captivePortalPopup=!0,g.showUi()):c(function(){l.showCaptivePortalPopup()},1e3))},l.$on("closesettings",function(t,e){l.closeSettings(e),m.$emit("menuToggled")}),l.$on("managePasDevice",function(t,e){l.managePasDevice(O.deviceToBePaired)}),l.managePasDevice=function(e){let t=o.networks.find(t=>t.guid.includes(e.uuid));if(!t){var n=O.pairedDevices.filter(t=>t.uuid===e.uuid);if(a.log(n),0===n.length)return;(t=n[0]).supports_host&&t.peer_as_host&&t.peer_as_host.peerStatus==U.AUTHENTICATED?t.type=L.NetworkShareClient:t.type=L.NetworkShareHost,t.isPasDevice=!0}l.handleToggle({navId:"networks",header:h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICE"),controllerName:"Networks",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:!0,child:!0,networkName:e.display_name,network:t,isPas:!0})},l.changeSelectedStat=function(t){l.selectedStat=t},l.closeSettings=function(t){if(!l.isLoginForcedOpen()){l.$broadcast("closing",{navId:l.navId}),t&&t.navId&&"networks"===t.navId&&(l.configuringNetworkGuid=null);var e=p.privacy_settings&&p.privacy_settings.accepted_policy==y.currentPolicyDate;if(t&&t.onHide)return!(-1<l.containsInput.indexOf(l.navId))&&!l.isSigningIn&&e?(l.showSettings=!1,l.showFirstChild=!1,l.showSecondChild=!1,void(l.showAddDNS=!1)):void 0;t&&"login"===t.navId&&(l.isMacExtension()&&g.isLoggingIn(!1),l.showRegisterLogin=!1),o.shouldSplit?t&&"settings"===t.navId?l.closeSettingsDualPane(!0,t):l.closeSettingsDualPane(!1,t):t&&t.closeSettings?(w(l.navId).close(),w("settings").close(),_.trackPageView("dashboard","Dashboard"),c(function(){l.showFirstChild=!1,l.showSettings=!1,l.disableAllSettings()},l.closeNavTimeout),l.navId=null):l.showSecondChild?(N.get("pairAndShare")&&w("pairAndShare").isOpen()&&_.trackPageView("pairAndShare","pairAndShare"),w(l.childNavId).close(),c(function(){l.childNavId=null,l.showSecondChild=!1},l.closeNavTimeout)):l.showFirstChild||l.showSecondChild?(N.get(e="settings")||w("settings").isOpen()||(e="dashboard"),_.trackPageView(e,"dashboard"==e?"Dashboard":"Settings Menu"),w(l.navId).close(),c(function(){l.showFirstChild=!1,l.disableAllSettings()},l.closeNavTimeout),l.navId=null):(w("settings").close(),_.trackPageView("dashboard","Dashboard"),c(function(){l.showSettings=!1,l.disableAllSettings()},l.closeNavTimeout))}},l.closeSettingsDualPane=function(t,e){var n=N.getInstances();if(e&&"dashboard"===e.navId)for(var s=0;s<n.length;s++)"dashboard"!==(i=n[s].$$mdHandle)&&"settings"!==i&&(w(i).close(),c(function(){l.showFirstChild=!1,l.showSecondChild=!1},l.closeNavTimeout));if(t){for(s=0;s<n.length;s++){var i=n[s].$$mdHandle;w(i).close()}c(function(){l.showSettings=!1,l.showFirstChild=!1,l.showSecondChild=!1,l.showAddDNS=!1})}else for(s=0;s<n.length;s++){i=n[s].$$mdHandle;if(-1!=l.secondChildren.indexOf(i))return w(i).close(),void c(function(){l.showSecondChild=!1},l.closeNavTimeout);"settings"===i||l.showSecondChild||(w(i).close(),c(function(){l.showFirstChild=!1},l.closeNavTimeout))}},l.$on("customDnsClosed",function(){w("addDNS").close(),c(function(){l.showAddDNS=!1},l.closeNavTimeout)}),l.getDnsLimit=function(){return new Array(l.dnsInputLimit)},l.assignDNS=function(){if(void 0!==p&&void 0!==p.privacy_settings&&0!==Object.keys(p.privacy_settings).length||c(function(){l.assignDNS()},1e3),l.dnsAddresses=[],!(void 0===p.privacy_settings.dns_addresses||p.privacy_settings.dns_addresses.length<=0))for(var t=0;t<p.privacy_settings.dns_addresses.length;t++)l.dnsAddresses.push(p.privacy_settings.dns_addresses[t])},l.assignDNS(),l.handleToggle=function(t){if(x.generateHaptic(),"dashboard"===t.navId)l.navId="dashboard",l.closeSettings({navId:"dashboard"});else{t.child?1==t.child&&(l.showSecondChild=!0,l.childNavId=t.navId,l.childHeader=t.header,l.childControllerName=t.controllerName,l.childBackButtonTitle=t.backButtonTitle,l.childBackButton=t.showBackButton):("settings"!==t.navId&&(l.showFirstChild=!0),l.navId=t.navId,l.header=t.header,l.controllerName=t.controllerName,l.backButtonTitle=t.backButtonTitle,l.showBackButton=t.showBackButton,l.showQrCode=t.showQrCode,l.networkName=t.networkName,void 0!==t.guid&&(l.configuringNetworkGuid=t.guid,l.configureThisNetwork(t.guid))),l.disableAllSettings();var e=!1,n="dashboard";switch(t.navId){case"bondingMode":l.showSessionSettings=!0,l.showBondingMode=!0,n="settings";break;case"connectStartup":l.showSessionSettings=!0,l.startupConnect=!0,n="settings";break;case"transportMode":l.showSessionSettings=!0,l.showTransportMode=!0,n="settings";break;case"testSpeed":l.showTestSpeed=!0,n="settings";break;case"headerCompression":l.showSessionSettings=!0,l.showHeaderCompression=!0,n="settings";break;case"pairAndShare":l.showSessionSettings=!0,l.showPairAndShare=!0,n="pairAndShare";break;case"jumbo":l.showSessionSettings=!0,l.showJumboMTU=!0,n="settings";break;case"disconnectexit":l.showSessionSettings=!0,l.showDisconnectOnExit=!0,n="settings";break;case"devTools":l.showSessionSettings=!0,l.showDevTools=!0,n="settings";break;case"portforwarding":l.showSessionSettings=!0,l.showPortForwarding=!0,n="settings";break;case"encryption":l.showPrivacySettings=!0,l.showEncryption=!0,n="settings";break;case"dnsService":l.showPrivacySettings=!0,l.showDNSService=!0,n="settings";break;case"addDNS":l.showPrivacySettings=!0,l.showDNSService=!0,l.showAddDNS=!0,n="settings";break;case"killSwitch":l.showPrivacySettings=!0,l.showKillSwitch=!0,n="settings";break;case"notifications":l.showPrivacySettings=!0,l.showNotifications=!0,n="settings";break;case"streamingBypass":l.showPrivacySettings=!0,l.showStreamingBypass=!0,n="settings";break;case"networks":t.isPas?(l.secondChildren.push("networks"),t.network&&(l.currentNetwork=t.network),l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPasNetworkSettings=!0):(l.showNetworkSettings=!0,l.secondChildren=l.secondChildren.filter(t=>"networks"!==t));break;case"dnsleak":l.showPrivacySettings=!0,l.showDNSLeak=!0,n="settings";break;case"ipleak":l.showPrivacySettings=!0,l.showIPLeak=!0,n="settings";break;case"account":l.showAccountSettings=!0,l.showLoginSettings=!0,n="settings";break;case"server":l.showServerSettings=!0,n="settings";break;case"statistics":l.showStatistics=!0,n="settings";break;case"news":l.showNews=!0,n="settings";break;case"statisticsDetails":N.get("account")&&w("account").isOpen()?l.showAccountSettings=!0:N.get("statistics")&&w("statistics").isOpen()&&(l.showStatistics=!0),l.showStatisticDetails=!0,n="settings";break;case"about":l.showAbout=!0,n="settings";break;case"theme":l.showTheme=!0,n="settings";break;case"sounds":l.showSoundPane=!0,n="sounds";break;case"language":g.features.nativeLanguagePicker?g.openLanguages():l.showLanguage=!0,n="settings";break;case"windowLocation":l.showWindowLocation=!0,n="settings";break;case"graphRotation":l.showGraphRotation=!0,n="settings";break;case"dailyCap":l.showNetworkSettings=e=!0,l.showDailyLimitSettings=!0;break;case"monthlyCap":l.showNetworkSettings=e=!0,l.showMonthlyLimitSettings=!0;break;case"overlimit":l.showNetworkSettings=e=!0,l.showOverlimitSettings=!0;break;case"ratelimit":l.showNetworkSettings=e=!0,l.showRatelimitSettings=!0;break;case"ipAddress":l.showNetworkSettings=e=!0,l.showIPAddressSettings=!0;break;case"pairAndShareDisplay":l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPairAndShareDisplay=!0,n="pairAndShare";break;case"pairAndShareQr":l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPairAndShareQr=!0,n="pairAndShare";break;case"pairAndShareRequest":l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPairAndShareRequest=!0,n="pairAndShare";break;case"pairAndShareAutoPair":l.showSessionSettings=!0,l.showPairAndShare=!0,l.pairAndShareAutoPair=!0,n="pairAndShare";break;case"pairAndShareControl":l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPairAndShareControl=!0,n="pairAndShare";break;case"pairAndReceiveControl":l.showSessionSettings=!0,l.showPairAndShare=!0,l.showPairAndReceiveControl=!0,n="pairAndShare";break;case"login":l.showAccountSettings=!0,l.showLoginSettings=!0,n="pairAndShare";break;case"passwordChange":l.showAccountSettings=!0,l.showPasswordChange=!0,n="settings";break;case"upgrade":l.handleOpeningUpgrade(),l.showUpgrade=!0;break;case"priority":l.showNetworkSettings=e=!0,l.showPrioritySettings=!0}"addDNS"===t.child?c(function(){w("addDNS").open()},l.openNavTimeout):t.child?c(function(){w(l.childNavId).open()},l.openNavTimeout):c(function(){w(l.navId).open()},l.openNavTimeout),"networks"===t.navId?l.currentNetwork&&l.currentNetwork.type&&_.trackPageView("settings/adapter/"+l.currentNetwork.type,"Adapter - "+l.currentNetwork.type):e?l.currentNetwork&&l.currentNetwork.type?_.trackPageView("settings/adapter/"+l.currentNetwork.type+"/"+t.navId,"Adapter - "+l.currentNetwork.type+" - "+t.navId):_.trackPageView("settings/adapter/UNKNOWN/"+t.navId,"Adapter - UNKNOWN - "+t.navId):_.trackPageView(n+"/"+t.navId,n+" - "+t.navId)}},l.disableAllSettings=function(){o.shouldSplit&&l.showSecondChild&&l.closeSettingsDualPane(!1),l.handleNagClose(),l.showDashboard=!1,l.showDNSLeak=!1,l.showIPLeak=!1,l.showStatistics=!1,l.showNews=!1,l.showTheme=!1,l.showSoundPane=!1,l.showLanguage=!1,l.showWindowLocation=!1,l.showGraphRotation=!1,l.showAccountSettings=!1,l.showServerSettings=!1,l.showAbout=!1,l.showNetworkSettings=!1,l.showPrioritySettings=!1,l.showStatisticDetails=!1,l.showDailyLimitSettings=!1,l.showMonthlyLimitSettings=!1,l.showOverlimitSettings=!1,l.showRatelimitSettings=!1,l.showIPAddressSettings=!1,l.showPairAndShareDisplay=!1,l.showPairAndShareQr=!1,l.showPairAndShareRequest=!1,l.pairAndShareAutoPair=!1,l.showPasNetworkSettings=!1,l.showPairAndShareControl=!1,l.showPairAndReceiveControl=!1,l.showSessionSettings=!1,l.showBondingMode=!1,l.startupConnect=!1,l.showTransportMode=!1,l.showHeaderCompression=!1,l.showPairAndShare=!1,l.showJumboMTU=!1,l.showPortForwarding=!1,l.showDisconnectOnExit=!1,l.showTestSpeed=!1,l.showPrivacySettings=!1,l.showEncryption=!1,l.showDNSService=!1,l.showKillSwitch=!1,l.showUpgrade=!1,l.showPasswordChange=!1,l.showNotifications=!1,l.showStreamingBypass=!1,l.showSupportSettings=!1,l.showDevTools=!1,l.showLoginSettings=!1,l.showAddDNS=!1},l.handleOpeningUpgrade=function(){for(var t=N.getInstances(),e=0;e<t.length;e++)switch(t[e].$$mdHandle){case"account":l.showAccountSettings=!0;break;case"news":l.showNews=!0;break;case"server":l.showServerSettings=!0;break;case"encryption":l.showPrivacySettings=!0,l.showEncryption=!0;break;case"dnsService":l.showPrivacySettings=!0,l.showDNSService=!0;break;case"killSwitch":l.showPrivacySettings=!0,l.showKillSwitch=!0;break;case"ratelimit":l.showNetworkSettings=!0,l.showRatelimitSettings=!0}},l.isConnected=function(){return l.currentState===u.CONNECTED},l.isDnsAddressesValid=function(){if(l.dnsAddresses.length<=0)return!1;for(var t=0;t<l.dnsAddresses.length;t++)if(void 0!==l.dnsAddresses[t]&&!1===l.checkValid(l.dnsAddresses[t]))return!1;return!0},l.isServerOpen=function(){if(N.get("server")&&w("server").isOpen())return!0},l.checkValid=function(t){var e=!1;if(t){var n=t.split(".");if(!(n.length<4)){for(var s=0,i=0;i<n.length;i++){if(isNaN(n[i]))return e;0<=parseInt(n[i])&&parseInt(n[i])<255&&(s+=1)}4===s&&(e=!0)}}return e},l.getClasses=function(){return o.shouldSplit?(l.isChild||-1==l.children.indexOf(l.navId)||(l.isChild=!0),"settings"!==l.navId?"animated md-sidenav-right tablet-child-width left-divider":"animated md-sidenav-left tablet-settings-width md-whiteframe-4dp "):"animated md-sidenav-right full-width md-whiteframe-4dp "},l.initOnePane=function(){l.evaluateTallWindow()},l.evaluateTallWindow=function(t){t=t||r.getWindowDimensions(),o.isTabletOverride||(o.isTablet=t.h/t.w<=.75),l.useableHeight=t.h,l.tallWindow=o.isTablet&&300<=l.useableHeight||320<=.6*l.useableHeight,o.tallWindow=l.tallWindow,o.shouldSplit=750<t.w&&!o.isTV,o.smallScreen=window.innerHeight<580,o.isTablet?(l.viewPaneAvailableOuterHeight=Math.min(768,l.useableHeight),l.viewPaneAvailableHeight=l.viewPaneAvailableOuterHeight):(l.viewPaneAvailableOuterHeight=.4*l.useableHeight,l.viewPaneAvailableHeight=l.viewPaneAvailableOuterHeight-(l.extraBottomBar?l.bottomBarExtraSize:0)),o.isTV&&o.isTablet&&(l.viewPaneAvailableHeight-=94)},l.showSalePopupMessage=function(){if(l.isOnDashboard()){var t=(new Date).getTime();if(0!=l.lastSalepopupShownTime&&0<l.lastSalepopupShownTime)if((t-l.lastSalepopupShownTime)/1e3<=l.currentSalePopupTimeout)return;v.isPaying||v.isUnlimited||!0!==l.isInSale||null==v.startDate||isNaN(v.startDate)||v.startDate<=0||(new Date).getTime()/1e3-v.startDate>o.popupSaleTime||(a.log("Showing sale popup"),l.showSalePopup=!0,l.lastSalepopupShownTime=(new Date).getTime())}else c(function(){l.showSalePopupMessage()},1e3)},l.showWeeklyStatsPopup=function(){p&&0!=p.hasSetVendorLocalSettings&&l.allLanguagesLoaded?(l.currentDuration="week",l.handleToggle({navId:"statistics",header:h.instant("SETTINGSPANE.STATISTICS.TITLE"),controllerName:"Statistics",backButtonTitle:"Settings",showBackButton:"true"}),l.shouldShowConfettiPopup=!0,_.trackEvent("weeklyStats","popup")):l.currentStatTries<l.maxStatTries&&(l.currentStatTries+=1,c(function(){l.showWeeklyStatsPopup()},1e3))},l.evaluateStreamsForPopup=function(t){if(p.hasSetVendorLocalSettings&&p.vendor_local_settings&&p.vendor_local_settings.streamsave_alerts&&parseInt(l.currentState)===u.CONNECTED){l.currentStreams=t.streams;var e=(new Date).toDateString(),n=(n=p.vendor_local_settings.streamNotificationsShown)||{};if(e in n||(n[e]={numShown:0}),!(e in n&&2==n[e].numShown)){var s=l.currentStreams.filter(function(t){return!t.active&&1==l.streamPopupHasValidDate(t)});if(s.sort(function(t,e){return t.start_time-e.start_time}),l.currentStreams.filter(function(t){return t.active}).length<=0&&0<s.length)for(var i=0;i<s.length;i++){var r=s[i];if(r&&null!==r&&r.id&&null!==r.id){var o=r.id,a=r.speed_saves+r.redundant_saves+r.failover_saves,c=Date.now()/1e3-(r.start_time+r.duration);if(!(l.lastConnectedTime&&r.start_time<l.lastConnectedTime/1e3||r.duration<180||1200<c||!(0<a)||(g.requestNativeReview(),o in n[e]))){n[e].numShown+=1,n[e][o]=!0,p.vendor_local_settings.streamNotificationsShown=n,d.set_vendor_local_settings(p.vendor_local_settings),l.showStreamPopup(s[i]);break}}}}}},l.streamPopupHasValidDate=function(t){var e;return!!t&&(e=new Date,t=new Date(1e3*t.start_time),e.getDate()==t.getDate())},l.showStreamPopup=function(t){t&&(void 0!==l.streamPopupInterval&&c.cancel(l.streamPopupInterval),l.shouldShowStreamPopup=!0,l.streamToShow=t,_.trackPageView("popup/stream-popup","stream-popup"),l.streamPopupInterval=c(function(){a.log("Stream popup reached time limit. Closing"),l.closeStreamPopup()},12e5))},l.closeStreamPopup=function(){l.shouldShowStreamPopup=!1,l.popupClosed(),void 0!==l.streamPopupInterval&&(c.cancel(l.streamPopupInterval),l.streamPopupInterval=void 0)},l.showPrimaryWarningMessage=function(){var t,e,n,s;l.isOnDashboard()?o.networks&&void 0!==o.networks&&null!=(t=o.networks.filter(function(t){return"cellular"===t.guid&&t.priority===P.ALWAYS.value}))&&0<t.length&&p.vendor_local_settings.last_primary_cell_warning&&(e=new Date,n=new Date(p.vendor_local_settings.last_primary_cell_warning),s=Date.now()-p.vendor_local_settings.last_primary_cell_warning,4<Math.floor(s/1e3)/60/60)&&e.getDay()!==n.getDay()&&(s=""!==t[0].isp?t[0].isp:t[0].guid,ShowConfirmPopup({msg:h.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.MSG"),isUrgent:!1,yesCb:function(){o.safeApply(l.$root,function(){p.vendor_local_settings.last_primary_cell_warning=Date.now(),d.set_vendor_local_settings(p.vendor_local_settings)})},noCb:function(){o.safeApply(l.$root,function(){t.map(function(t){d.set_network_priority(t.guid,P.SECONDARY.value)})})}.bind(this),yesText:h.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.ASKAGAINOK"),noText:h.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.ASKAGAINCANCEL"),title:h.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.ASKAGAINTITLE",{adapter:s}),groupId:"priority"})):c(function(){l.showPrimaryWarningMessage()},1e3)},l.shouldShowSettings=function(){!o.shouldSplit||N.get("settings")||l.showFirstChild||l.showSecondChild||(l.showSettings=!0,w("settings").open())},l.shouldShowDashboardButton=function(){return!o.shouldSplit||!N.get("settings")},l.isApple=function(){return"ios"===g.platformClass||"macExtension"===g.platformClass},l.showNewsPane=function(){return!!(p&&p.vendor_local_settings&&p.hasSetVendorLocalSettings)&&p.vendor_local_settings.news_visibility},l.hasUserNotifications=function(){if(null===l.currentAccountMessage){if(v&&v.userNotifications&&0<v.userNotifications.length)for(var t=0;t<v.userNotifications.length;t++){var e=v.userNotifications[t];if(("text-banner"===e.message.type||"notification-popup"===e.message.type)&&(e.platform===g.platformClass||"all"===e.platform||"mobile"===e.platform&&l.isMobile()||"desktop"===e.platform&&!l.isMobile()||"apple"===e.platform&&l.isApple())&&!(!0===e.expires&&e.expire_date<Date.now())&&p&&p.vendor_local_settings&&p.hasSetVendorLocalSettings){if(p.vendor_local_settings.messagesHandled)if(0<p.vendor_local_settings.messagesHandled.filter(function(t){return!0===t.hasOwnProperty(e.id)}).length)continue;if((null===l.currentAccountMessage||null===l.currentAccountMessage.id||l.currentAccountMessage.id!==e.id)&&1==e.message.show_local_notification){void 0!==g.showUserMessageNotification&&g.showUserMessageNotification(e),"text-banner"===e.message.type?l.currentAccountMessage=e:"notification-popup"!==e.message.type||l.shouldShowNewsPopup||(l.currentNewsMessage=e,l.shouldShowNewsPopup=!0);break}}}}else if("marketing"===l.currentAccountMessage.message.topic||"speedifyLive"===l.currentAccountMessage.message.topic)return!1;return null!==l.currentAccountMessage},l.hasUserTextBannerEvents=function(){var t;return!(null!==l.currentAccountMessage&&"marketing"!=l.currentAccountMessage.topic&&"speedifyLive"!=l.currentAccountMessage.topic||(!l.currentNewsEvents||l.currentNewsEvents.length<=0?(l.currentAccountMessage=null,1):!p||p.hasSetVendorLocalSettings&&!p.vendor_local_settings||(null==(t=s.textBannerMessages(l.currentNewsEvents))||t.length<=0?(l.currentAccountMessage=null,1):(l.currentAccountMessage=t[0],_.trackEvent("banner",l.currentAccountMessage.message.content_tag,l.currentAccountMessage.message.title),null===l.currentAccountMessage))))},l.testUserAccountMessages=function(t){null!==l.currentAccountMessage?a.log("There is already messages in queue. Not showing test account messages."):!t||t.length<=0||(l.currentAccountMessage=t[0],1==l.currentAccountMessage.message.show_local_notification&&void 0!==g.showUserMessageNotification&&g.showUserMessageNotification(l.currentAccountMessage))},l.getUserMessageBackgroundClasses=function(){var t=[];return null!==l.currentAccountMessage&&(l.isUnlimited()?t.push("unlimitedUserAccount"):t.push("freeUserAccount"),l.isDualPane()&&t.push("dualPane"),null!=l.currentAccountMessage.message)&&("info"===l.currentAccountMessage.message.level?t.push("infoMessage"):"success"===l.currentAccountMessage.message.level?t.push("successMessage"):"warning"===l.currentAccountMessage.message.level?t.push("warningMessage"):"error"===l.currentAccountMessage.message.level&&t.push("errorMessage")),t},l.handleUserMessage=function(t){"marketing"!==t.topic&&"speedifyLive"!==t.topic||(_.trackEvent("dashboard","handle-message",JSON.stringify(t)),s.archiveMessage(t));t=t.message.link_url;""!==t&&(l.handleDeepLink(t,!1)||g.windowOpenExternal(_.appendTracking(l.currentAccountMessage.message.link_url,_.Screen.Banner,l.currentAccountMessage.message.content_tag)),l.currentAccountMessage=null)},l.exitUserMessage=function(){var t;p&&p.vendor_local_settings&&null!==l.currentAccountMessage&&("marketing"!==l.currentAccountMessage.topic&&"speedifyLive"!==l.currentAccountMessage.topic?(a.log("Supressing message "+JSON.stringify(l.currentAccountMessage.id)),_.trackEvent("dashboard","exit-user-message",l.currentAccountMessage.title),d.set_user_messagehandled(l.currentAccountMessage.id),void 0===p.vendor_local_settings.messagesHandled&&(p.vendor_local_settings.messagesHandled=[],(t={})[l.currentAccountMessage.id]=(new Date).getTime(),p.vendor_local_settings.messagesHandled.push(t))):null!==l.currentAccountMessage&&void 0!==l.currentAccountMessage&&s.archiveMessage(l.currentAccountMessage),l.currentAccountMessage=null,d.set_vendor_local_settings(p.vendor_local_settings))},l.setWindowLocation=function(t){o.safeApply(l.$root,function(){p&&p.vendor_local_settings&&(p.vendor_local_settings.windowLocation||(p.vendor_local_settings.windowLocation={}),p.vendor_local_settings.windowLocation.isFloating=t,d.set_vendor_local_settings(p.vendor_local_settings))})},l.setNewsEvents=function(t){o.safeApply(l.$root,function(){t&&Array.isArray(t)&&0!==t.length&&(p&&p.hasSetVendorLocalSettings&&p.vendor_local_settings&&v&&v.email?(l.clearNewsEventAttempts=0,l.clearArchivedMessages(t),l.currentNewsEvents=b.filterWeeklyReports(t),l.evaluateNewsForPopups(l.currentNewsEvents),M.setRemoteNotifications(l.currentNewsEvents)):l.currentEventTries<l.maxEventTries&&(l.currentEventTries+=1,c(function(){a.log("Waiting for accounting to update before settings events"),l.setNewsEvents(t)},1e3)))})},l.hasNewsEvents=function(){var t=s.notificationCenterMessages(l.currentNewsEvents);return t&&0<t.length},l.evaluateNewsForPopups=function(t){var e;p&&p.hasSetVendorLocalSettings?0==l.shouldShowNewsPopup&&0<(e=s.popupMessages(t)).length&&(l.currentNewsMessage=e[0],l.shouldShowNewsPopup=!0,_.trackPageView("popup/news-popup/"+l.currentNewsMessage.message.content_tag,"news-popup - "+l.currentNewsMessage.message.title)):c(function(){l.evaluateNewsForPopups(t)},1e3)},l.clearArchivedMessages=function(t){p&&p.hasSetVendorLocalSettings?(s.clearOldArchives(t),l.clearNewsEventAttempts=0):l.clearNewsEventAttempts<10&&(l.clearNewsEventAttempts+=1,c(function(){l.clearArchivedMessages(t)},1e3))},l.$on("windowEventResize",function(t,e){if(o.shouldSplit)for(var n=["networks","account","stream","server","statistics","news","statisticsDetails","dashboard"],s=0;s<n.length;s++)N.get(n[s])&&w(n[s]).isOpen()&&(l.showSettings||(l.showSettings=!0,l.wasDualPane=!0),c(function(){w("settings").open()},l.openNavTimeout));else!l.wasDualPane&&void 0!==l.navId&&"dashboard"!==l.navId||(l.wasDualPane=!1,l.showSettings=!1);l.evaluateTallWindow(e)}),l.setIsTablet=function(t){o.safeApply(l.$root,function(){void 0!==t?(o.isTabletOverride=!0,o.isTablet=t):o.isTabletOverride=!1,l.evaluateTallWindow()})},l.deviceIsManaged=function(t){o.safeApply(l.$root,function(){o.deviceIsManaged=void 0!==t&&t,l.evaluateTallWindow()})},l.setIsTV=function(t){o.safeApply(l.$root,function(){void 0===t&&(t=!1),o.isTV=t||o.isTV,S._enabled=o.isTV,l.evaluateTallWindow()})},l.setIsNotched=function(t){o.safeApply(l.$root,function(){l.extraBottomBar=t,l.evaluateTallWindow()})},l.setSupportsSiriShortcuts=function(t){o.safeApply(l.$root,function(){o.supportsSiriShortcuts=t})},l.supportsRedemptionCodes=function(t){o.safeApply(l.$root,function(){o.supportsRedemptionCodes=t})},l.setHasIosDropdownBug=function(t){o.safeApply(l.$root,function(){o.hasIosDropdownBug=t})},l.getDaemonConnected=function(){return l.successfulComms},l.shouldShowNetworks=function(){return l.getDaemonConnected()&&void 0!==l.currentState},l.getSpeedifyRunning=function(){switch(parseInt(l.currentState)){case u.CONNECTED:return!0;case u.LOGGED_OUT:case u.LOGGED_IN:case u.AUTO_CONNECTING:case u.CONNECTING:case u.DISCONNECTING:case u.LOGGING_IN:default:return!1}},l.getConfiguringNetwork=function(){if(null!==l.configuringNetworkGuid){for(var t=0;t<o.networks.length;t++)if(o.networks[t].guid==l.configuringNetworkGuid)return o.networks[t];l.configuringNetworkGuid=null}},l.getAdapterConfigTitle=function(t){return t?e.GetNetworkDisplayName(t):h.instant("ONEPANE.POPINS.ADAPTERCONFIGURE")},l.getAdapterConfigHover=function(){var t=l.getConfiguringNetwork();return t?e.GetNetworkDescription(t):""},l.configurePasClient=function(t){l.currentNetwork=t,l.handleToggle({navId:"networks",header:h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICE"),controllerName:"Networks",backButtonTitle:h.instant("SETTINGSPANE.DONE"),networkName:t.display_name})},l.configureThisNetwork=function(t){t&&(0==t.indexOf("~")?"~addconnection"===t&&T("addconnection",_.Screen.Dashboard):(l.configuringNetworkGuid=t,t=l.getConfiguringNetwork(),l.currentNetwork=t,o.shouldSplit?(l.showSettings=!0,c(function(){w("settings").open()},l.openNavTimeout),l.handleToggle({navId:"networks",header:t.type===L.NetworkShareClient||t.type===L.NetworkShareHost?h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICE"):t.type,controllerName:"Networks",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true",networkName:l.getAdapterConfigTitle(t)})):l.handleToggle({navId:"networks",header:t.type===L.NetworkShareClient||t.type===L.NetworkShareHost?h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICE"):t.type,controllerName:"Networks",backButtonTitle:h.instant("SETTINGSPANE.DONE"),networkName:l.getAdapterConfigTitle(t)})))},l.$on("showNetworkConfig",function(t,e){l.configureThisNetwork(e.guid)}),l.doShowPasswordChange=function(){l.handleToggle({navId:"passwordChange",header:h.instant("ONEPANE.POPINS.CHANGEPASSWORD"),controllerName:"PasswordChange",child:!0})},l.$on("showPasswordChange",function(){l.doShowPasswordChange()}),l.$on("showPasswordReset",function(){l.showPasswordReset=!0}),l.$on("showDevTools",function(){l.showDevTools=!0}),l.$on("launchHelp",function(){l.launchHelp()}),l.$on("showUpgrade",function(t,e){l.showStore()}),l.$on("weeklyStatPopup",function(t,e){l.showWeeklyStatsPopup()}),l.$on("showMyStatistics",function(t,e){l.currentDuration="week",l.handleToggle({navId:"statistics",header:h.instant("SETTINGSPANE.STATISTICS.TITLE"),controllerName:"Statistics",backButtonTitle:"Settings",showBackButton:"true"})}),l.$on("showServers",function(){p.isSettingLocked("connect")||p.isSettingLocked("connectmethod")?p.settingLockedPopup():(l.navId="server",l.showServerSettings=!0,o.shouldSplit?(l.showSettings=!0,c(function(){w("settings").open()},l.openNavTimeout),l.handleToggle({navId:"server",header:h.instant("SETTINGSPANE.SERVERS.SERVER"),controllerName:"Server",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"})):l.handleToggle({navId:"server",header:h.instant("SETTINGSPANE.SERVERS.SERVER"),controllerName:"Server",backButtonTitle:h.instant("SETTINGSPANE.BACK"),showBackButton:"true"}),l.currentSettings="servers")}),l.$on("showSettings",function(){l.showSettings=!0,l.navId="settings",c(function(){l.showSettings&&w("settings").open()},l.openNavTimeout),l.currentSettings="servers"}),l.selected=function(t){l.currentDuration=t,l.assignStatsObject()},l.showReviewPopup=function(){R.canReview()&&(l.currentNewsMessage=R.reviewMessage(),l.shouldShowReviewPopup=!0,R.setLastReviewTime())},l.sessionDurationToKey=function(t){switch(t){case"day":return I.DAY;case"month":return I.MONTH;case"week":return I.WEEK;case"total":return I.TOTAL;default:return I.CURRENT}},l.assignStatsObject=function(){var t;void 0!==l.sessionStats&&(t=l.sessionDurationToKey(l.currentDuration),void 0!==l.sessionStats[t])&&(l.currentDisplayedStats=l.sessionStats[t])},l.$on("statsPane",function(t,e){e&&(_.trackEvent("statistics","view-"+e.currentId,e.currentDuration),l.currentDuration=e.currentDuration,l.currentStatId=e.currentId,l.currentStat=e.currentStat),l.sendToStatistics()}),l.sendToStatistics=function(){"account"!==l.navId&&(l.navId="statistics"),o.shouldSplit?(l.showSettings=!0,c(function(){w("settings").open()},l.openNavTimeout),l.handleToggle({navId:"statisticsDetails",header:l.currentStat,controllerName:"StatisticDetails",child:!0})):l.handleToggle({navId:"statisticsDetails",header:l.currentStat,controllerName:"StatisticDetails",backButtonTitle:h.instant("SETTINGSPANE.BACK"),showBackButton:"true",child:!0}),l.currentSettings="statistics"},l.sendToPasSettings=function(){l.navId="pairAndShare";var t=g.features.networkShareHost?"true":"false";o.shouldSplit&&(l.showSettings=!0,c(function(){w("settings").open()},l.openNavTimeout)),l.handleToggle({navId:"pairAndShare",header:h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.TITLE"),controllerName:"PairAndShare",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true",showQrCode:t}),l.currentSettings="pairAndShare"},l.getStatValue=function(t,e){if(void 0!==l.currentDisplayedStats&&0!==Object.keys(l.currentDisplayedStats).length&&void 0!==l.currentDisplayedStats[t])return void 0===l.currentDisplayedStats[t][e]||l.currentDisplayedStats[t][e]<0?""===e&&0<l.currentDisplayedStats[t]?"max_upload_mbps"===t||"max_download_mbps"===t?Math.round(l.currentDisplayedStats[t])<=0?void 0:Math.round(l.currentDisplayedStats[t])+" Mbps":"encrypted_bytes_recv"===t||"encrypted_bytes_sent"===t?bytesToSize(l.currentDisplayedStats.encrypted_bytes_recv+l.currentDisplayedStats.encrypted_bytes_sent):l.currentDisplayedStats[t]:void 0:l.currentDisplayedStats[t][e]<=0?void 0:l.currentDisplayedStats[t][e]},l.showStore=function(){_.trackEvent("dashboard","store-open"),o.safeApply(l.$root,function(){c(function(){o.sentToStore=!0,g.features.nativePurchase?N.get("login")?(l.showLoginSettings=!1,l.showUpgrade=!0):l.handleToggle({navId:"upgrade",header:h.instant("ACCOUNTPANE.UPGRADE"),controllerName:"Upgrade",child:!0}):(g.windowOpenExternal(_.appendTracking(D.url_settings.store_url,_.Screen.Dashboard,"store"),!0),purchaseComplete())},l.openNavTimeout)})},l.shouldShowUpgradeNav=function(){return(l.isMobile()||l.isMacExtension())&&l.introComplete()&&l.allLanguagesLoaded&&("usage50"==l.currentNag||"usage75"==l.currentNag)},l.shouldShowUsageNag=function(){return l.introComplete()&&l.allLanguagesLoaded&&("usage50"==l.currentNag||"usage75"==l.currentNag)},l.$on("connectError",function(t,e){e&&e.error&&e.error.type&&(l.connectAccountError=e.error.type===n.ACCOUNT)}),l.$on("stateUpdated",function(t,e){l.currentState!==u.CONNECTING&&l.currentState!==u.CONNECTED||(a.log("Dismissing disconnect prompt from state update"),l.dismissDisconnectPrompt()),l.currentState===u.CONNECTED&&(l.connectAccountError=!1)}),l.shouldShowLockedDashboard=function(){return v.isDataReached()&&!v.isPaying&&l.connectAccountError},l.shouldShowDesktopNag=function(){return!1},l.updatePushPermission=function(t){_.trackEvent("go-forth","push-permission"+t),o.safeApply(l.$root,function(){p.vendor_local_settings&&(p.vendor_local_settings.captiveportal_alerts=t,p.vendor_local_settings.deadhotspot_alerts=t,p.vendor_local_settings.streamingbypass_alerts=t,p.vendor_local_settings.hotspotsecurity_alerts=t,d.set_vendor_local_settings(p.vendor_local_settings))})},l.purchaseComplete=function(t){null!=t&&null!=t.success&&(a.log("Received purchase complete Emitting!"+JSON.stringify(t)),t.success&&p.vendor_local_settings.completed_intro&&c(function(){l.showReviewPopup()},5e3),!l.introComplete()&&t.success&&closeIntro("exit-purchase-complete"),l.closePopins(!1)),a.log("Purchase complete, requesting accounting data."),d.request_accounting_data(!0),m.$emit("setPurchaseComplete",t)},l.getLoginHeader=function(){return l.loginRegisterHeader||h.instant("ONEPANE.POPINS.LOGIN")},l.doShowRegisterLogin=function(t,e,n){l.initialRegisterText=t||null,l.loginRegisterHeader=e||null,l.loginRegisterEmail=n||null,l.showRegisterLogin=!0,"ios"===g.platformClass?!0===v.isUnlimited&&!0===v.isAutoAccount?g.reportCreatePane():g.reportLoginPane():(l.isSigningIn=!0,l.childNavId="login",N.get("settings")||l.goToSettings(),l.isMacExtension()&&g.isLoggingIn(!0),l.handleToggle({navId:"login",header:h.instant("ACCOUNTPANE.LOGIN"),controllerName:"Login",child:!0}))},l.$on("showRegisterLogin",function(t,e){l.doShowRegisterLogin(e?e.msg:null,e?e.title:null)}),l.$on("showReview",function(t,e){l.showReviewPopup()}),m.$on("privacySettingsUpdated",function(){l.assignDNS()}),m.$on("accountingUpdated",function(){a.log("Accounting updated, clearing events. "),l.currentEventTries=0,l.currentNewsEvents=[],l.currentNewsMessage&&(l.shouldShowNewsPopup=!1)}),m.$on("speedTestFinished",function(t,e){l.shouldShowSpeedTestResult=!0;var n="speed";void 0!==C.currentTest?n=2===C.currentTest.type?"liveStream":"speed":a.log("Test type is undefined, defaulting to speed"),_.trackPageView("popup/test-speed-popup/"+n,"test-speed-popup/"+n)}),l.$on("extendedIntroComplete",function(t,e){e&&e.step&&(e.guid&&(l.wizardNetwork=null,l.handleWizardClose(e.guid)),e.step)&&(1===(e=e.step)?(l.showGoforth=!1,l.wizardNetwork?l.showCellWizard=!0:l.shouldShowPushScreen()?(l.showCellWizard=!1,l.showPushPermission=!0):g.features.startupConnectPermission?(l.showPushPermission=!1,l.showConnectStartupPermission=!0,_.trackPageView("popup/connect-startup-popup","connect-startup-popup")):(l.showPushPermission=!1,l.showIntroFlow=!1)):2===e&&(l.showCellWizard=!1,l.shouldShowPushScreen()?(l.showCellWizard=!1,l.showPushPermission=!0):g.features.startupConnectPermission?(l.showPushPermission=!1,l.showConnectStartupPermission=!0,_.trackPageView("popup/connect-startup-popup","connect-startup-popup")):(l.showPushPermission=!1,l.showIntroFlow=!1))),a.log("Im inside extended intro")}),l.shouldShowPushScreen=function(){return!(!g.features.hasNotificationPermission||!t.notificationPermission||t.notificationPermission.enabled||p.vendor_local_settings.shown_push_popup)},l.$on("showAccountControl",function(){o.shouldSplit?(l.showSettings=!0,c(function(){w("settings").open()},l.openNavTimeout),l.handleToggle({navId:"account",header:h.instant("ONEPANE.POPINS.ACCOUNT"),controllerName:"Account",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"})):l.handleToggle({navId:"account",header:h.instant("ONEPANE.POPINS.ACCOUNT"),controllerName:"Account",backButtonTitle:h.instant("SETTINGSPANE.DONE")})}),l.$on("showHelp",function(){l.showHelp=!0,l.currentSettings=""}),l.showConnectStartupPopup=function(){p&&!1!==p.hasSetVendorLocalSettings?p.vendor_local_settings&&!p.connection_settings.startup_connect&&g.features.startupConnectPermission&&(l.showConnectStartupPermission=!0,_.trackPageView("popup/connect-startup-popup","connect-startup-popup")):c(function(){l.showConnectStartupPopup()},1e3)},l.goToSettings=function(){x.playSound("audio/general-tap.mp3",1,!1),l.showSettings=!0,l.navId="settings",_.trackPageView("settings","Settings Menu"),c(function(){N.get("settings")&&(w("settings").open(),m.$emit("menuToggled"))},l.openNavTimeout)},l.getToggleSpeedifyState=function(){var t=i.OFF;switch(parseInt(l.currentState)){case u.CONNECTED:t=i.ON,l.connectAccountError=!1,l.lastConnectedTime||(l.lastConnectedTime=Date.now());break;case u.OVERLIMIT:t=i.ON;break;case u.CONNECTING:case u.AUTO_CONNECTING:t=i.PENDING_ON;break;case u.DISCONNECTING:t=i.PENDING_OFF;break;case u.LOGGED_OUT:case u.LOGGED_IN:case u.LOGGING_IN:l.lastConnectedTime=null,t=i.OFF;break;default:t=i.UNKNOWN}return t=l.shouldShowYellowState()?i.PENDING_RECONNECT:t},l.isReconnectPending=function(){return l.pendingAttempt&&l.currentState===u.LOGGED_IN},l.shouldShowYellowState=function(){return!(!l.isReconnectPending()||!l.lastLoginErrorMessage||v.isDataReached())},l.getDataState=function(){var t=v.isUnlimited,e=l.currentState&&l.currentState>=u.LOGGED_IN,n=!l.currentState||l.currentState<u.CONNECTED,s=v.isDataReached();return t?l.usageDataStates.UNLIMITED_USAGE_DATA:e&&s?l.usageDataStates.NO_USAGE_DATA_REMAINING:n?l.usageDataStates.DISCONNECTED:l.usageDataStates.LIMITED_USAGE_DATA_REMAINING},l.shouldShowSale=function(){return!0===l.sale&&!(null==v.startDate||isNaN(v.startDate)||v.startDate<=0||(new Date).getTime()/1e3-v.startDate>o.popupSaleTime)},l.getMeterProgressClasses=function(){var t;switch(l.getDataState()){case l.usageDataStates.LIMITED_USAGE_DATA_REMAINING:case l.usageDataStates.DISCONNECTED:t="uber-box-meter-progress-green";break;case l.usageDataStates.NO_USAGE_DATA_REMAINING:case l.usageDataStates.UNLIMITED_USAGE_DATA:default:t=""}return[t]},l.getMeterProgressStyle=function(){var t;return l.currentState===u.LOGGED_OUT?{width:"0"}:(t=r.getWindowDimensions().w,{width:Math.max(3,Math.ceil(v.usedPercent*t))+"px"})},l.getAccountingIcon=function(){return l.isUnlimited()?p.isDarkMode()?"components/uber-box/img/darkmodeaccountunlimited.png":"components/uber-box/img/account-unlimited.png":p.isDarkMode()?"components/uber-box/img/darkmodeaccount.png":"components/uber-box/img/account.png"},l.isUnlimited=function(){return v.isUnlimited&&l.currentState>=u.LOGGED_IN},l.getEncryptionImg=function(){return!1===p.connection_settings.encrypted?"components/uber-box/img/unlocked.png":"components/uber-box/img/locked.png"},l.getMeterBackgroundClasses=function(){var t;switch(l.getDataState()){case l.usageDataStates.NO_USAGE_DATA_REMAINING:t="uber-box-meter-background-overlimit";break;case l.usageDataStates.LIMITED_USAGE_DATA_REMAINING:case l.usageDataStates.DISCONNECTED:t="uber-box-meter-background-green";break;default:l.usageDataStates.UNLIMITED_USAGE_DATA;t=""}return[t]},l.shouldShowAccountInfo=function(){return l.running&&l.currentState!==u.LOGGING_IN},l.shouldShowUpgrade=function(){return v.isUpgradable()},l.shouldShowUpgradeAttention=function(){return v.isAutoAccount&&v.isPaying},l.shouldShowUpgradeButton=function(){return!v.isPaying&&!v.isUnlimited&&l.currentState>=u.LOGGED_IN},l.pillClass=function(){return!0===l.shouldShowSale()?"upgradePillSale":"upgradePill"},l.saleClass=function(){return!0===l.shouldShowSale()?"sale":"centered"},l.getServerSettingsIcon=function(){return p.isDarkMode()?"components/uber-box/img/darkmodeserversettings.png":"components/uber-box/img/serversettings.png"},l.showAccountControl=function(){l.currentState<u.LOGGED_IN?l.$emit("showRegisterLogin"):l.$emit("showAccountControl")},l.addClickListener=function(t){t=(t=t||window.event).target||t.srcElement;"disconnectPrompt"!=t.id&&"onOff"!=t.id&&(a.log("Dismissing disconnect prompt from addClickListener "+t.id),l.dismissDisconnectPrompt(),document.removeEventListener("click",l.addClickListener))},l.addTouchStartListener=function(t){t=(t=t||window.event).target||t.srcElement;"disconnectPrompt"!=t.id&&"onOff"!=t.id&&(a.log("Dismissing disconnect prompt from addTouchStartListener "+t.id),l.dismissDisconnectPrompt(),document.removeEventListener("touchstart",l.addTouchStartListener))},l.dismissDisconnectPrompt=function(){l.showDisconnectPrompt=!1,document.removeEventListener("touchstart",l.addTouchStartListener),document.removeEventListener("click",l.addClickListener),a.log("Dismissing disconnect prompt."),_.trackPageView("dashboard","Dashboard")},l.toggleSpeedify=function(){if(a.log("main toggle clicked while in state "+l.currentState),d.request_streaming_stats(),g.features.supportsReconnectLater&&g.clearDelayReconnect(),!l.shouldShowLockedDashboard()||(l.showFeatureUpgradePopup=!0,_.trackPageView("popup/lock-screen-popup","lock-screen-popup"),l.currentState!==u.LOGGED_IN))if(l.shouldShowYellowState())a.log("In yellow state, disconnect"),d.server_disconnect(),l.showDisconnectPrompt=!0,_.trackEvent("connect-switch","toggle-clicked-yellow-state");else switch(parseInt(l.currentState)){case u.LOGGED_OUT:l.$emit("showRegisterLogin"),l.currentStreams=null;break;case u.LOGGED_IN:_.trackEvent("connect-switch","toggle-clicked","on"),l.currentState=u.AUTO_CONNECTING,d.server_auto_connect("auto"),d.request_current_state(),a.log("State logged in, dismissing disconnect prompt"),l.dismissDisconnectPrompt(),l.currentStreams=null,g.features.respondsToPowerToggle&&g.userToggledPowerButton(!0);break;case u.CONNECTED:case u.CONNECTING:case u.OVERLIMIT:if(g.features.respondsToPowerToggle&&g.userToggledPowerButton(!1),l.showDisconnectPrompt||(l.showDisconnectPrompt=!0,c(function(){document.addEventListener("click",l.addClickListener),document.addEventListener("touchstart",l.addTouchStartListener)},500)),"STR"===p.connection_settings.algorithm&&l.currentStreams)if(0<l.currentStreams.filter(function(t){return t.active}).length)return;d.server_disconnect(),l.currentState=u.DISCONNECTING,d.request_current_state(),_.trackEvent("connect-switch","toggle-clicked","off");break;case u.AUTO_CONNECTING:g.features.respondsToPowerToggle&&g.userToggledPowerButton(!1),d.server_disconnect(),d.request_current_state(),_.trackEvent("connect-switch","toggle-clicked","off");break;case u.LOGGING_IN:o.userInitiatedConnect=!0;break;case u.DISCONNECTING:}},d.register("report_system_error",function(t){a.log("System error: "+JSON.stringify(t)),o.safeApply(l.$root,function(){l.system_error_message=h.replaceSdkName(t.msg),l.system_error_message?ShowAlertPopup({msg:l.system_error_message,timeout:-1,groupId:"system"}):ClearSystemErrorAlert()})}),l.userLoginInitiated=function(t){o.userInitiatedConnect=t},l.isDrawerOpen=function(){return 0<N.getInstances().length},l.checkExtendedIntro=function(){l.isOnDashboard()&&void 0!==p&&void 0!==p.vendor_local_settings?p&&p.hasSetVendorLocalSettings&&p.vendor_local_settings&&!p.vendor_local_settings.shown_go_forth&&l.currentState>=u.CONNECTED&&(l.showIntroFlow=!0,l.showGoforth=!0,_.trackPageView("popup/go-forth-popup","go-forth-popup")):c(function(){l.checkExtendedIntro()},1e3)},l.handleNewAdapterGuid=function(e,n){o.safeApply(l.$root,function(){if(n!=L.Cellular)a.log("handling "+e),d.handle_newadapter(e);else if(o.networks)for(var t=0;t<o.networks.length;t++)if(o.networks[t].guid==e){if(o.networks[t].ignored){d.handle_newadapter(e);break}return void(l.wizardNetwork||-1==l.handledWizardNetworks.indexOf(e)&&(l.handledWizardNetworks.push(e),l.wizardNetwork={adapter:o.networks[t]},a.log("got new adapter with guid "+e),p.vendor_local_settings.shown_go_forth)&&!p.vendor_local_settings.shown_secured_bubble&&(l.showIntroFlow=!0,l.showCellWizard=!0))}})},l.handleRegisterLoginClose=function(){var t,e;return l.isSigningIn=!1,1==l.showRegisterLogin&&(p.vendor_local_settings.completed_intro=!0,d.set_vendor_local_settings(p.vendor_local_settings),t=null==v.email,e=3==l.lastLoginErrorType,l.currentState!=u.LOGGED_OUT||!e&&!t||E.isVM||"lin"==g.platformClass||!1===o.deviceIsManaged&&(a.log("triggering autoaccount from handleRegisterLoginClose"),d.login_auto()),!(l.showRegisterLogin=!1))},l.isLoginForcedOpen=function(){return!("login"!==l.navId||"lin"!==g.platformClass&&!E.isVM||v.hasData()&&(!v.isAutoAccount||v.isUnlimited))},l.handleAdapterClose=function(){return null!==l.configuringNetworkGuid&&!(l.configuringNetworkGuid=null)},l.defaultPopinClose=function(){return l.defaultPopinClosePromise&&(c.cancel(l.defaultPopinClosePromise),l.defaultPopinClosePromise=null),!1},l.handleWizardClose=function(t){return!(!l.wizardNetwork||!l.wizardNetwork.showingWizard||t&&l.wizardNetwork.adapter.guid!=t||(a.log("handling wizard for "+t),ClearAlertsFor("wizardBubbles"),t&&d.handle_newadapter(t),l.wizardNetwork=null,c(l.checkExtendedIntro,1e3),0))},l.handleNagClose=function(){l.currentNag&&(o.lastNagType=l.currentNag,d.handle_nag(l.currentNag),l.currentNag="")},l.isMobile=function(){return g.identity.mobile},l.isMacExtension=function(){return"macExtension"===g.platformClass},l.getOuterClassList=function(){var t={tallWindow:l.tallWindow,connected:l.currentState>=u.CONNECTED,disconnected:l.currentState<u.CONNECTED,tablet:o.isTablet,mobile:g.identity.mobile,desktop:!g.identity.mobile,bottomBarSpacing:l.extraBottomBar,rtl:l.usingRTLLanguage(),complexChars:l.usingComplexCharLanguage(),tv:o.isTV,dualPane:o.shouldSplit&&l.showSettings,darkTheme:l.isDarkTheme(),lightTheme:l.isLightTheme(),systemTheme:l.isSystemTheme()};return t[g.platformClass]=!0,t},l.isDualPane=function(){return o.shouldSplit&&l.showSettings},l.getOuterStyle=function(){return{height:l.useableHeight+"px"}},l.setIsDarkMode=function(t){void 0!==p.vendor_local_settings.theme&&p.vendor_local_settings.theme===p.theme.system?console.log("No vendor settings"):(t&&(p.vendor_local_settings.theme,p.theme.dark),d.set_vendor_local_settings(p.vendor_local_settings))},l.supportSystemColorPreference=function(t){l.isOnDashboard()&&void 0!==p.vendor_local_settings?o.safeApply(l.$root,function(){o.supportsSystemColorPreference=t,void 0===p.vendor_local_settings.supportSystemColorPreference&&p.hasSetVendorLocalSettings&&(p.vendor_local_settings.supportSystemColorPreference=!0,d.set_vendor_local_settings(p.vendor_local_settings))}):c(function(){l.supportSystemColorPreference(t)},1e3)},l.isDarkTheme=function(){return!(!p.vendor_local_settings||!p.hasSetVendorLocalSettings)&&p.vendor_local_settings.theme===p.theme.dark},l.isLightTheme=function(){return!(!p.vendor_local_settings||!p.hasSetVendorLocalSettings)&&p.vendor_local_settings.theme===p.theme.light},l.isSystemTheme=function(){return!(p&&p.hasSetVendorLocalSettings&&p.vendor_local_settings&&void 0!==p.vendor_local_settings.theme)||p.vendor_local_settings.theme===p.theme.system},l.usingComplexCharLanguage=function(){var t=h.lastUsedLanguage.toLowerCase();return"ar"==t.substr(0,2)||"he"==t.substr(0,2)||"zh"==t.substr(0,2)},l.usingRTLLanguage=function(){var t=h.lastUsedLanguage.toLowerCase();return"ar"==t.substr(0,2)||"he"==t.substr(0,2)},l.closePopins=function(t){o.safeApply(l.$root,function(){l.showSettings&&!(l.showSettings=!1)===t||l.handleRegisterLoginClose()&&!0===t||l.showPasswordChange&&!(l.showPasswordChange=!1)===t||l.showPasswordReset&&!(l.showPasswordReset=!1)===t||l.showDevTools&&!(l.showDevTools=!1)===t||l.handleAdapterClose()&&!0===t||l.wizardNetwork&&l.wizardNetwork.showingWizard&&!0===t||l.showGoforth&&!(l.showGoforth=!1)===t||l.showSalePopup&&!(l.showSalePopup=!1)===t||l.showStreamingBypass&&!(l.showStreamingBypass=!1)===t||l.showStreamingBypassPopup&&!(l.showStreamingBypassPopup=!1)===t||l.captivePortalPopup&&!(l.captivePortalPopup=!1)===t||l.showPushPermission&&!(l.showPushPermission=!1)===t||l.showHelp&&!(l.showHelp=!1)===t||l.introShowing&&!0===t||0<Object.keys(f.callbacks).length||!0===t&&g.unhandledBack()})},l.isOnDashboard=function(){return!!l.showDevTools||!l.inBlurredState()&&!!l.allLanguagesLoaded&&!(0<Object.keys(f.callbacks).length||l.showRegisterLogin||l.showPasswordChange||l.showPasswordReset||l.showUpgrade||l.configuringNetworkGuid||l.wizardNetwork&&l.wizardNetwork.showingWizard||l.showGoforth||l.showSalePopup||l.captivePortalPopup||l.showPushPermission||l.showHelp||l.currentNag||l.introShowing||1<N.getInstances().length&&o.shouldSplit||l.isDrawerOpen()&&!o.shouldSplit)},l.backButton=function(){l.closeSettings(),l.isDrawerOpen()||c(function(){l.closePopins(!0)},0)},l.introComplete=function(){return!!p&&null!=p.vendor_local_settings.completed_intro&&(l.checkSocialPopup(),p.vendor_local_settings.completed_intro)},l.isSameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDay()===e.getDay()},l.checkSocialPopup=function(){var t,e;!1!==p.hasSetVendorLocalSettings&&p.vendor_local_settings&&!1!==p.vendor_local_settings.completed_intro&&p.vendor_local_settings.installDate&&(p.vendor_local_settings.shown_socialpopup||(t=new Date(p.vendor_local_settings.installDate),e=new Date,l.isSameDay(t,e))||l.shouldShowSocialPopup||(l.shouldShowSocialPopup=!0,_.trackPageView("popup/social-media-popup","social-media-popup")))},l.checkForCompletedIntro=function(){l.introComplete()?l.closePopins(!1):c(function(){l.checkForCompletedIntro()},1e3)},l.inBlurredState=function(){return l.comm_errors>=l.COMM_ERROR_LIMIT},l.shouldShowErrorPane=function(){return!l.running},l.shouldShowIntro=function(){return p||c(function(){l.shouldShowIntro()}.bind(this),500),!0},l.decrementActivePopupAlerts=function(){a.error("decrementing active popup alerts"),o.popupAlertActive--},l.isAccount100=function(){return 1<=v.usedPercent},l.report_new_adapter_detected_cb=function(t){l.handleNewAdapterGuid(t.guid,t.type)},l.translate=function(t){return h.instant(t)},l.postPurchaseCheckAccount=function(){o.safeApply(l.$root,function(){v.email!=l.postPurchaseDetails.username?(a.log("doing post purchase account check for "+l.postPurchaseDetails.username),l.waitingOnPurchaseAccountAvailable=!0,d.account_check(l.postPurchaseDetails.username)):l.postPurchaseLogin()})},l.postPurchaseLogin=function(){o.safeApply(l.$root,function(){a.log("doing post purchase login for "+l.postPurchaseDetails.username),v.email!=l.postPurchaseDetails.username?l.doShowRegisterLogin(h.instant("PURCHASE.POSTPURCHASE.DIRECTIONS"),h.instant("PURCHASE.POSTPURCHASE.TITLE"),l.postPurchaseDetails.username):d.request_accounting_data(!0)})},l.handleSettingLockError=function(t){11==t.type?ShowAlertPopup({msg:h.instant("SETTINGERRORMESSAGE.MESSAGE"),title:h.instant("SETTINGERRORMESSAGE.TITLE"),groupId:"settingsLocked",timeout:-1}):12==t.type&&ShowAlertPopup({msg:h.instant("ACCOUNTSETTINGERRORMESSAGE.MESSAGE"),title:h.instant("ACCOUNTSETTINGERRORMESSAGE.TITLE"),groupId:"settingsLocked",timeout:-1})},l.isTrialEligible=function(t){v.isTrialEligible=t},l.trackMatomoEvent=function(t,e){_.trackEvent(t,e)},l.showStreamingPane=function(){return(!l.connectedServer||!l.connectedServer.longName||"proxy"!==l.connectedServer.longName)&&l.isConnected()&&l.isStreamMode()},l.isStreamMode=function(){return"STR"===p.connection_settings.algorithm},l.getStreamSaves=function(){var t=(l.getStatValue("streaming","total_failover_saves")||0)+(l.getStatValue("streaming","total_redundant_saves")||0)+(l.getStatValue("streaming","total_speed_saves")||0);if(0!=t)return t},l.handleDeepLink=function(i,t){var r=new URL(i);return a.log("Handling deep link"),!("https:"!=r.protocol||"speedify.com"!=r.hostname||!r.pathname.startsWith("/in-app/")||(o.safeApply(l.$root,function(){var t=r.pathname.split("/");if(t.length<3)return!0;t=t[2];if("statistics"===t){var e=r.searchParams.get("currentDuration");null!=e&&(l.currentDuration=e),l.sendToStatistics()}else if("store"===t)l.showStore();else if("generate-logs"===t)A.generate();else if("store"===t)l.$emit("showUpgrade");else if("liveStreamTest"===t||"speedTest"===t)"speedTest"===t?k.startSpeedTest():k.startStreamTest();else if("weeklyStatPopup"===t)l.currentStatTries=0,l.$emit("weeklyStatPopup",{closeSettings:!0});else if("streamnotification"===t){var e=r.searchParams.get("streamName");null!=e&&1==l.streamPopupHasValidDate(e)&&l.showStreamPopup(e)}else if("pas"===t){r.href=r.href.replace(/&amp;/g,"&");var e=new URLSearchParams(r.search),n=e.get("host_code");const s=e.get("displayName");if(s)if(O.pairedDevices.find(t=>t.display_name===s))return void a.log("Already paired with "+s);p.network_sharing_settings.host_connect_code&&p.network_sharing_settings.host_connect_code==n||(O.deviceToBePaired={display_name:s,hostCode:n},l.showingPasPopup?O.addToPopupQueue({display_name:s,hostCode:n}):(_.trackEvent("pas-scan","deep-link"),l.showingPasPopup=!0))}else"pasSettings"===t?(e=g.features.networkShareHost?"true":"false",l.handleToggle({navId:"pairAndShare",header:h.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.TITLE"),controllerName:"PairAndShare",backButtonTitle:h.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true",showQrCode:e})):"connect"===t&&(a.log("Got an auto connect from deep link"),l.currentState==u.LOGGED_IN?d.server_auto_connect("auto"):(l.deepLinkRetries=0,l.maxDeepLinkRetries=3,l.deepLinkRetries<=l.maxDeepLinkRetries&&(l.deepLinkRetries+=1,c(function(){a.log("Trying deep link again"),l.handleDeepLink(i)}.bind(this),2e3))))}.bind(this)),0))},l.getUpgradeHeader=function(){return h.instant("ONEPANE.POPINS.UPGRADE")},l.setABTestValue=function(t){a.log("Inside scope's ab test. setting "+t),o.safeApply(l.$root,function(){void 0===t&&(t=!1),o.isInSale=t||o.isInSale,l.isInSale=o.isInSale,a.log("Just set AB Test")})},l.completeEmbeddedPurchase=function(t){o.safeApply(l.$root,function(){l.checkForCompletedIntro(),l.postPurchaseDetails=t,l.postPurchaseCheckAccount()})},l.report_account_check_result_cb=function(t){o.safeApply(l.$root,function(){a.log("Account check result: "+JSON.stringify(t)),l.waitingOnPurchaseAccountAvailable&&(t.type===n.OK_NOERROR||t.type===n.CREDENTIAL?(l.waitingOnPurchaseAccountAvailable=!1,l.postPurchaseLogin()):c(function(){l.postPurchaseCheckAccount()}.bind(this),5e3))})},l.updateThermalReadings=function(t){o.safeApply(l.$root,function(){o.thermalState=t})},l.sharedCompletedWithActivity=function(t){t&&null!=t&&(a.log("Tracking activity "+t),_.trackEvent("shared",t))},l.requestNetworkSharingPair=function(t){O.request_networksharing_pair(t)},l.networkShareAuthRequest=function(e,t){null==O.pairedDevices.find(t=>t.uuid===e)&&(!0===l.showingPasPopup?O.addToPopupQueue({display_name:t,uuid:e,requestingAuth:!0,isRequesting:!1}):(O.deviceToBePaired={display_name:t,uuid:e},l.requestingAuth=!0,l.isRequesting=!1,l.showingPasPopup=!0))},l.networkSharePromptNewPeer=function(t,e){!0===l.showingPasPopup?O.addToPopupQueue({display_name:e,uuid:t,requestingAuth:!1,isRequesting:!0}):(O.deviceToBePaired={display_name:e,uuid:t},l.isRequesting=!0,l.requestingAuth=!1,l.showingPasPopup=!0)},document.addEventListener("keydown",function(t){27!=(t=t||window.event).keyCode&&"Escape"!=t.key||l.closeSettings({navId:"settings"})}),d.register("report_settings_error",l.handleSettingLockError),d.register("report_new_adapter_detected",l.report_new_adapter_detected_cb),d.register("report_account_check_result",l.report_account_check_result_cb),l.$on("$destroy",function(){d.unregister("report_new_adapter_detected",l.report_new_adapter_detected_cb),d.unregister("report_account_check_result",l.report_account_check_result_cb)}),l.initOnePane()}]).controller("Dashboard",["$scope","$mdSidenav",function(t,e){t.close=function(){e("dashboard").close().then(function(){})}}]).controller("Settings",["$scope","$mdSidenav",function(t,e){t.close=function(){e("settings").close().then(function(){})}}]).controller("Account",["$scope","$mdSidenav",function(t,e){t.close=function(){e("account").close()}}]).controller("Server",["$scope","$mdSidenav",function(t,e){t.close=function(){e("server").close()}}]).controller("Networks",["$scope","$mdSidenav",function(t,e){t.close=function(){e("networks").close()}}]).controller("Priority",["$scope","$mdSidenav",function(t,e){t.close=function(){e("priority").close()}}]).controller("TestSpeed",["$scope","$mdSidenav",function(t,e){t.close=function(){e("testSpeed").close()}}]).controller("DailyCap",["$scope","$mdSidenav",function(t,e){t.close=function(){e("dailyCap").close()}}]).controller("Upgrade",["$scope","$mdSidenav",function(t,e){t.close=function(){e("upgrade").close()}}]).controller("devTools",["$scope","$mdSidenav",function(t,e){t.close=function(){e("devTools").close()}}]).controller("MonthlyCap",["$scope","$mdSidenav",function(t,e){t.close=function(){e("monthlyCap").close()}}]).controller("Overlimit",["$scope","$mdSidenav",function(t,e){t.close=function(){e("overlimit").close()}}]).controller("WindowLocation",["$scope","$mdSidenav",function(t,e){t.close=function(){e("windowLocation").close()}}]).controller("GraphRotation",["$scope","$mdSidenav",function(t,e){t.close=function(){e("graphRotation").close()}}]).controller("Ratelimit",["$scope","$mdSidenav",function(t,e){t.close=function(){e("ratelimit").close()}}]).controller("IPAddress",["$scope","$mdSidenav",function(t,e){t.close=function(){e("ipAddress").close()}}]).controller("PairShareDisplayName",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShareDisplay").close()}}]).controller("PairShareQr",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShareQr").close()}}]).controller("PairShareRequest",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShareRequest").close()}}]).controller("PairShareAutoPair",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShareAutoPair").close()}}]).controller("PairShareControl",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShareControl").close()}}]).controller("PairReceiveControl",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndReceiveControl").close()}}]).controller("BondingMode",["$scope","$mdSidenav",function(t,e){t.close=function(){e("bondingMode").close()}}]).controller("ConnectStartup",["$scope","$mdSidenav",function(t,e){t.close=function(){e("connectStartup").close()}}]).controller("TransportMode",["$scope","$mdSidenav",function(t,e){t.close=function(){e("transportMode").close()}}]).controller("HeaderCompression",["$scope","$mdSidenav",function(t,e){t.close=function(){e("headerCompression").close()}}]).controller("PairAndShare",["$scope","$mdSidenav",function(t,e){t.close=function(){e("pairAndShare").close()}}]).controller("NetworkSharingHostEnabled",["$scope","$mdSidenav",function(t,e){t.close=function(){e("networkSharingHostEnabled").close()}}]).controller("JumboMTU",["$scope","$mdSidenav",function(t,e){t.close=function(){e("jumbo").close()}}]).controller("Login",["$scope","$mdSidenav",function(t,e){t.close=function(){e("login").close()}}]).controller("PasswordChange",["$scope","$mdSidenav",function(t,e){t.close=function(){e("passwordChange").close()}}]).controller("PortForwarding",["$scope","$mdSidenav",function(t,e){t.close=function(){e("portforwarding").close()}}]).controller("DisconnectExit",["$scope","$mdSidenav",function(t,e){t.close=function(){e("disconnectexit").close()}}]).controller("Theme",["$scope","$mdSidenav",function(t,e){t.close=function(){e("theme").close()}}]).controller("Sounds",["$scope","$mdSidenav",function(t,e){t.close=function(){e("sounds").close()}}]).controller("Language",["$scope","$mdSidenav",function(t,e){t.close=function(){e("language").close()}}]).controller("Encryption",["$scope","$mdSidenav",function(t,e){t.close=function(){e("encryption").close()}}]).controller("DNSService",["$scope","$mdSidenav",function(t,e){t.close=function(){e("dnsService").close()}}]).controller("AddDNS",["$scope","$rootScope","$mdSidenav",function(t,e,n){t.close=function(){n("addDNS").close()}}]).controller("KillSwitch",["$scope","$mdSidenav",function(t,e){t.close=function(){e("killSwitch").close()}}]).controller("dnsleak",["$scope","$mdSidenav",function(t,e){t.close=function(){e("dnsleak").close()}}]).controller("ipleak",["$scope","$mdSidenav",function(t,e){t.close=function(){e("ipleak").close()}}]).controller("Notifications",["$scope","$mdSidenav",function(t,e){t.close=function(){e("notifications").close()}}]).controller("StreamingBypass",["$scope","$mdSidenav",function(t,e){t.close=function(){e("streamingBypass").close()}}]).controller("ContactSupport",["$scope","$mdSidenav",function(t,e){t.close=function(){e("contactSupport").close()}}]).controller("KnowledgeBase",["$scope","$mdSidenav",function(t,e){t.close=function(){e("knowledgeBase").close()}}]).controller("About",["$scope","$mdSidenav",function(t,e){t.close=function(){e("about").close()}}]).controller("Statistics",["$scope","$mdSidenav",function(t,e){t.close=function(){e("statistics").close()}}]).controller("News",["$scope","$mdSidenav",function(t,e){t.close=function(){e("news").close()}}]).controller("StatisticDetails",["$scope","$mdSidenav",function(t,e){t.close=function(){e("statisticDetails").close()}}]);var networkInfoPopupMod=angular.module("speedifyUI.components"),supportsNativeUpdate=(networkInfoPopupMod.directive("overlimitPopupContainer",function(){return{scope:{networks:"="},restrict:"E",template:'<div id="overlimit_popup_container"></div>',controller:"OverlimitPopupContainerCtrl"}}).controller("OverlimitPopupContainerCtrl",["$scope","speedifyAPI","debug","networkAdapterFunctions","platform","prompts","spTranslate","limitsCommon","globals","DataScaling",function(p,g,m,i,t,h,v,S,T,f){p.overlimits=[],g.register("report_network_overlimit",function(t){m.log("got new overlimit with guid "+t.guid);var e=t.name;if(p.networks)for(var n=0;n<p.networks.length;n++)if(t.guid==p.networks[n].guid){var s=p.networks[n],e=i.GetNetworkDisplayName(s);break}t.name=e,p.calcOverlimitData(t),p.showOverlimit(t)}),p.getNetworkName=function(t){return i.GetNetworkDisplayName(t)},p.getCurrentNetwork=function(t){if(p.networks)for(var e=0;e<p.networks.length;e++)if(p.getNetworkName(p.networks[e])===t)return p.networks[e]},p.showOverlimit=function(t){var e,n,s,i,r,o,a,c,l,d,u;t&&(e=v.instant(t.name),o=p.getCurrentNetwork(e),n=S.overlimitDefaultRate,s="",o=[n=o&&o.limits&&o.limits.overlimitRate?o.limits.overlimitRate:n],i=f.SingleScale(o,1),o=v.numToLocale(o[0])+i+"bps",i=v.instant("PROMPTS.OK"),r=function(){g.handle_overlimit(t.guid)}.bind(this),o=v.instant("OVERLIMIT.ACTIONLIMIT",{adapterName:e,speed:o,boldPre:"<span class='bold'>",boldPost:"</span>"}),a=function(){g.set_network_overlimit_rate(t.guid,n),g.handle_overlimit(t.guid)}.bind(this),c=v.instant("OVERLIMIT.ACTIONSTOP",{adapterName:e,boldPre:"<span class='bold'>",boldPost:"</span>"}),l=function(){g.set_network_overlimit_rate(t.guid,0),g.handle_overlimit(t.guid)}.bind(this),d=function(){m.log("adding boost of "+t.dailyLimitBoostBytes),g.add_net_daily_limit_boost(t.guid,t.dailyLimitBoostBytes),g.handle_overlimit(t.guid)}.bind(this),t.isMonthly||t.isMonthly75?t.isMonthly?(s=v.instant("OVERLIMIT.MONTHLY.MSG",{adapterName:e,limit:t.maxMonthlyVal,boldPre:"<span class='bold'>",boldPost:"</span>"}),t.ratelimited?s+="<br/>"+v.instant("OVERLIMIT.LIMITED",{adapterName:e,boldPre:"<span class='bold'>",boldPost:"</span>"}):s+="<br/>"+v.instant("OVERLIMIT.DISABLED",{adapterName:e,boldPre:"<span class='bold'>",boldPost:"</span>"}),h.ShowConfirmPopup({msg:s,yesText:o,noText:c,title:"",isUrgent:!1,groupId:"overlimit"+T.sanitizeId(t.guid),skipPlatform:!0,yesCb:a,noCb:l,timeout:0})):t.isMonthly75&&(s=v.instant("OVERLIMIT.MONTHLY75.MSG",{adapterName:e,limit:t.maxMonthlyVal,boldPre:"<span class='bold'>",boldPost:"</span>"}),h.ShowAlertPopup({msg:s,title:"",yesText:i,groupId:"overlimit"+T.sanitizeId(t.guid),skipPlatform:!0,yesCb:r,timeout:0})):(t.isDaily||t.isDaily75)&&(u=v.instant("OVERLIMIT.DAILY.BOOST",{adapterName:e,boostAmount:t.dailyLimitBoostVal,boldPre:"<span class='bold'>",boldPost:"</span>"}),t.isDaily?(s=v.instant("OVERLIMIT.DAILY.MSG",{adapterName:e,limit:t.maxDailyVal,boldPre:"<span class='bold'>",boldPost:"</span>"}),t.ratelimited?s+="<br/>"+v.instant("OVERLIMIT.LIMITED",{adapterName:e,boldPre:"<span class='bold'>",boldPost:"</span>"}):s+="<br/>"+v.instant("OVERLIMIT.DISABLED",{adapterName:e,boldPre:"<span class='bold'>",boldPost:"</span>"}),h.ShowConfirmPopup({msg:s,yesText:u,maybeText:o,noText:c,title:"",isUrgent:!1,groupId:"overlimit"+T.sanitizeId(t.guid),skipPlatform:!0,yesCb:d,maybeCb:a,noCb:l})):t.isDaily75&&(s=v.instant("OVERLIMIT.DAILY75.MSG",{adapterName:e,limit:t.maxDailyVal,boldPre:"<span class='bold'>",boldPost:"</span>"}),h.ShowConfirmPopup({msg:s,yesText:u,noText:i,title:"",isUrgent:!1,groupId:"overlimit"+T.sanitizeId(t.guid),skipPlatform:!0,yesCb:d,noCb:r}))))},p.calcOverlimitData=function(t){var e,n;t.usage&&(0<t.usage.max&&(t.usage.max<t.usage.usage?t.isMonthly=!0:.75*t.usage.max<t.usage.usage&&(t.isMonthly75=!0),t.isMonthly||t.isMonthly75)&&(e=[t.usage.max],n=f.ScaleData(e,0),t.maxMonthlyVal=Math.round(10*e[0])/10+""+n+"B"),0<t.usage.maxDaily)&&(t.usage.maxDaily+t.usage.boostDaily<t.usage.usageDaily?t.isDaily=!0:.75*(t.usage.maxDaily+t.usage.boostDaily)<t.usage.usageDaily&&(t.isDaily75=!0),t.isDaily||t.isDaily75)&&(e=[t.usage.maxDaily+t.usage.boostDaily],n=f.ScaleData(e,0),t.maxDailyVal=Math.round(10*e[0])/10+""+n+"B",e=Math.max(t.usage.boostDaily,.2*t.usage.maxDaily),n=S.getNextLevel(e,S.dailyValues)-t.usage.boostDaily,t.dailyLimitBoostBytes=n,e=[t.dailyLimitBoostBytes],n=f.ScaleData(e,2),t.dailyLimitBoostVal=Math.round(10*e[0])/10+""+n+"B"),0<t.overlimitRate?(t.ratelimited=!0,e=[t.overlimitRate],n=f.SingleScale(e,1),t.ratelimit=v.numToLocale(e[0])+n+"bps"):t.ratelimited=!1}}]),angular.module("speedifyUI.components").constant("TOGGLE_STATE",{UNKNOWN:-1,OFF:0,PENDING_ON:1,ON:2,PENDING_OFF:3,PENDING_RECONNECT:4}).directive("onOffSwitch",function(){return{scope:{state:"=",disable:"=",click:"&",width:"=",height:"=",units:"=",inStatusBox:"=",currentState:"="},restrict:"E",templateUrl:"components/onoffswitch/onoffswitch.html",controller:"OnOffCtrl"}}).controller("OnOffCtrl",["$scope","SPEEDIFY_STATES","settingsRepository","accounting","TOGGLE_STATE","platform","audioPlayer",function(n,t,e,s,i,r,o){switch(n.pressed=!1,n.lockImageSpacingClass="lockPaddingNormal",n.SPEEDIFY_STATES=t,r.platformClass){case"android":n.margin=1,n.bgMargin=0,n.borderRadius=0,n.expandOnTouch=0;break;case"osx":case"ios":n.margin=1,n.bgMargin=0,n.borderRadius=0,n.expandOnTouch=.15;break;default:n.lockImageSpacingClass="lockPaddingAlternate",n.margin=2,n.bgMargin=0,n.borderRadius=0,n.expandOnTouch=0}n.TOGGLE_STATE=i,n.toggleclick=function(){n.click(),n.playBlip()},n.playBlip=function(){n.state==i.ON?o.playSound("audio/toggle-on.mp3",1,!0):o.playSound("audio/toggle-off.mp3",1,!0)},n.getBgStyle=function(){return{"margin-top":n.bgMargin+n.units,"margin-left":n.bgMargin+n.units,width:n.width-2*n.bgMargin+n.units,height:n.height-2*n.bgMargin+n.units,"border-radius":n.height-2*n.bgMargin+n.units}},n.getToggleStyle=function(){var t=n.height-2*n.margin-2*n.borderRadius,e=n.pressed?t*n.expandOnTouch:0;return{display:n.state==i.UNKNOWN?"none":"initial",width:t+e+n.units,height:t+n.units,top:n.margin+n.units,left:n.margin+n.units,"-webkit-transform":"translate3d("+(n.state==i.ON||n.state==i.PENDING_ON||n.state==i.PENDING_RECONNECT?n.width-n.height-e:0)+n.units+",0,0)",transform:"translate3d("+(n.state==i.ON||n.state==i.PENDING_ON||n.state==i.PENDING_RECONNECT?n.width-n.height-e:0)+n.units+",0,0)","border-width":n.borderRadius+n.units}},n.getSpinnerVisible=function(){return n.state==i.PENDING_OFF||n.state==i.PENDING_ON||n.currentState==n.SPEEDIFY_STATES.LOGGING_IN},n.togglePressed=function(t){n.pressed=t},n.overDataLimit=function(){return!s.isUnlimited&&s.isDataReached()},n.showArrow=function(){return n.inStatusBox&&n.state==i.OFF&&!n.getSpinnerVisible()},n.showLock=function(){return n.inStatusBox&&n.inStatusBox&&(n.state==i.ON||n.state==i.PENDING_RECONNECT)},n.showEncryptedLock=function(){return n.inStatusBox&&e.connection_settings.encrypted},n.showUnencryptedLock=function(){return n.inStatusBox&&!e.connection_settings.encrypted},n.getLockImageClasses=function(){return n.lockImageSpacingClass}}]),angular.module("speedifyUI.components").directive("pasPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",requestingAuth:"=",isRequesting:"=",isPairingSuccess:"=",errorMessage:"=",isAutoPair:"="},restrict:"E",templateUrl:"components/pas-popup/pas-popup.html",controller:"PasPopupCtrl"}}).controller("PasPopupCtrl",["$scope","$timeout","userEventFunctions","globals","matomo","pairAndShare","spTranslate","speedifyAPI","debug","NETWORK_SHARE_STATES","audioPlayer",function(n,s,t,i,e,r,o,a,c,l,d){n.isAuthenticating=!1,n.didMakeSelection=!1,n.hasCancelledRequest=!1,n.init=function(){var t;r.deviceToBePaired||(r.deviceToBePaired={}),r.deviceToBePaired.display_name||(t=r.pairedDevices.find(t=>t.uuid===r.deviceToBePaired.uuid),r.deviceToBePaired.display_name=t?t.display_name:"",t="SendRequest",n.isPairingSuccess?t="Success":n.errorMessage&&(t="Fail"),e.trackPageView("popup/pairAndShare"+t+"Popup","pairAndShare-popup-"+t))},n.getTitle=function(){return n.isPairingSuccess&&!n.isAutoPair?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.SUCCESS",{displayName:r.deviceToBePaired.display_name}):n.errorMessage?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.FAILTITLE",{displayName:r.deviceToBePaired.display_name}):n.isAutoPair?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.AUTOTITLE",{displayName:r.deviceToBePaired.display_name}):o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.TITLE",{displayName:r.deviceToBePaired.display_name})},n.getSubTitle=function(){return n.isPairingSuccess&&!n.isAutoPair?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.SUCCESSMESSAGE"):n.errorMessage?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.FAILMESSAGE",{displayName:r.deviceToBePaired.display_name}):n.isAutoPair?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.AUTOSUBTITLE"):o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.TOPDESCRIPTION",{displayName:r.deviceToBePaired.display_name})},n.pairDevice=function(){n.isAuthenticating=!0,n.didMakeSelection=!0,n.isRequesting&&r.deviceToBePaired&&r.deviceToBePaired.uuid?r.requestNetworkShare(r.deviceToBePaired.uuid):r.deviceToBePaired&&r.deviceToBePaired.uuid&&!n.requestingAuth?r.connectToNetworkShareViaSecretKey(r.deviceToBePaired.uuid,r.deviceToBePaired.hostCode):r.deviceToBePaired&&r.deviceToBePaired.uuid&&n.requestingAuth?r.allow_networksharing_pair(r.deviceToBePaired.uuid,!0):r.connect_to_networkshare_connect(r.deviceToBePaired.hostCode),d.playSound("audio/general-tap.mp3",1,!0),e.trackEvent("pas-popup","pair-request"),n.dismissPasPopup()},n.cancelPairing=function(){n.didMakeSelection=!0,n.hasCancelledRequest=!0,r.deviceToBePaired&&(e.trackEvent("pas-popup","cancel-request"),d.playSound("audio/general-tap.mp3",1,!0),r.allow_networksharing_pair(r.deviceToBePaired.uuid,!1),s(function(){n.dismissPasPopup(),n.requestingAuth=!1,n.isRequesting=!1},500))},n.reconnectToHost=function(){n.didMakeSelection=!0,r.deviceToBePaired&&r.deviceToBePaired.supports_host&&r.deviceToBePaired.have_auth_token&&(n.isAuthenticating=!0,e.trackEvent("pas-popup","reconnect-request"),d.playSound("audio/general-tap.mp3",1,!0),r.reconnectToNetworkShare(r.deviceToBePaired.uuid))},n.getTopIcon=function(){return n.isPairingSuccess?"components/pas-popup/img/pairandshare-request-success.png":n.errorMessage?"components/pas-popup/img/pairandshare-request-fail.png":"components/pas-popup/img/pairandshare-request.png"},n.managePermissions=function(){e.trackEvent("pas-popup","manage-permissions"),n.$emit("managePasDevice"),n.dismissPasPopup(!0,!1)},n.dismissPasPopup=function(t,e){n.willClose=!0,n.didMakeSelection=!0,e&&(n.isRequesting=!1),n.$emit("pasPopupComplete",{closeCodeScreen:t,requestingAuth:n.isRequesting,requestingUUID:r.deviceToBePaired.uuid,hasCancelledRequest:n.hasCancelledRequest}),n.requestingAuth=!1,s(function(){i.safeApply(n.$root,function(){n.willClose=!1,(n.isPairingSuccess||n.errorMessage)&&r.clearPairingDevice()})},500)},n.$watch("show",function(t,e){s(function(){i.safeApply(n.$root,function(){n.showChild=t})},150)}),n.shareUpdated=function(t){i.safeApply(n.$root,function(){r.deviceToBePaired&&t.uuid==r.deviceToBePaired.uuid&&(t.peerStatus===l.AUTHENTICATED||t.msg)&&(n.isAuthenticating=!1,n.isAutoPair||n.dismissPasPopup(!0))})},n.init(),a.register("report_networksharing_peer_status_change",n.shareUpdated),n.$on("$destroy",function(){a.unregister("report_networksharing_peer_status_change",n.shareUpdated)})}]),angular.module("speedifyUI.components").directive("passwordChange",function(){return{scope:{},restrict:"E",templateUrl:"components/passwordChange/passwordChange.html",controller:"PasswdChangeCtrl"}}).controller("PasswdChangeCtrl",["$scope","speedifyAPI","ERROR_CODES","globals","platform","settingsRepository","debug","$timeout","spTranslate","LearnMore","matomo",function(i,r,e,n,t,s,o,a,c,l,d){i.settingsRepository=s,i.oldpassword=null,i.password=null,i.password2=null,i.registrationInProgress=!1,i.passwordResetInProgress=!1,i.username=s.login_settings.username,i.passwdChange=function(){!i.passwdChangeForm.$valid||i.password!=i.password2||i.password.length<8||-1<i.password.indexOf('"')||-1<i.password.indexOf("\\")?i.oldpassword||s.login_settings.password_is_random?!i.password||i.password.length<8?ShowAlertPopup({msg:c.instant("FORMS.ERRORS.PASSLENGTH"),timeout:-1}):i.password!=i.password2?ShowAlertPopup({msg:c.instant("FORMS.ERRORS.PASSMATCH"),timeout:-1}):(-1<i.password.indexOf('"')||-1<i.password.indexOf("\\"))&&ShowAlertPopup({msg:c.instant("FORMS.ERRORS.PASSINVALIDCHAR"),timeout:-1}):ShowAlertPopup({msg:c.instant("FORMS.ERRORS.ENTERCURPASS"),timeout:-1}):(d.trackEvent("password-change","change-password"),i.runpasswdChangeAccount(i.username,i.oldpassword,i.password,i.password2))},i.getpasswdChangeText=function(){return i.registrationInProgress?c.instant("FORMS.WAITING"):c.instant("CHANGEPASSWORD.CHANGE")},i.passwdChangeEnabled=function(){return!i.registrationInProgress},i.runpasswdChangeAccount=function(t,e,n,s){i.registrationInProgress=!0,r.account_password_change(t,e,n)},i.help=function(){d.trackEvent("password-change","help"),l("passChange",d.Screen.Password)},i.password_change_cb=function(t){o.log("Account passwd change result: "+JSON.stringify(t)),d.trackEvent("password-change","change-result",t.type),n.safeApply(i.$root,function(){try{i.registrationInProgress=!1,(t.type!==e.OK_NOERROR||""!==t.msg)&&ShowAlertPopup({msg:c.replaceSdkName(t.msg),timeout:-1})}catch(t){}})},i.doPasswordReset=function(){i.username?ShowConfirmPopup({msg:c.instant("REGISTERLOGIN.PASSRESET.MSG"),isUrgent:!1,yesCb:function(){n.safeApply(i.$root,function(){i.passwordResetInProgress=!0,r.account_password_reset(i.username)})}.bind(this),yesText:c.instant("REGISTERLOGIN.PASSRESET.OK"),noText:c.instant("REGISTERLOGIN.PASSRESET.CANCEL"),title:c.instant("REGISTERLOGIN.PASSRESET.TITLE"),groupId:"register"}):ShowAlertPopup({msg:c.instant("FORMS.ERRORS.EMAILINVALID"),title:c.instant("REGISTERLOGIN.PASSRESET.TITLE"),timeout:-1})},i.password_reset_cb=function(t){o.log("Account passwd reset result: "+JSON.stringify(t)),n.safeApply(i.$root,function(){try{i.extraMessage=c.replaceSdkName(t.msg),i.passwordResetInProgress=!1,t.type===e.OK_NOERROR&&""===t.msg&&(i.extraMessage=c.instant("REGISTERLOGIN.DIRECTIONS.PASSRESETSUBMIT"))}catch(t){}})},i.getForgotPasswordText=function(){return i.passwordResetInProgress?c.instant("FORMS.WAITING"):c.instant("REGISTERLOGIN.BUTTONS.FORGOTPASSWORD")},r.register("report_account_password_reset_result",i.password_reset_cb),i.$on("$destroy",function(){r.unregister("report_account_password_reset_result",i.password_reset_cb)}),r.register("report_account_password_change_result",i.password_change_cb),i.$on("$destroy",function(){r.unregister("report_account_password_change_result",i.password_change_cb)})}]),!1);function getPlatformSvc(){var t=angular.element(document.getElementById("onePane")).scope();if(t)return t.platform}function platform_windowOpenExternal(t){var e=getPlatformSvc();e&&e.windowOpenExternal(t)}function platform_share(t){var e=getPlatformSvc();e&&e.share(t)}function platform_shareForData(t){var e=getPlatformSvc();e&&e.shareForData(t)}function platformLogInfo(t){var e=getPlatformSvc();e&&e.logInfo(t)}function platformLogError(t,e){var n=getPlatformSvc();n&&n.logError(t,e)}function platformShowNotification(t){var e=getPlatformSvc();e&&e.showNotification(t)}function platformRestore(){var t=getPlatformSvc();t&&t.restorePurchase(!1)}function ClearSystemErrorAlert(){ClearAlertsFor("system")}function ClearAlertsFor(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.ClearAlertsFor&&e.ClearAlertsFor(t)}function newShowConfirmPopup(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.ShowPopup&&e.ShowPopup(t)}function newShowAlertPopup(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.ShowPopup&&e.ShowPopup(t)}function newShowBubbleAction(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.ShowPopup&&e.ShowPopup(t)}function promptsYes(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.doSelection&&e.doSelection(t,"yes")}function promptsNo(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.doSelection&&e.doSelection(t,"no")}function promptsMaybe(t){var e=angular.element(document.getElementById("popup-alert-container")).scope();e&&e.doSelection&&e.doSelection(t,"maybe")}function purchaseComplete(t){var e=angular.element(document.getElementById("purchaseContainer")).scope(),n=angular.element(document.getElementById("introContainer")).scope(),s=angular.element(document.getElementById("onePane")).scope();s&&s.purchaseComplete(t),e&&e.setPurchaseComplete(t),n&&n.setPurchaseComplete(t)}function fancyTimeFormat(t){var e=Math.floor(t/86400),n=(t-=86400*e,Math.floor(t/3600)%24),s=(t-=3600*n,Math.floor(t/60)%60),t=(t-=60*s,Math.floor(t%60)),i="";return 0<e&&(i+=e+":"),0<n&&(i+=(n<10?"0":"")+n+":"),i+=(s<10?"0":"")+s+":"+(t<10?"0":"")+t}function registerLoginExternal(t,e){var n=angular.element(document.getElementById("register-login-Wrapper")).scope();n&&n.external(t,e)}function restoreComplete(t){var e=angular.element(document.getElementById("restorePurchases")).scope(),e=(e&&e.restoreComplete(),angular.element(document.getElementById("lockScreen")).scope()),e=(e&&e.restoreComplete(),angular.element(document.getElementById("settingsAccount")).scope());e&&e.restoreComplete(t),t&&t.resultMessage&&"string"==typeof t.resultMessage&&ShowAlertPopup({msg:t.resultMessage,timeout:-1,groupId:"restore"})}function hostDeepLinkCreated(t){var e=angular.element(document.getElementById("pairAndShare")).scope();e&&e.hostDeepLinkCreated(t)}function connectPairShareFromDeepLink(t){var e=angular.element(document.getElementById("pairAndShare")).scope();e&&e.connectToNetworkShare(url)}document.addEventListener("ondragover",function(t){return(t=t||window.event).preventDefault(),!1},nonPassiveEvent),document.addEventListener("ondrop",function(t){return(t=t||window.event).preventDefault(),!1},nonPassiveEvent),angular.module("speedifyUI.platform").service("platform",["debug","urlArgs","sentry","speedifyAPI","branding","spTranslate","matomo",function(i,r,o,t,a,c,l){this.inferPlatform=function(){var t=navigator.userAgentData&&navigator.userAgentData.platform||navigator.platform;return(t.startsWith("Win")?"win":-1<t.indexOf("Linux")&&"lin")||(-1<t.indexOf("Mac")?"mac":"browser")},this.platformVersion=function(){try{var t;if(this.platformIs("android"))return(t=navigator.userAgent.toLowerCase().match(/android\s([0-9\.]*)/i))?Number(t[1]):0}catch(t){return 0}},this.platformClass=void 0!==staticPlatform?staticPlatform:this.inferPlatform(),this.platformIs=function(t){return t&&("string"==typeof t&&t==this.platformClass||Array.isArray(t)&&-1<t.indexOf(this.platformClass))},this.identity={platform:this.platformClass,mobile:this.platformIs(["ios","android"]),apple:this.platformIs(["ios","macExtension"]),storeType:this.platformIs(["ios","macExtension"])?"AS":this.platformIs(["android"])&&"GP"},this.features={startupConnect:!0,startupConnectPermission:this.platformIs(["macExtension"]),jumboFrames:this.platformIs("win"),disconnectOnExit:this.platformIs(["win","lin","android"]),privateIPControl:this.platformIs("android"),networkShareEnabled:!1,networkShareHost:!1,supportsHaptics:this.platformIs(["ios","android"]),supportsDefaultSounds:this.platformIs(["ios","android"]),dns:!0,dnsLeak:this.platformIs("win"),onDemand:this.platformIs(["ios"]),ipLeak:this.platformIs(["win","android"]),killSwitch:this.platformIs(["win","android","ios"]),streamingBypass:!0,applicationBypass:this.platformIs("android"),systemColorPreference:this.platformIs(["win","ios","macExtension","android"]),restorePurchase:this.platformIs(["android","ios","macExtension"]),serviceRestart:!this.platformIs("mac"),facebookLike:this.platformIs(["android","ios"]),review:this.platformIs(["android","ios","macExtension"]),accountDelete:this.platformIs(["ios","macExtension","android","win","mac"]),manualTerminate:this.platformIs("macExtension"),platformSubscriptionManagement:this.platformIs("android"),stopStatsOnHide:this.platformIs(["android","ios","macExtension"]),closeSocketOnHide:this.platformIs(["macExtension","ios"]),nativeAlerts:this.platformIs(["android","ios","macExtension"]),nativePurchase:this.platformIs(["android","ios","macExtension"]),nativeCaptivePortal:this.platformIs(["android","ios"]),nativeLanguagePicker:this.platformIs("android")&&13<=this.platformVersion(),updateCheck:this.platformIs(["lin","mac"]),shareHandler:this.platformIs(["android","ios"]),helperTool:this.platformIs("macExtension"),isLoggingIn:this.platformIs("macExtension"),respondsToPowerToggle:this.platformIs(["ios"]),supportsViewMore:this.platformIs(["ios","macExtension","win","mac","lin"]),supportsReconnectLater:this.platformIs(["win","lin"]),supportsPendingNotifications:this.platformIs(["macExtension","ios"]),hasNotificationPermission:this.platformIs(["android","ios","macExtension"]),hasVpnPermission:this.platformIs(["ios","macExtension"])||this.platformIs("android")&&14<=this.platformVersion()},this.notifications={account:this.platformIs("macExtension"),connect:this.platformIs(["win","lin","macExtension","mac"]),captivePortal:!0,streamingBypass:!0,speedifyLive:!0,stream:this.platformIs(["win","lin","ios"]),marketing:!0,hotspotSecurity:this.platformIs("ios"),deadHotspot:this.platformIs("ios"),disconnect:this.platformIs(["macExtension","mac","android","ios"])},this.urls={store:(this.platformIs("android")?"market://details?id=com.speedify.speedifyandroid":this.platformIs("ios")&&"https://itunes.apple.com/us/app/speedify-fast-bonding-vpn/id999025824?ls=1&mt=8")||(this.platformIs("macExtension")?"http://itunes.apple.com/us/app/speedify-fast-bonding-vpn/id999025824?mt=12":null),review:(this.platformIs("android")?"market://details?id=com.speedify.speedifyandroid":this.platformIs("ios")&&"itms://itunes.apple.com/us/app/speedify-fast-bonding-vpn/id999025824?ls=1&mt=8&action=write-review")||(this.platformIs("macExtension")?"macappstore://apps.apple.com/app/id999025824?action=write-review":null)},this.isFilteredError=function(t){return t instanceof Error&&-1<t.message.indexOf("Java object is gone")},this.postMessage=function(t,e,n){try{var s;this.platformIs("win")?s=window.chrome&&window.chrome.webview:this.platformIs(["lin","macExtension","mac","ios"])?s=window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.speedify:this.platformIs(["android"])&&"undefined"!=typeof speedify&&(s=speedify),s&&s.postMessage?s.postMessage(JSON.stringify({cmd:t,data:e})):n&&n()}catch(t){this.isFilteredError(t)||o.report(t)}},this.windowOpenExternal=function(t,e){i.log("opening external with "+t);var n=t;if(!e)try{n=r.add(n)}catch(t){}l.trackLink(t),this.postMessage("windowOpenExternal",{url:n},function(){window.open(n)})},this.windowOpenExternalPrivate=function(t,e,n){i.log("opening external private url");var s=t;if(!e)try{s=r.add(s)}catch(t){}l.trackLink(n),this.postMessage("windowOpenExternal",{url:s},function(){window.open(s)})},this.windowOpenInternal=function(t,e,n){i.log("opening internal with "+t);var s=t;if(!e)try{s=r.add(s)}catch(t){}l.trackLink(t),this.postMessage("windowOpenInternal",{url:s,options:n},function(){window.open(s)})},this.showUi=function(){this.postMessage("showUi")},this.hideUi=function(){this.postMessage("hideUi")},this.generateLogs=function(){this.postMessage("generateLogs"),loggen_external_setState(!1)},this.restartService=function(){this.postMessage("restartService")},this.doNativeUpdate=function(){return!!supportsNativeUpdate&&(this.postMessage("doNativeUpdate"),!0)},this.logInfo=function(t){try{var e=t instanceof Error?t.stack:"string"==typeof t?t:t.toString();this.postMessage("logInfo",{entry:e})}catch(t){}},this.logError=function(t,e){try{var n=t instanceof Error?t.stack:"string"==typeof t?t:t.toString(),s=e?e instanceof Error?e.stack:e.toString():null;this.postMessage("logError",{entry:n,exception:s})}catch(t){}},this.showNotification=function(t){this.postMessage("showNotification",{notification:t})},this.showDisconnectNotification=function(t){this.postMessage("showDisconnectNotification",{notification:t})},this.cancelDisconnectNotifications=function(){this.postMessage("cancelDisconnectNotifications")},this.getPendingNotifications=function(){this.postMessage("getPendingNotifications")},this.hideNotification=function(t){this.postMessage("hideNotification",{id:t})},this.clearNotifications=function(){this.postMessage("clearNotifications")},this.unhandledBack=function(){this.postMessage("unhandledBack")},this.reportLoginPane=function(){l.trackPageView("settings/login","Account - Login"),this.postMessage("reportLoginPane")},this.reportLoginPaneJustLoggedOut=function(){this.postMessage("reportLoginPaneJustLoggedOut")},this.requestNativeReview=function(){this.postMessage("requestReview")},this.reportCreatePane=function(){l.trackPageView("settings/create","Account - Create Account"),this.postMessage("reportCreatePane")},this.startSpeedTest=function(){this.postMessage("startSpeedTest")},this.startStreamTest=function(){this.postMessage("startStreamTest")},this.reportSignIn=function(){this.postMessage("reportSignIn")},this.restorePurchase=function(t){this.postMessage("restorePurchase",{userInitiated:t})},this.playHaptic=function(){this.postMessage("playHaptic")},this.userToggledPowerButton=function(t){this.postMessage("userToggledPowerButton",{keepAlive:t})},this.delayReconnect=function(t){this.postMessage("delayedReconnect",{delay:t})},this.clearDelayReconnect=function(){this.postMessage("clearDelayedReconnect")},this.share=function(t){var e=[c.instant("PLATFORM.SHARE.TEXT1")],n={shareUrl:a.shareUrl,referralUrl:a.aboutUrl,referralText:e[Math.floor(Math.random()*e.length)],instructionText:c.instant("PLATFORM.SHARE.INSTRUCTION")};if(t)for(var s in t)n[s]=t[s];this.features.shareHandler?this.postMessage("shareJson",n):void 0!==n.shareUrl&&(n.isSpeedTest||n.isStreamShare||(n.referralText+="https://speedify.com"),this.windowOpenExternal(n.shareUrl+"?text="+encodeURIComponent(n.referralText),!0))},this.facebookLike=function(){this.features.facebookLike?this.postMessage("facebookLike",{pageName:a.facebookPageName,likeUrl:a.facebookLikeUrl,pageID:a.facebookPageID}):this.windowOpenExternal(a.facebookLikeUrl)},this.showRedemptionCodeUI=function(){this.postMessage("redeemCode")},this.ClearSystemErrorAlert=function(){this.postMessage("clearSystemErrorAlert")},this.ClearErrorAlertFor=function(t){this.postMessage("clearErrorAlertFor",{groupId:t})},this.ShowAlertPopup=function(t,e,n,s){return!!this.features.nativeAlerts&&(this.postMessage("showAlertPopup",{msg:t,timeout:e,title:n,groupId:s}),!0)},this.ShowConfirmPopup=function(t,e,n,s,i,r,o,a){return!!this.features.nativeAlerts&&(this.postMessage("showConfirmPopup",{msg:t,timeout:e,title:n,groupId:s,yesText:i,noText:r,maybeText:o,isUrgent:a}),!0)},this.getPermissionList=function(){this.postMessage("getPermissionList")},this.runPermission=function(t){this.postMessage("runPermission",{permissionId:t})},this.viewedPermission=function(t){this.postMessage("viewedPermission",{permissionId:t})},this.siriShortcuts=function(){this.postMessage("siriShortcuts")},this.getPlatformFlags=function(){this.postMessage("getPlatformFlags")},this.reportReviewResult=function(t){this.postMessage("reportReviewResult",{result:t})},this.allLanguagesLoaded=function(){this.postMessage("allLanguagesLoaded")},this.terminate=function(){this.postMessage("terminate")},this.removeHelperTool=function(){this.postMessage("removeHelperTool")},this.captivePortalPopup=function(t,e){return!!this.features.nativeCaptivePortal&&(this.postMessage("captivePortalPopup",{url:t,onClose:e}),!0)},this.doUIHostCrash=function(){this.postMessage("doUIHostCrash")},this.loadProducts=function(t){this.postMessage("loadProducts",{products:t})},this.buyProduct=function(t){this.postMessage("buyProduct",{product:t})},this.isLoggingIn=function(t){this.postMessage("isLoggingIn",{isLoggingIn:t})},this.queryAllApplications=function(){this.postMessage("queryAllApplications")},this.openLanguages=function(){this.postMessage("openLanguages")},this.manageSubscription=function(t){this.postMessage("manageSubscription",{product:t})},this.postMessage("checkNativeUpdate")}]),angular.module("speedifyUI.platform").service("purchasing",["platform","debug","urlArgs","sentry","speedifyAPI","branding","spTranslate","matomo",function(n,r,s,o,t,a,e,i){n.platformIs("android")?this.baseProducts=[{productTag:"yearly",id:"speedify.yearly.unlimited.5",billing:"yr",months:12,savings:.5,trialLengthDays:0,popular:!0,users:1,devicePerUser:5},{productTag:"monthly",id:"speedify.monthly.unlimited.4",billing:"mo",months:1,trialLengthDays:0,popular:!1,users:1,devicePerUser:5},{productTag:"threeyear",id:"speedify.threeyear.unlimited.2",billing:"yr",months:36,savings:.7,trialLengthDays:0,popular:!0,bestdeal:!0,users:1,devicePerUser:5}]:n.platformIs(["ios","macExtension"])?this.baseProducts=[{productTag:"monthlyFamily",id:"com.connectify.speedify.monthly.unlimited.family.003",billing:"mo",months:1,trialLengthDays:0,popular:!1,users:6,devicePerUser:5,isFamily:!0},{productTag:"monthly",id:"com.connectify.Speedify.monthly.unlimited.008",billing:"mo",months:1,trialLengthDays:0,popular:!1,users:1,devicePerUser:5},{productTag:"yearly",id:"com.connectify.Speedify.yearly.unlimited.004",billing:"yr",months:12,savings:.5,trialLengthDays:7,popular:!0,users:1,devicePerUser:5},{productTag:"yearlyFamily",id:"com.connectify.speedify.yearly.unlimited.family.002",billing:"yr",months:12,trialLengthDays:7,savings:.5,popular:!0,users:6,devicePerUser:5,isFamily:!0}]:n.platformIs(["win","lin","mac"])&&(this.baseProducts=[{productTag:"yearly",id:"com.connectify.Speedify.yearly.unlimited",url:a.buyYearly,billing:"yr",savings:.4,months:12,popular:!0,users:1,devicePerUser:5},{productTag:"monthly",id:"com.connectify.Speedify.monthly.unlimited",url:a.buyMonthly,billing:"mo",months:1,popular:!1,users:1,devicePerUser:5},{productTag:"familyYearly",id:"com.connectify.Speedify.family.yearly.unlimited",url:a.buyMonthly,billing:"mo",months:12,popular:!1,users:1,devicePerUser:5},{productTag:"threeyear",id:"com.connectify.Speedify.threeyear.unlimited",url:a.buyYearly,billing:"yr",months:36,popular:!0,bestdeal:!0,savings:.7,users:1,devicePerUser:5}]),this.loadProducts=function(){var t=this.baseProducts;defaultProducts(t),n.features.nativePurchase?n.loadProducts(t):s.call(function(i){try{var t=n.identity.platform,e=("browser"==t&&(t="win"),a.purchasingUrlBase+t+".php");$.getJSON(s.add(e),function(t){try{if(r.log("pulled purchasing"),i&&void 0!==i.length){for(var e=0;e<i.length;e++)for(var n=0;n<t.length;n++)if(i[e].id==t[n].id){for(var s in t[n])t[n].hasOwnProperty(s)&&(i[e][s]=t[n][s]);break}populateProducts({products:i})}}catch(t){o.report(t)}}.bind(this)).fail(function(t,e,n){r.log("failed to pull purchasing "+e.toString()),setTimeout(this.loadProducts.bind(this),5e3)}.bind(this,i))}catch(t){o.report(t)}}.bind(this,t))},this.buyProduct=function(t,e){t?n.features.nativePurchase?n.buyProduct(t):t.url&&(t.internalUrl?n.windowOpenExternal(i.appendTracking(t.internalUrl,e,"store"),!1):n.windowOpenExternal(i.appendTracking(t.url,e,"store")),purchaseComplete(!1)):purchaseComplete(!1)}}]),(networkInfoPopupMod=angular.module("speedifyUI.components")).directive("popupAlertContainer",function(){return{scope:{},restrict:"E",template:'<div id="popup-alert-container"></div>',controller:"PopupAlertContainerCtrl"}}).service("alertTracker",[function(){this.callbacks={}}]).controller("PopupAlertContainerCtrl",["$scope","globals","platform","$compile","alertTracker","matomo",function(n,s,i,r,o,a){n.creationTimeouts={},n.ShowPopup=function(e){s.safeApply(n.$root,function(){if(n.ClearAlertsFor(e.groupId),o.callbacks[e.groupId]={yes:e.yesCb,no:e.noCb,maybe:e.maybeCb},!0!==e.skipPlatform){if(!e.isAlert&&!e.isBubble&&i.ShowConfirmPopup(e.msg,e.timeout,e.title,e.groupId,e.yesText,e.noText,e.maybeText,e.isUrgent))return;if(e.isAlert&&!e.isBubble&&i.ShowAlertPopup(e.msg,e.timeout,e.title,e.groupId))return}n.creationTimeouts[e.groupId]=setTimeout(function(){var t="<popup-alert-element id='pae-"+e.groupId+"' group-id='\""+e.groupId+"\"' is-alert='"+e.isAlert+"' is-bubble='"+e.isBubble+"' position='\""+e.position+"\"' selection='doSelection(\""+e.groupId+'",selection,"'+e.adapter+"\" )' header='\""+escape(e.title)+"\"' content='\""+escape(e.content)+"\"' message='\""+escape(e.msg)+"\"' yes='\""+escape(e.yesText)+"\"' no='\""+escape(e.noText)+"\"' maybe='\""+escape(e.maybeText)+"\"' disable-back-click='"+e.disableBackClick+"'></popup-alert-element>";$("#popup-alert-container").append(r(t)(n)),n.$apply()},100),e.isAlert&&!e.isBubble&&0<e.timeout?setTimeout(function(){ClearAlertsFor(e.groupId)},e.timeout):i.showUi()})},n.doSelection=function(t,e,n){if(a.trackEvent("popup-alert",n||t,e),o.callbacks[t]){switch(e){case"yes":o.callbacks[t].yes&&o.callbacks[t].yes();break;case"maybe":o.callbacks[t].maybe&&o.callbacks[t].maybe();break;default:o.callbacks[t].no&&o.callbacks[t].no()}delete o.callbacks[t]}},n.ClearAlertsFor=function(t){s.safeApply(n.$root,function(){i.ClearErrorAlertFor(t),"system"==t&&i.ClearSystemErrorAlert(),o.callbacks[t]&&delete o.callbacks[t],n.creationTimeouts[t]&&(clearTimeout(n.creationTimeouts[t]),delete o.callbacks[t]),$("#pae-"+t).remove(),s.popupAlertActive=$("popup-alert-element").length})}}]),networkInfoPopupMod.directive("popupAlertElement",function(){return{scope:{selection:"&",header:"=",message:"=",yes:"=",no:"=",maybe:"=",isAlert:"=",isBubble:"=",groupId:"=",position:"=",content:"=",disableBackClick:"="},restrict:"E",templateUrl:"components/popup-alert/popup-alert.html",controller:"PopupAlertElementCtrl"}}).controller("PopupAlertElementCtrl",["$scope","globals","$timeout","platform","debug","matomo",function(n,s,i,t,e,r){e.log("adding 1 for id "+n.groupId+" with popupAlertActive at "+s.popupAlertActive),s.popupAlertActive=$("popup-alert-element").length,e.log("popupAlertActive at "+s.popupAlertActive),n.show=!1,n.showChild=!1,n.backClicks=0,i(function(){n.show=!0},200),n.doSelect=function(t){n.selection({selection:t}),n.dismiss()},n.dismiss=function(){n.showChild=!1,r.trackEvent("popup-alert","close"),i(function(){s.safeApply(n.$root,function(){ClearAlertsFor(n.groupId),n.show=!1})},450)},n.$on("closePopup",function(t,e){e?n.selection({selection:e}):n.dismiss()}),n.$watch("show",function(t,e){i(function(){s.safeApply(n.$root,function(){n.showChild=t})},150)}),n.isMobile=function(){return t.identity.mobile},n.unescape=function(t){return unescape(t)},n.backClick=function(){!0!==n.disableBackClick&&(e.log("got backclick in id "+n.groupId+" with popupAlertActive at "+s.popupAlertActive),n.isAlert||n.isBubble||(n.backClicks++,5<=n.backClicks))&&n.doSelect("no")}}]),angular.module("speedifyUI.components").directive("premiumFeatureHeader",function(){return{scope:{currentSetting:"@"},restrict:"E",templateUrl:"components/premium-feature-header/premiumFeatureHeader.html",controller:"PremiumFeatureHeaderCtrl"}}).controller("PremiumFeatureHeaderCtrl",["$scope","accounting",function(t,e){t.isPremiumSetting=function(){return!!e.premiumFeatures[t.currentSetting]&&!0===e.premiumFeatures[t.currentSetting].locked},t.sendToUpgrade=function(){t.$emit("showUpgrade")}}]),angular.module("speedifyUI.components").directive("product",function(){return{scope:{product:"=",selectedProduct:"=",showDisabled:"=",click:"&"},restrict:"E",templateUrl:"components/productList/product.html",controller:"ProductCtrl"}}).controller("ProductCtrl",["$scope","spTranslate","globals","accounting","debug",function(s,i,r,e,t){s.buyProduct=function(t){s.click({product:t})},s.getName=function(t){switch(t.productTag){case"yearly":case"yearlyFamily":return i.instant("PURCHASE.NAMES.YEARLY");case"monthly":case"monthlyFamily":return i.instant("PURCHASE.NAMES.MONTHLY");case"familyYearly":return i.instant("PURCHASE.NAMES.FAMILY");case"threeyear":return i.instant("PURCHASE.NAMES.THREEYEAR")}},s.getMonths=function(t){return t.isFree?i.instant(t.name):i.instant("PURCHASE.PURCHASELENGTH",{monthsDisplay:i.numToLocale(t.months),months:t.months})},s.getCostPerMonth=function(t){var e;return t.isFree?i.instant(t.billing,{dataAmount:r.freeDataAmount,trialLength:t.trialLengthDays}):(e="--",t.priceValue?(e=t.months?t.priceValue/t.months:t.priceValue,i.instant("PURCHASE.PRICEPERMONTH",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:i.numToLocale(e,2,2)})):i.instant("PURCHASE.PRICEPERMONTH",{currencySymbol:"-",currencyCode:"-",price:"-"}))},s.getPerUserPrice=function(t){var e;return t.isFree?i.instant(t.billing,{dataAmount:r.freeDataAmount,trialLength:t.trialLengthDays}):t.priceValue?(e=(t.months?t.priceValue/t.months:t.priceValue)/t.users,i.instant("PURCHASE.PRICEPERUSERPERMONTH",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:i.numToLocale(e,2,2)})):i.instant("PURCHASE.PRICEPERUSERPERMONTH",{currencySymbol:"-",currencyCode:"-",price:"-"})},s.trialEligible=function(t){return t.isTrial&&e.isTrialEligible},s.getTotalCost=function(t){var e,n;return t?t.isFree?i.instant(t.billing,{dataAmount:r.freeDataAmount,trialLength:t.trialLengthDays}):(e="--",t.priceValue?(e=t.priceValue,n="","threeyear"==t.productTag?(t.currencySymbol||"")+i.numToLocale(e,2,2):("yr"==t.billing?n=s.trialEligible(t)?"PURCHASE.TRIALBUTTON":"PURCHASE.PRICEPERYEAR":"mo"==t.billing&&(n="PURCHASE.PRICEPERMONTH"),i.instant(n,{currencySymbol:t.currencySymbol||"",price:i.numToLocale(e,2,2)}))):"--"):"--"},s.getSavings=function(t){return t&&t.savings?i.instant("PURCHASE.SAVEPERCENTAGE",{percentDisplay:i.numToLocale(Math.ceil(100*t.savings))}):""},s.getMonthlyPrice=function(t){var e;return t?(e="--",t.priceValue&&t.months&&(e=t.priceValue/t.months),i.instant("PURCHASE.PRICEPERMONTH",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:i.numToLocale(e,2,2)})):""},s.getTrialText=function(t){return i.instant("PURCHASE.TRIALLENGTH",{trialLength:t.trialLengthDays})},s.getUserDevices=function(t){return i.instant("PURCHASE.USERDEVICES",{userDisplay:i.toLocaleString(t.users),deviceDisplay:i.toLocaleString(t.users*t.devicePerUser)})},s.isSelectedProduct=function(){return s.isSelected}}]),angular.module("speedifyUI.components").directive("upgrade",function(){return{scope:{isUsage:"=",isExpired:"=",headerText:"=",sale:"="},restrict:"E",templateUrl:"components/purchase/purchase.html",controller:"PurchaseCtrl"}}).controller("PurchaseCtrl",["$scope","globals","debug","productListing","spTranslate","LearnMore","$rootScope","accounting","platform","externalLinks","$mdSidenav","settingsRepository","purchasing","speedifyAPI","matomo",function(i,r,n,s,o,t,e,a,c,l,d,u,p,g,m){i.productListing=s,i.periodRenewExtras={pre1:"<div class='bold'>",post1:"</div>",pre2:"<div class='xsmallText mr16 ml16'>",post2:"</div>",dataAmount:"",daysDisplay:"",days:0,stylePre:"<b>",stylePost:"</b>"},i.callToUpgradeExtras={stylePre:"<b>",stylePost:"</b>"},i.titleExtras={pre1:"<span class='semibold'>",post1:"</span>",pre2:"<span class='blueText'>",post2:"</span>"},i.titleExtrasFamily={pre1:"<span class='semibold'>",post1:"</span>",pre2:"<span class='productPurpleText'>",post2:"</span>"},i.iCloudStyle={stylePre:"<b>",stylePost:"</b>"},i.selectedPlan="individual",i.showMore=!1,i.currentPurchasingProduct={},i.useWallOfText=function(){return"ios"===c.platformClass||"macExtension"===c.platformClass},i.launchTos=function(){l.Tos(m.Screen.Purchase)},i.launchPrivacy=function(){l.Privacy(m.Screen.Purchase)},i.help=function(){t("upgrade",m.Screen.Purchase)},i.doSignIn=function(){m.trackEvent("store","register-login"),e.$broadcast("showRegisterLogin"),d("upgrade").close()},i.haveTrials=function(){return a.userHasTrials(i.selectedProduct)},i.getSelectedProductId=function(){return i.selectedProduct},i.isSelectedProduct=function(t){return!!(i.selectedProduct&&i.selectedProduct.id&&t&&t.id&&i.selectedProduct.id===t.id)},i.getTrialExtras=function(){for(var t=null,e=0;e<s.products.length;e++)s.products[e]&&s.products[e].isTrial&&(t=t?Math.min(t,s.products[e].trialLengthDays):s.products[e].trialLengthDays);return{trialLength:t}},i.changeProduct=function(t){i.selectedProduct=t},i.viewMore=function(t){m.trackEvent("store","view-more-"+t),i.showMore=t},i.isApple=function(){return"ios"===c.platformClass||"macExtension"===c.platformClass},i.familyTrialDesc=function(){return o.instant("PURCHASE.TRIALEXPLAIN",i.getTrialExtras())},i.purchaseAttemptPending=!1,i.buyProduct=function(t){t&&t.id&&m.trackEvent("store","buy",t.id),i.currentPurchasingProduct=t,s.productsError?ShowAlertPopup({msg:s.productsError}):(i.setPurchasePending(t),p.buyProduct(t,m.Screen.Purchase))},i.getCurrencyCodeInformation=function(){return a.getCurrencyCodeInformation(i.selectedProduct)},i.setPurchaseComplete=function(t){if(i.currentPurchasingProduct={},c.showUi(),n.log("Purchase complete, requesting accounting data"),g.request_accounting_data(!0),t&&t.success&&!0===u.vendor_local_settings.completed_intro&&i.$emit("showReview"),i.purchaseAttemptPending){(c.identity.mobile||t)&&t&&i.$emit("closesettings",{navId:"upgrade"});try{i.purchaseAttemptCb({product:i.purchaseAttemptPending,success:t})}catch(t){}i.setPurchasePending(!1);var e=!0;void 0===t?e="unknown":1==t.success?a.isAutoAccount&&!t.username&&!0===u.vendor_local_settings.completed_intro&&u.doCompleteRegistration():!1===t.success&&(e=!1)}m.trackEvent("store","purchase-complete-"+e,i.currentPurchasingProduct.id)},i.showTier2Product=function(){return!i.isUnlimited()||!(!i.isUpgradeable()||void 0!==a.productName&&a.productName.includes("yearly"))},i.checkSubscriptionPlan=function(){!i.isFamily()&&i.showTier2Product()||(i.selectedPlan="families",i.selectedProduct=i.getYearlyFamilyProduct())},i.showFamilyMonthly=function(){return!(!i.showTier2Product()||a.isFamily)},i.isUpgradeable=function(){return a.isUpgradeable()},i.isUnlimited=function(){return a.isUnlimited},i.isFamily=function(){return a.isFamily},i.currentPricePlan=function(){if(a.productName&&i.productListing&&i.productListing.products){var t=i.productListing.products.filter(function(t){return a.productName===t.id});if(0<t.length)return t[0].price+"/"+t[0].billing}return null},i.setPurchasePending=function(t){r.safeApply(i.$root,function(){n.log("setPurchasePending "+t),i.purchaseAttemptPending=t})},i.getIsPurchasingFor=function(t){return!!i.purchaseAttemptPending&&i.purchaseAttemptPending.id===t},i.getProductByTag=function(t){if(i.productListing.products)for(var e=0;e<i.productListing.products.length;++e)if(i.productListing.products[e].productTag==t)return i.productListing.products[e];return null},i.getYearlyProduct=function(){return i.getProductByTag("yearly")},i.getMonthlyProduct=function(){return i.getProductByTag("monthly")},i.getThreeYearProduct=function(){return i.getProductByTag("threeyear")},i.getMonthlyFamilyProduct=function(){return i.getProductByTag("monthlyFamily")},i.getYearlyFamilyProduct=function(){return i.getProductByTag("yearlyFamily")},i.getFamilyProduct=function(){return!1},i.getYearlyABProduct=function(){return i.getProductByTag("yearlyAB")},i.getAccountingData=function(){var t=a.periodEnd,t=r.getDiffDays(t);i.periodRenewExtras.daysDisplay=o.numToLocale(t),i.periodRenewExtras.days=t},i.getTrialInfo=function(){var t=i.getYearlyFamilyProduct();return"individual"==i.selectedPlan&&(t=i.getYearlyProduct()),o.instant("PURCHASE.TRIALPRICE",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:o.numToLocale(t.priceValue,2,2),trialPrice:0})},i.getSaleSavings=function(){return i.getTotalCost(i.getYearlyABProduct())},i.getTotalCost=function(t){if(t){if(t.isFree)return o.instant(t.billing,{dataAmount:r.freeDataAmount,trialLength:t.trialLengthDays});if(t.priceValue){var e,n=t.priceValue,s="";if("yr"==t.billing){if(!0===i.sale)return e=i.getYearlyProduct(),s="PURCHASE.PRICEPERYEARABTESTB","<span>"+o.instant("PURCHASE.PRICEPERYEARABTESTA")+"</span> <span class='ab-trial-text'> "+o.instant("PURCHASE.PRICEPERYEARABTESTC",{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:o.numToLocale(e.priceValue,2,2)})+"</span> <span>"+o.instant(s,{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:o.numToLocale(n,2,2)})+"</span>";s="PURCHASE.PRICEPERYEAR"}else"mo"==t.billing&&(s=i.isMobile()?"INTRO.PITCH.PRICEPERUSERPERMONTH":"PURCHASE.PRICEPERMONTH");return o.instant(s,{currencySymbol:t.currencySymbol||"",currencyCode:t.currencyCode||"",price:o.numToLocale(n,2,2)})}}return"--"},i.getButtonText=function(){return"families"!==i.selectedPlan||i.isFamily()?i.isUpgradeable()?o.instant("ACCOUNTPANE.UPGRADE"):o.instant("SETTINGSPANE.ACCOUNT.UPGRADE"):o.instant("SETTINGSPANE.ACCOUNT.UPGRADEFAMILIES")},i.changeSelectedPlan=function(t){i.selectedPlan=t,m.trackEvent("store","change-plan",t),i.selectedProduct="families"===t?i.getYearlyFamilyProduct():i.getYearlyProduct()},i.getPurchaseHeader=function(){return"purchase-header"},i.getPurchaseContainerSize=function(){return i.isUpgradeable()?"purchase-container-upgradeable":"purchase-container"},i.getRenewalDate=function(){return o.instant("SETTINGSPANE.ACCOUNT.RENEWSPAID",{date:moment(a.nextPeriodDate).format("MM/DD/YY")})},i.getTierName=function(){return a.getTierFriendlyName()},i.timeLeft=function(){var t;if(0<a.startDate)return t=(new Date).getTime()/1e3-a.startDate,fancyTimeFormat(r.popupSaleTime-t)},i.introComplete=function(){return u.vendor_local_settings.completed_intro},i.shouldRestorePurchases=function(){return c.features.restorePurchase&&a.hasData()&&!a.isPaying&&!a.isTeam},i.doRestorePurchases=function(){m.trackEvent("store","restore-purchase"),c.restorePurchase(!0)},i.selectedProduct=i.getYearlyProduct(),i.checkSubscriptionPlan()}]),angular.module("speedifyUI.components").directive("pushPermission",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/push-permission/push-permission.html",controller:"PushPermissionCtrl"}}).controller("PushPermissionCtrl",["$scope","accounting","speedifyAPI","DataScaling","spTranslate","platform","$timeout","settingsRepository","globals","permissions","matomo",function(n,t,e,s,i,r,o,a,c,l,d){n.smallScreen=c.smallScreen,n.dismiss=function(){d.trackEvent("push-permission","close"),a.vendor_local_settings.shown_push_popup=!0,e.set_vendor_local_settings(a.vendor_local_settings),o(function(){c.safeApply(n.$root,function(){n.$emit("pushPopUpComplete")})},300)},n.$watch("show",function(t,e){o(function(){c.safeApply(n.$root,function(){n.showChild=t})},150)}),n.pushPermissionDenied=function(){d.trackEvent("push-permission","denied"),n.dismiss()},n.runPushPermission=function(){l.runPermissionWithID("push"),d.trackEvent("push-permission","run-permission"),n.dismiss()},n.isMobile=function(){return r.identity.mobile}}]),angular.module("speedifyUI.components").directive("registerLogin",function(){return{scope:{initialText:"=",currentState:"=",initialEmail:"="},restrict:"E",templateUrl:"components/register-login/register-login.html",controller:"RegisterLoginCtrl"}}).directive("autofocus",["$timeout",function(n){return{restrict:"A",link:function(t,e){n(function(){e&&e[0]&&e[0].focus()})}}}]).controller("RegisterLoginCtrl",["$scope","speedifyAPI","globals","platform","settingsRepository","debug","$timeout","SPEEDIFY_STATES","ERROR_CODES","accounting","spTranslate","$sce","LearnMore","urlArgs","matomo","branding",function(n,e,s,t,i,r,o,a,c,l,d,u,p,g,m,h){n.extraMessage,n.password="",n.confirmPassword="",n.registrationInProgress=!1,n.passwordResetInProgress=!1,n.askingForPassword=!1,n.askingForConfirmPassword=!1,n.username="",n.allowCreate=!1,n.lastStateLoggedOut=!1,n.emulatingInput=!1,n.showStoreLink=!0,n.userClickedLogin=!1,n.isErrorMessage=!1,n.restorePending=!1,n.init=function(){n.extraMessage="",n.initialEmail?n.username=n.initialEmail:l.hasData()&&!l.isAutoAccount&&i.login_settings.username&&(n.username=i.login_settings.username),n.currentState<a.LOGGED_IN||!l.hasData()?n.lastStateLoggedOut=!0:l.isAutoAccount?l.isPaying&&(n.isErrorMessage=!1,n.extraMessage=d.instant("REGISTERLOGIN.DIRECTIONS.AUTOPAID"),n.allowCreate=!0):l.isPaying,n.initialText&&(n.isErrorMessage=!1,n.extraMessage=u.trustAsHtml(n.initialText)),n.allowCreate?t.reportCreatePane():n.lastStateLoggedOut||t.reportLoginPane()},n.register=function(){m.trackEvent("login","register"),n.userClickedLogin=!1,s.userInitiatedConnect=!0,n.askingForPassword&&t.reportSignIn(),n.lastStateLoggedOut&&(angular.element(document.getElementById("onePane")).scope().loginRegisterHeader=d.instant("ACCOUNTPANE.LOGIN"),n.isErrorMessage=!1,n.extraMessage=""),!n.registerLoginForm.$valid||n.askingForPassword&&(0==n.password.length||n.askingForConfirmPassword&&n.password.length<8||-1<n.password.indexOf('"')||-1<n.password.indexOf("\\"))||n.askingForConfirmPassword&&n.confirmPassword!=n.password?(n.askingForPassword?n.askingForConfirmPassword||n.password?n.askingForConfirmPassword&&n.password.length<8?ShowAlertPopup({msg:d.instant("FORMS.ERRORS.PASSLENGTH"),timeout:-1}):-1<n.password.indexOf('"')||-1<n.password.indexOf("\\")?ShowAlertPopup({msg:d.instant("FORMS.ERRORS.PASSINVALIDCHAR"),timeout:-1}):n.askingForConfirmPassword&&n.confirmPassword!=n.password&&ShowAlertPopup({msg:d.instant("FORMS.ERRORS.PASSMATCH"),timeout:-1}):ShowAlertPopup({msg:d.instant("FORMS.ERRORS.ENTERPASS"),timeout:-1}):ShowAlertPopup({msg:d.instant("FORMS.ERRORS.EMAILINVALID"),timeout:-1}),n.emulatingInput=!1):(n.registrationInProgress=!0,l.isAutoAccount?n.askingForConfirmPassword||n.askingForPassword?(n.userClickedLogin=!0,l.isPaying?e.account_link(n.username,n.password,n.askingForConfirmPassword):e.login({username:n.username,password:n.password})):e.account_check(n.username):n.askingForConfirmPassword?(n.userClickedLogin=!0,e.account_create(n.username,n.password)):n.askingForPassword?(n.userClickedLogin=!0,e.login({username:n.username,password:n.password})):e.account_check(n.username))},n.checkRegister=function(){l.isAutoAccount&&l.isPaying&&(n.isErrorMessage=!1,n.extraMessage=d.instant("REGISTERLOGIN.DIRECTIONS.AUTOPAID"),n.allowCreate=!0)},n.getTopStyle=function(){return n.askingForPassword&&n.username?"top-input":"single-input"},n.shouldRestorePurchases=function(){return t.features.restorePurchase&&l.hasData()&&!l.isPaying&&!l.isTeam},n.doRestorePurchases=function(){t.features.restorePurchase&&(n.restorePending=!0,m.trackEvent("login","restore-purchase"),t.restorePurchase(!0))},n.restoreComplete=function(){s.safeApply(n.$root,function(){n.restorePending=!1})},n.doPasswordReset=function(){n.username?ShowConfirmPopup({msg:d.instant("REGISTERLOGIN.PASSRESET.MSG"),isUrgent:!1,isUrgent:!1,yesCb:function(){s.safeApply(n.$root,function(){n.passwordResetInProgress=!0,m.trackEvent("login","password-reset"),e.account_password_reset(n.username)})}.bind(this),yesText:d.instant("REGISTERLOGIN.PASSRESET.OK"),noText:d.instant("REGISTERLOGIN.PASSRESET.CANCEL"),title:d.instant("REGISTERLOGIN.PASSRESET.TITLE"),groupId:"register"}):ShowAlertPopup({msg:d.instant("FORMS.ERRORS.EMAILINVALID"),title:d.instant("REGISTERLOGIN.PASSRESET.TITLE"),timeout:-1})},n.getRegisterText=function(){var t=l.isAutoAccount;return n.registrationInProgress?d.instant("FORMS.WAITING"):n.username&&n.askingForConfirmPassword?t?d.instant("REGISTERLOGIN.BUTTONS.CREATEGLOBAL"):d.instant("REGISTERLOGIN.BUTTONS.REGISTER"):n.username&&n.askingForPassword?d.instant("REGISTERLOGIN.BUTTONS.LOGIN"):d.instant("REGISTERLOGIN.BUTTONS.CONTINUE")},n.getForgotPasswordText=function(){return n.passwordResetInProgress?d.instant("FORMS.WAITING"):d.instant("REGISTERLOGIN.BUTTONS.FORGOTPASSWORD")},n.registerEnabled=function(){return!n.registrationInProgress},n.showAutoAccount=function(){return!g.isVM&&"lin"!=t.platformClass},n.shouldShowStoreLink=function(){return!l.isPaying&&n.showStoreLink&&!n.registrationInProgress},n.doStore=function(){console.log("Showing upgrade"),m.trackEvent("purchase","store-open"),s.sentToStore=!0,t.features.nativePurchase?n.$emit("showUpgrade"):(m.trackEvent("login","external","login"),t.windowOpenExternal(m.appendTracking(h.url_settings.store_url,m.Screen.Login,"purchase"),!0),purchaseComplete())},n.report_account_create_result_cb=function(e){r.log("Account create result: "+JSON.stringify(e)),s.safeApply(n.$root,function(){try{var t=n.userClickedLogin;n.userClickedLogin=!1,n.isErrorMessage=!1,n.extraMessage=d.replaceSdkName(e.msg),n.registrationInProgress=!1,n.showStoreLink=!1,e.type===c.OK_NOERROR?(n.emulatingInput=!1,t&&n.$emit("closesettings",{navId:"login"}),e.msg&&ShowAlertPopup({msg:n.extraMessage,timeout:-1})):e.type==c.CREDENTIAL?"register"===e.createType?n.allowCreate?(n.askingForConfirmPassword=!0,n.askingForPassword=!0,n.emulatingInput&&(n.confirmPassword=n.password,o(function(){n.register()}))):(n.extraMessage=d.instant("REGISTERLOGIN.DIRECTIONS.NOTEXIST"),n.askingForConfirmPassword=!1,n.askingForPassword=!1,n.emulatingInput=!1,n.showStoreLink=!0):(n.askingForConfirmPassword=!1,n.askingForPassword=!0,n.emulatingInput&&o(function(){n.register()})):n.emulatingInput=!1}catch(t){}})},n.report_current_state_cb=function(t){parseInt(t.state)>=a.LOGGED_IN&&n.registrationInProgress&&n.username&&l.email&&n.username.toLowerCase()==l.email.toLowerCase()&&(e.server_auto_connect("auto"),n.registrationInProgress=!1,n.$emit("closesettings",{navId:"login"})),n.lastStateLoggedOut=t.state==a.LOGGED_OUT||t.state==a.LOGGING_IN},n.password_reset_cb=function(t){r.log("Account passwd reset result: "+JSON.stringify(t)),s.safeApply(n.$root,function(){try{n.extraMessage=d.replaceSdkName(t.msg),n.passwordResetInProgress=!1,t.type===c.OK_NOERROR&&""===t.msg&&(n.extraMessage=d.instant("REGISTERLOGIN.DIRECTIONS.PASSRESETSUBMIT"))}catch(t){}})},n.login_error_cb=function(t){s.safeApply(n.$root,function(){t.msg&&(n.userClickedLogin=!1,n.isErrorMessage=!0,console.log("Error message"+n.isErrorMessage),n.password="",o(function(){var t=document.getElementById("password-input");t&&t.focus()}),t.type===c.DEVICE_LIMIT?n.extraMessage=d.instant("REGISTERLOGIN.ERRORS.DEVICELIMIT.TITLE"):n.extraMessage=d.replaceSdkName(t.msg)),n.registrationInProgress=!1})},n.external=function(t,e){t&&e&&s.safeApply(n.$root,function(){n.username=t,n.password=e,n.emulatingInput=!0,o(function(){n.register()})})},e.register("report_account_password_reset_result",n.password_reset_cb),n.$on("$destroy",function(){e.unregister("report_account_password_reset_result",n.password_reset_cb)}),e.register("report_account_check_result",n.report_account_create_result_cb),n.$on("$destroy",function(){e.unregister("report_account_check_result",n.report_account_create_result_cb)}),e.register("report_account_create_result",n.report_account_create_result_cb),n.$on("$destroy",function(){e.unregister("report_account_create_result",n.report_account_create_result_cb)}),e.register("report_login_error",n.login_error_cb),n.$on("$destroy",function(){e.unregister("report_login_error",n.login_error_cb)}),e.register("report_current_state",n.report_current_state_cb),n.$on("$destroy",function(){e.unregister("report_current_state",n.report_current_state_cb)}),n.help=function(){m.trackEvent("login","help"),p("registerLogin",m.Screen.Login)},n.init()}]),angular.module("speedifyUI.components").directive("reviewPrompt",function(){return{scope:{},restrict:"E",templateUrl:"components/review-prompt/review-prompt.html",controller:"ReviewPromptCtrl"}}).controller("ReviewPromptCtrl",["$scope","$rootScope","speedifyAPI","loggen","platform","globals","externalLinks","accounting","settingsRepository","matomo",function(t,e,n,s,i,r,o,a,c,l){t.mode=1,t.hideReviewPane=function(){r.safeApply(t.$root,function(){e.$emit("setPaneView",{id:"speedGraphPane"}),e.$emit("hideReviewPane")})},t.enjoyYes=function(){l.trackEvent("review-prompt","enjoy","yes"),i.features.review&&!0!==c.vendor_local_settings.stop_review?t.mode=2:a.canShareFacebook()?t.mode=4:t.hideReviewPane()},t.enjoyNo=function(){l.trackEvent("review-prompt","enjoy","no"),t.mode=3},t.reviewYes=function(){l.trackEvent("review-prompt","review","yes"),i.reportReviewResult(1),o.OSReview(),n.stopReviewPrompt(),t.mode=4},t.reviewNo=function(){l.trackEvent("review-prompt","review","no"),i.reportReviewResult(2),n.stopReviewPrompt(),t.mode=4},t.supportYes=function(){l.trackEvent("review-prompt","support","yes"),i.reportReviewResult(3),s.generate(),n.stopReviewPrompt(),t.hideReviewPane()},t.supportNo=function(){l.trackEvent("review-prompt","support","no"),i.reportReviewResult(4),n.stopReviewPrompt(),t.hideReviewPane()},t.fblikeYes=function(){l.trackEvent("review-prompt","fb","yes"),n.set_share_facebooklike(),i.facebookLike(),t.hideReviewPane()}}]),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],i=0;i<n;){var r=e[i];if(t.call(s,r,i,e))return i;i++}return-1},configurable:!0,writable:!0}),angular.module("speedifyUI.components").directive("serverList",function(){return{restrict:"E",templateUrl:"components/server-list/server-list.html",controller:"ServerListCtrl"}}).controller("ServerListCtrl",["$scope","speedifyAPI","$timeout","serverFunctions","settingsRepository","debug","platform","globals","accounting","SPEEDIFY_STATES","TOGGLE_STATE","spTranslate","permissions","LearnMore","matomo","audioPlayer",function(p,i,t,g,c,s,e,n,r,o,a,l,d,u,m,h){p.settingsRepository=c,p.currentServer="",p.recentServers=[],p.countryOptions=[],p.closestCountry={},p.autoOptions=["user","userpublic","userprivate","p2p","proxy"],p.privateCountryOptions=[],p.minDisplayedCountries=2,p.maxDisplayedCountries=260,p.displayedCountries=p.maxDisplayedCountries,p.displayedPrivateCountries=p.minDisplayedCountries,p.numPrivateServers=0,p.numPublicServers=0,p.expandedCountry=null,p.expandedCity=null,p.individualServerSelected=!1,p.init=function(){i.request_user_location(),i.request_directory()},i.register("report_directory",function(t){n.safeApply(p.$root,function(){p.directory=t,p.setCountryOptions(),p.setCurrentServer(),p.setRecentServers()})}),p.showClosestPrivate=function(){return p.havePrivateServers()||"userprivate"==c.server_settings.connect_to_best_method||"userpublic"==c.server_settings.connect_to_best_method},p.showP2P=function(){return"ios"!==e.platformClass&&"macExtension"!==e.platformClass},p.havePrivateServers=function(){return 0<p.numPrivateServers},p.setCountryOptions=function(){p.numPrivateServers=0,p.numPublicServers=0;var t=[],e=[],n=p.getAutoLocation();if(p.directory)for(var s=0;s<p.directory.length;s++){var i=p.directory[s],r=(i.distance=n?g.distanceBetween(n,i):0,g.getIsPrivate(i)),o=(r?p.numPrivateServers++:p.numPublicServers++,i.displayName=g.getLongNameFor(i),g.getCountryCodeFor(i)),a=p.findCountryIn(o,r?e:t),c=(0==a.length&&(a=[{code:o,name:g.getCountryNameFor(i),distance:999999,cities:[],private:r}],p.isCountrySelected(o)&&(a[0].selected=!0),(r?e:t).push(a[0])),g.getCityCodeFor(i)),l=a[0].cities.filter(function(t){return t.code==c});0==l.length&&(l=[{code:c,name:g.getCityNameFor(i),distance:999999,servers:[],private:r}],p.isCitySelected(o,c)&&(l[0].selected=!0),a[0].cities.push(l[0])),l[0].servers.push(i),l[0].distance>i.distance&&(l[0].distance=i.distance),a[0].distance>i.distance&&(a[0].distance=i.distance)}p.sortCountries(t),p.closestCountry=t[0],p.sortCountries(e),p.alphabetizeCountries(t);for(var d=0;d<t.length;d++){if(void 0===t[d])return;t[d].maxHeight=p.getListCitiesMaxHeight(t[d].code,t[d].cities);for(var u=0;u<t[d].cities.length;u++)t[d].cities[u].maxHeight=p.getListServersMaxHeight(t[d].cities[u].servers)}p.countryOptions=t,p.privateCountryOptions=e},p.alphabetizeCountries=function(t){if(t){for(var e=0;e<t.length;e++)t.sort(function(t,e){return t.name.localeCompare(e.name)});var n=t.findIndex(function(t){return t.code===p.closestCountry.code});t.splice(0,0,t.splice(n=n<0?0:n,1)[0])}},p.findCountryIn=function(e,t){if(t)return t.filter(function(t){return t.code==e})},p.sortCountries=function(t){if(t){for(var e=0;e<t.length;e++)t[e].cities.sort(function(t,e){return t.selected?-1:e.selected?1:t.private&&!e.private?-1:!t.private&&e.private?1:t.distance<e.distance?-1:t.distance>e.distance?1:t.name.localeCompare(e.name)});t.sort(function(t,e){return t.selected?-1:e.selected?1:t.private&&!e.private?-1:!t.private&&e.private?1:t.distance<e.distance?-1:t.distance>e.distance?1:"US"==t.val?-1:"US"==e.val?1:t.name.localeCompare(e.name)})}},p.isCountryExpanded=function(t){if(p.expandedCountry==t)return!0;if(!p.expandedCountry){var e=c.vendor_local_settings.expanded_country;if(e)return 0==e.indexOf(t+"|")}return!1},p.isCityExpanded=function(t,e){if(p.isCountryExpanded(t)){if(p.expandedCity==e)return!0;if(!p.expandedCity){var n=c.vendor_local_settings.expanded_country;if(n)return 0==n.indexOf(t+"|"+e+"|")}}return!1},p.isCountrySelected=function(t,e,n){if("country"!=c.server_settings.connect_to_best_method)return!1;var s=c.server_settings.connect_country;if(!s)return!1;var i=[t],r=(e&&i.push(e),n&&i.push(n),s.split("|")),o=i.length;if(0<o){for(var a=0;a<o;++a)if(i[a]!=r[a])return!1;return!0}},p.isCitySelected=function(t,e){return p.isCountrySelected(t,e)},p.sendToUpgrade=function(){m.trackEvent("server-list","upgrade"),p.$emit("showUpgrade")},p.userTappedPremium=function(){m.trackEvent("server-list","restricted-premium","premium"),p.$emit("showUpgrade")},p.selectCountry=function(t,e){p.isPayWallRestricted()?(m.trackEvent("server-list","restricted-county",t.code),p.$emit("showUpgrade")):(m.trackEvent("server-list","selected",t.code),p.setConnectMethod("country",t.code),p.saveServer(t,"country",e),p.expandedCity=null,t.code!=p.expandedCountry&&(p.expandedCountry=null))},p.selectCity=function(t,e,n){p.isPayWallRestricted()?(m.trackEvent("server-list","restricted-city",t.code+"-"+e.code),p.$emit("showUpgrade")):(p.individualServerSelected=!1,m.trackEvent("server-list","selected",t.code+"-"+e.code),p.setConnectMethod("country",t.code+"|"+e.code),p.saveServer({country:t,city:e},"city",n),e.code!=p.expandedCity&&(p.expandedCity=null))},p.selectServer=function(t,e){var n;p.isPayWallRestricted()||p.isPremiumRestricted(t)?(n=p.isPayWallRestricted()?"restricted-server":"restricted-premium",m.trackEvent("server-list",n,t.code),p.$emit("showUpgrade")):(p.individualServerSelected=!0,m.trackEvent("server-list","selected",t.country+"-"+t.city+"-"+t.num),p.setConnectMethod("country",t.country+"|"+t.city+"|"+t.num),p.saveServer({server:t},"server",e))},p.setConnectMethod=function(t,e,n){if(p.isPayWallRestricted())m.trackEvent("server-list","restricted",t),p.$emit("showUpgrade");else{if(p.currentState!==o.CONNECTED&&p.currentState!==o.LOGGED_IN&&p.currentState!==o.OVERLIMIT&&c.server_settings.connect_to_best_method===t){if("country"!==c.server_settings.connect_to_best_method)return;if("country"==c.server_settings.connect_to_best_method&&c.server_settings.connect_country===e)return}e||(m.trackEvent("server-list","selected",t),p.saveServer(t,null,n)),p.currentState!==o.AUTO_CONNECTING&&p.currentState!==o.CONNECTING||i.server_disconnect(),p.$emit("changing server"),e&&e.indexOf("|")<0&&e!=p.expandedCountry&&(p.expandedCountry=null),c.server_settings.connect_to_best_method=t,c.server_settings.connect_country=e,m.trackEvent("server-list","set-connect-method",c.server_settings.connect_to_best_method),s.log("Connecting - "+c.server_settings.connect_to_best_method),i.server_auto_connect("country"===t?e:t)}},p.$watch("directory",function(t,e){t&&e&&t.length==e.length||p.setCountryOptions()},!0),p.$watch("userLocation",function(){p.setCountryOptions()},!0),p.getAutoLocation=function(){return p.userLocation&&void 0!==p.userLocation.latitude&&void 0!==p.userLocation.longitude?p.userLocation:null},p.isPayWallRestricted=function(){return!!r.premiumFeatures.connectMethod&&!0===r.premiumFeatures.connectMethod.locked},p.isPremiumRestricted=function(t){return"yes"==t.premium&&!p.isPaying()},p.isPaying=function(){return r.isPaying},p.toggleMoreCountries=function(){m.trackEvent("server-list","toggle-more-countries"),p.displayedCountries==p.minDisplayedCountries?p.displayedCountries=p.maxDisplayedCountries:p.displayedCountries=p.minDisplayedCountries},p.toggleMorePrivateCountries=function(){m.trackEvent("server-list","toggle-private-servers"),p.displayedPrivateCountries==p.minDisplayedCountries?p.displayedPrivateCountries=p.maxDisplayedCountries:p.displayedPrivateCountries=p.minDisplayedCountries},p.getMoreCountriesText=function(){return p.displayedCountries==p.minDisplayedCountries?l.instant("SERVERS.VIEWALLLOCATIONS"):l.instant("SERVERS.VIEWLESS")},p.getMorePrivateCountriesText=function(){return p.displayedPrivateCountries==p.minDisplayedCountries?l.instant("SERVERS.VIEWALLLOCATIONS"):l.instant("SERVERS.LESS")},p.isDevUser=function(){return r.isDev},p.isCityCodeDisplayed=function(t){return g.isCityCodeDisplayed(t)},p.showServersIn=function(t,e){return p.shouldShowAllServers()&&(p.isCitySelected(t,e)||!p.isCityCodeDisplayed(e))},p.setCityExpanded=function(t,e){p.isCityExpanded(t,e)?p.expandedCity=null:p.expandedCity=e},p.setCountryExpanded=function(t){p.expandedCity=null,c.vendor_local_settings.expanded_country=t,i.set_vendor_local_settings(c.vendor_local_settings),p.isCountryExpanded(t)?p.expandedCountry=null:p.expandedCountry=t},p.doesCountryHaveDisplayableCities=function(t){if(0<t.cities.length)for(var e=0;e<t.cities.length;e++)if(p.isCityCodeDisplayed(t.cities[e].code))return!0;return!1},p.getServerNumInt=function(t){return parseInt(t.num)},p.help=function(){h.playSound("audio/general-tap.mp3",1,!0),u("servers",m.Screen.Servers)},p.getListCitiesMaxHeight=function(t,e){for(var n=35*e.length,s=0,i=0;i<e.length;i++)s=Math.max(s,p.getListServersMaxHeight(e[i].servers));return n+=s},p.getListServersMaxHeight=function(t){return 35*t.length},p.getConnectionStatus=function(t){return p.isCurrentServer(t)?l.instant("SETTINGSPANE.SERVERS.CONNECTED"):l.instant("SETTINGSPANE.SERVERS.CONNECT")},p.isCurrentServer=function(t,e){return p.currentServer||"user"!==t||(p.currentServer="user"),"country"===e?!!p.currentServer&&p.currentServer.code===t.code:"server"===e?!!p.currentServer&&angular.equals(p.currentServer.server,t):"city"!==e||p.individualServerSelected?!e&&angular.equals(p.currentServer,t):!(!p.currentServer||!p.currentServer.city)&&angular.equals(p.currentServer.city.code,t.code)},p.setCurrentServer=function(){c&&!0===c.hasSetVendorLocalSettings&&c.vendor_local_settings&&c.vendor_local_settings.current_server&&(p.currentServer=c.vendor_local_settings.current_server,p.currentServer&&p.currentServer.city&&p.currentServer.country.code&&p.setCountryExpanded(p.currentServer.country.code),p.currentServer)&&p.currentServer.server&&p.currentServer.server.country&&p.currentServer.server.city&&(p.setCountryExpanded(p.currentServer.server.country),p.setCityExpanded(p.currentServer.server.country,p.currentServer.server.city))},p.saveServer=function(t,e,n){var s="";"country"===e&&(s={code:t.code,distance:t.distance,name:t.name,private:t.private,selected:t.selected}),"city"===e&&(s={city:{code:t.city.code,distance:t.city.distance,maxHeight:t.city.maxHeight,name:t.city.name,private:t.city.private},country:{code:t.country.code,distance:t.country.distance,name:t.country.name,private:t.country.private,selected:t.country.selected}}),"server"===e&&(s={server:t.server}),(s=!e&&-1<p.autoOptions.indexOf(t)?t:s)&&(p.currentServer=s,c.vendor_local_settings.current_server=p.currentServer,i.set_vendor_local_settings(c.vendor_local_settings),n||p.addToRecents({server:p.currentServer,type:e}))},p.hasRecents=function(){return 1<p.recentServers.length},p.setRecentServers=function(){c.vendor_local_settings.recent_servers&&(p.recentServers=c.vendor_local_settings.recent_servers,Array.isArray(p.recentServers)||(p.recentServers=[]))},p.addToRecents=function(t){if(t){for(var e=0;e<p.recentServers.length;e++){if("server"===t.type&&"server"===p.recentServers[e].type&&angular.equals(p.recentServers[e].server.server,t.server.server))return;if(angular.equals(p.recentServers[e],t))return}5<=p.recentServers.length&&p.recentServers.shift(),p.recentServers.push(t),c.vendor_local_settings.recent_servers=p.recentServers,i.set_vendor_local_settings(c.vendor_local_settings)}},p.getNameForType=function(t){switch(t){case"user":return l.instant("SERVERS.OPTIONS.CLOSEST");case"userpublic":return l.instant("SERVERS.OPTIONS.CLOSESTPUBLIC");case"userprivate":return l.instant("SERVERS.OPTIONS.CLOSESTDEDICATED");case"p2p":return l.instant("SERVERS.OPTIONS.P2P");case"proxy":return l.instant("SERVERS.OPTIONS.PROXY")}},p.getPrivateStatus=function(t,e){return t&&("country"===e&&t.code&&0==t.code.indexOf("private")||"city"===e&&t.country&&0==t.country.code.indexOf("private"))?" - "+l.instant("SERVERS.OPTIONS.DEDICATED"):void 0},p.getButtonForStatus=function(t){return p.currentState<o.CONNECTED&&t?"components/server-list/img/checked_disconnected.png":t?"components/server-list/img/checked.png":"components/server-list/img/unchecked.png"},p.getServerFlag=function(t){return g.getFlag(t)},p.init()}]),angular.module("speedifyUI.components").directive("settingServerList",function(){return{restrict:"E",templateUrl:"components/setting-server-list/setting-server-list.html",controller:"SettingServerListCtrl"}}).controller("SettingServerListCtrl",["$scope","$timeout","platform","LearnMore","globals","matomo",function(t,e,n,s,i,r){t.setupSettingsAccordion=function(){switch($("#settings-list").accordion({heightStyle:"content",header:"> div.settings-header",collapsible:!0}),$("#settings-list").on("accordionbeforeactivate",function(t,e){t&&t.originalEvent&&"keydown"==t.originalEvent.type&&t.preventDefault()}),t.currentSettings){case"privacy":$("#settings-list").accordion("option","active",3);break;case"notifications":$("#settings-list").accordion("option","active",2);break;case"connection":$("#settings-list").accordion("option","active",1);break;default:$("#settings-list").accordion("option","active",0)}},t.help=function(){s("settings",r.Screen.Servers)}}]),angular.module("speedifyUI.components").directive("settingsAccount",function(){return{scope:{sessionStats:"="},restrict:"E",templateUrl:"components/settings-account/settings-account.html",controller:"SettingsAccountCtrl"}}).controller("SettingsAccountCtrl",["$scope","speedifyAPI","platform","spTranslate","accounting","externalLinks","SPEEDIFY_STATES","globals","branding","STAT_PERIODS","$timeout","settingsRepository","matomo","debug","audioPlayer",function(s,i,e,r,n,t,o,a,c,l,d,u,p,g,m){s.progressValue=0,s.connectionsRescued=0,s.progressClass="ok",s.statsToShow=[],s.isDeletingAccount=!1,s.restorePending=!1,s.isUnlimited=function(){return n.isPaying||n.isUnlimited},s.isUpgradeable=function(){if(n.isUpgradeable())switch(n.subscriptionSource){case"AS":if("ios"===e.platformClass||"macExtension"===e.platformClass)return!0;break;case"FS":case"FSC":case"REC":if("win"===e.platformClass||"lin"===e.platformClass||"mac"===e.platformClass)return!0;break;case"GP":if("android"===e.platformClass)return!0}return!1},s.showProgressBar=function(){return!n.isUnlimited},s.allowAccountDeletion=function(){return!(!n.email||n.isAutoAccount||!e.features.accountDelete||("AS"!==n.subscriptionSource||!e.identity.apple)&&(n.isPaying||n.isUnlimited))},s.loggedIn=function(){return a.currentState>=o.LOGGED_IN},s.getAccountHeader=function(){return s.isUnlimited()?n.isFamily?r.instant("ACCINFO.TYPE.FAMILY"):n.isTeam?r.instant("ACCINFO.TYPE.TEAMS"):r.instant("ACCINFO.TYPE.UNLIMITED"):r.instant("ACCINFO.TYPE.FREE")},s.canRestorePurchases=function(){return e.features.restorePurchase&&n.hasData()&&!n.isTeam},s.doRestorePurchases=function(){e.features.restorePurchase&&(s.restorePending=!0,p.trackEvent("settings-account","restore-purchase"),e.restorePurchase(!0),m.playSound("audio/general-tap.mp3",1,!0))},s.scale=function(){return r.instant("SETTINGSPANE.ACCOUNT.PLAN",{dataAvailable:bytesToSize(n.bytesAvail)})},s.getUsageText=function(){var t;if(s.showProgressBar())return t=n.getPercentConsumed(),s.progressValue=t,s.progressClass=t<=50?"ok":50<t&&t<=75?"warning":"alert",n.getUsageText()},s.signout=function(){i.logout(),s.sendToSignIn(),m.playSound("audio/general-tap.mp3",1,!0),p.trackEvent("settings-account","sign-out"),u.vendor_local_settings.recent_servers=[],u.vendor_local_settings.current_server="",i.set_vendor_local_settings(u.vendor_local_settings)},s.getEmail=function(){if(!0!==n.isAutoAccount)return n.email},s.getTier=function(){return n.getTierFriendlyName()},s.showDivider=function(){return!n.isTeam&&(n.payTier===n.PayTierEnum.Monthly||n.payTier===n.PayTierEnum.Yearly)},s.hasEndDate=function(){return null!=n.subscriptionEndDate&&n.subscriptionEndDate instanceof Date&&!isNaN(n.subscriptionEndDate)},s.getRenewalDate=function(){var t;return n.isTeam?"":(t=n.nextPeriodDate||n.periodEnd,s.isUnlimited()?s.hasEndDate()?r.instant("SETTINGSPANE.ACCOUNT.EXPIRESON",{date:moment(n.subscriptionEndDate).format("MM/DD/YY")}):r.instant("SETTINGSPANE.ACCOUNT.RENEWSPAID",{date:moment(t).format("MM/DD/YY")}):r.instant("SETTINGSPANE.ACCOUNT.RENEWSFREE",{date:moment(t).format("MM/DD/YY")}))},s.doResetPassword=function(){p.trackEvent("settings-account","reset-password"),s.$emit("showPasswordChange")},s.deleteAccount=function(){g.log("User tapping delete account function");var t="";"AS"===n.subscriptionSource&&e.identity.apple&&n.isPaying&&(t=r.instant("SETTINGSPANE.ACCOUNT.DELETE.MANAGESUB")),m.playSound("audio/general-tap.mp3",1,!0),ShowConfirmPopup({msg:r.instant("SETTINGSPANE.ACCOUNT.DELETE.ACCOUNTMESSAGE"),isUrgent:!0,yesCb:function(){g.log("User tapped YES to delete account function"),a.safeApply(s.$root,function(){s.isDeletingAccount=!0,p.trackEvent("settings-account","delete-account"),i.request_account_deletion(),m.playSound("audio/general-tap.mp3",1,!0)})}.bind(this),yesText:r.instant("SETTINGSPANE.ACCOUNT.DELETE.MESSAGECONFIRMOPTION"),noText:r.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.CANCEL"),maybeText:t,title:r.instant("SETTINGSPANE.ACCOUNT.DELETE.ACCOUNTMESSAGETITLE"),groupId:"account_deletion",noCb:function(){a.safeApply(s.$root,function(){g.log("User tapped NO to delete account function"),m.playSound("audio/general-tap.mp3",1,!0)})}.bind(this),maybeCb:function(){a.safeApply(s.$root,function(){console.log("User tapped Manage subscription")})}.bind(this)})},s.allowChangePassword=function(){return n.hasData()&&!n.isAutoAccount&&!1===a.deviceIsManaged},s.connectionExplained=function(){m.playSound("audio/general-tap.mp3",1,!0),ShowConfirmPopup({msg:r.instant("SETTINGSPANE.ACCOUNT.STATS.RESCUEDESCRIPTION"),title:r.instant("SETTINGSPANE.ACCOUNT.STATS.RESCUE"),isUrgent:!1,timeout:-1,yesText:r.instant("PROMPTS.OK"),noText:"",groupId:"connectionRescued"})},s.hasRedemptionCode=function(){return"ios"===e.platformClass&&1==a.supportsRedemptionCodes},s.redeemCode=function(){return m.playSound("audio/general-tap.mp3",1,!0),p.trackEvent("settings-account","redeem-code"),e.showRedemptionCodeUI()},s.getCurrentProgressId=function(){return"warning"},s.sendToUpgrade=function(){a.sentToStore=!0,p.trackEvent("settings-account","store-open"),e.features.nativePurchase?s.$emit("showUpgrade",{showBackButton:!0,backButtonTitle:"Account"}):(n.isUpgradeable()?e.windowOpenExternal(p.appendTracking(c.url_settings.upgrade_url,p.Screen.Account,"upgrade"),!0):e.windowOpenExternal(p.appendTracking(c.url_settings.store_url,p.Screen.Account,"purchase"),!0),purchaseComplete())},s.sendToSignIn=function(){p.trackEvent("settings-account","signin"),s.$emit("showRegisterLogin")},s.hasData=function(){return n.hasData()},s.hasStats=function(){return void 0!==s.sessionStats&&void 0!==s.sessionStats[l.TOTAL]&&0<s.statsToShow.length},s.shouldShowLoginAttention=function(){return n.isAutoAccount&&n.isPaying},s.showSignout=function(){return a.currentState>=o.LOGGED_IN},s.getLoginText=function(){return!0===s.shouldShowLoginAttention()?r.instant("ACCOUNTPANE.CREATE"):r.instant("SETTINGSPANE.ACCOUNT.MANAGE")},s.goToStatsPane=function(t,e){p.trackEvent("settings-account","go-to-stats"),s.$emit("statsPane",{currentDuration:s.switchVal,currentStat:r.instant(t),currentId:e})},s.doCompleteRegistration=function(){n.getLoginText(s.currentState);var t=r.instant("PURCHASE.CREATEACCOUNTREGISTER.HEADER"),e=r.instant("PURCHASE.CREATEACCOUNTREGISTER.TITLE");m.playSound("audio/general-tap.mp3",1,!0),s.$emit("showRegisterLogin",{msg:t,title:e})},s.supportsPlatformSubscriptionManagement=function(){return e.features.platformSubscriptionManagement&&e.identity.storeType==n.subscriptionSource},s.platformManageSubscription=function(){m.playSound("audio/general-tap.mp3",1,!0),e.manageSubscription(n.productName)},s.manageUser=function(){m.playSound("audio/general-tap.mp3",1,!0),e.windowOpenExternalPrivate(p.appendTracking(n.subscriptionUrl,p.Screen.Account,"manage"),!1,c.url_settings.management_url)},s.allowReview=function(){return e.features.review},s.doReview=function(){t.OSReview()},s.handle_delete_account_result_cb=function(t){s.isDeletingAccount=!1,g.log("Delete account returned "+JSON.stringify(t));var e="",n="";!0===t.deletionSuccess?(e=r.instant("SETTINGSPANE.ACCOUNT.DELETE.ACCOUNTSUCCESS"),n=r.instant("SETTINGSPANE.ACCOUNT.DELETE.ACCOUNTMESSAGESUCCESSTITLE"),p.trackEvent("settings-account","account-delete-succeeded"),i.login_auto()):(n=r.instant("SETTINGSPANE.TESTSPEED.ERRORTITLE"),e=r.instant("SETTINGSPANE.ACCOUNT.DELETE.ACCOUNTERROR"),p.trackEvent("settings-account","account-delete-failed")),a.safeApply(s.$root,function(){g.log("Delete account popup being shown to user."),ShowAlertPopup({msg:e,title:n,groupId:"accountDeletion",timeout:-1})})},s.getAccountType=function(){return n.data&&n.data.isFamily||n.isFamily?"familyAccount":n.isTeam?"teamsAccount":n.isUnlimited?"unlimitedAccount":"freeAccount"},s.restoreComplete=function(t){g.log("Restore complete: "+JSON.stringify(t)),t&&!1===t.success&&s.restorePending&&s.sendToUpgrade(),s.restorePending=!1},s.filterBragsToShow=function(){var t,e;s.statsToShow=[],void 0===s.sessionStats||null!=s.sessionStats[l.TOTAL]&&0===Object.keys(s.sessionStats[l.TOTAL]).length?d(function(){s.filterBragsToShow()},1e3):void 0!==(t=s.sessionStats[l.TOTAL])&&(0<t.num_failovers&&(e={title:r.instant("SETTINGSPANE.STATISTICS.BRAGS.RESCUED"),value:t.num_failovers,id:"num_failovers",src:"components/settings-statistics/img/icon-stability-rescued.png"},s.statsToShow.push(e)),0<t.encrypted_bytes_recv+t.encrypted_bytes_sent&&(e={title:r.instant("SETTINGSPANE.STATISTICS.BRAGS.DATAENCRYPTED"),value:bytesToSize(t.encrypted_bytes_recv+t.encrypted_bytes_sent),id:"encrypted_bytes_recv",src:"components/settings-statistics/img/icon-security-encrypted.png"},s.statsToShow.push(e)),0<t.cp_benefit.cp_success&&(e={title:r.instant("SETTINGSPANE.STATISTICS.BRAGS.CPASSIST"),value:t.cp_benefit.cp_success,id:"cp_benefit",src:"components/settings-statistics/img/icon-stability-captiveportalassist.png"},s.statsToShow.push(e)),0<t.max_download_mbps&&0<Math.round(t.max_download_mbps)&&(e={title:r.instant("SETTINGSPANE.STATISTICS.BRAGS.TOPDOWNLOADSPEED"),value:Math.round(t.max_download_mbps)+" Mbps",id:"max_download_mbps",src:"components/settings-statistics/img/icon-speed-download.png"},s.statsToShow.push(e)),0<t.max_upload_mbps)&&0<Math.round(t.max_upload_mbps)&&(e={title:r.instant("SETTINGSPANE.STATISTICS.BRAGS.TOPUPLOADSPEED"),value:Math.round(t.max_upload_mbps)+" Mbps",id:"max_upload_mbps",src:"components/settings-statistics/img/icon-speed-upload.png"},s.statsToShow.push(e))},s.filterBragsToShow(),i.register("report_account_deletion_result",s.handle_delete_account_result_cb),s.$on("$destroy",function(){i.unregister("report_account_deletion_result",s.handle_delete_account_result_cb)})}]),angular.module("speedifyUI.components").directive("settingsGraphRotation",function(){return{restrict:"E",templateUrl:"components/settings-graph-rotation/settings-graph-rotation.html",controller:"SettingsGraphRotation"}}).controller("SettingsGraphRotation",["$scope","settingsRepository","speedifyAPI","matomo",function(t,e,n,s){t.toggleGraphRotation=function(t){e&&e.vendor_local_settings&&(e.vendor_local_settings.graph_rotation=t,s.trackEvent("settings-graph-rotation","rotating--"+t),n.set_vendor_local_settings(e.vendor_local_settings))},t.getGraphRotationState=function(){return e.vendor_local_settings.graph_rotation}}]),angular.module("speedifyUI.components").directive("settingsLanguage",function(){return{restrict:"E",templateUrl:"components/settings-language/settings-language.html",controller:"SettingsLanguage"}}).controller("SettingsLanguage",["$scope","globals","settingsRepository","speedifyAPI","platform","spTranslate","$mdSidenav","$mdComponentRegistry","language","matomo",function(e,t,n,s,i,r,o,a,c,l){e.settingsRepository=n,e.getLanguageHeader=function(){return r.instant("LANGUAGE.AUTO")},e.getLanguageDescription=function(){return r.instant("LANGUAGE.DESC")},e.isLanguageSelected=function(t){return r.lastUsedLanguage==t},e.isDefaultLanguage=function(){return!n.vendor_local_settings.language||"default"===n.vendor_local_settings.language.toLowerCase()},e.isDefault=function(t){return!!n.vendor_local_settings.language&&n.vendor_local_settings.language.toLowerCase()===t.toLowerCase()},e.setLanguage=function(t){n.vendor_local_settings.language=t,l.trackEvent("settings","language",t),s.set_vendor_local_settings(n.vendor_local_settings)},e.setLanguageOptions=function(){var t=languages;e.languageOptions=t},e.getLanguageText=function(t){t=c.getLanguage(t);return t.native+" / "+t.english},e.setLanguageOptions()}]),angular.module("speedifyUI.components").directive("settingsNetworkIp",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-networks/settings-network-ip.html",controller:"SettingsNetworkIp"}}).controller("SettingsNetworkIp",["$scope","speedifyAPI","spTranslate","networkAdapterFunctions","CONNECTION_STATES",function(e,t,n,s,i){e.isConnected=function(){return null!=e.network&&null!=e.network.connectionState&&e.network.connectionState===i.CONNECTED},e.getNetworkName=function(t){return s.GetNetworkDisplayName(t)},e.getProtocol=function(){if(!e.isConnected()||!e.network.tunnelStateList||e.network.tunnelStateList.length<=0)return"Disconnected";var t="Connected: ";switch(e.network.tunnelStateList[0].protocol){case"tcp":return 1<e.network.tunnelStateList[0].numConns?t+"TCP ("+e.network.tunnelStateList[0].numConns+")":t+"TCP";case"udp":return t+"UDP";case"https":return t+"HTTPS"}},e.getIp=function(){if(e.network&&e.isConnected()&&e.network.tunnelStateList&&!(e.network.tunnelStateList.length<=0)&&"~addconnection"!==e.network.guid)return e.network.tunnelStateList[0].privateIp}}]),angular.module("speedifyUI.components").directive("settingsNetworkOverlimit",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-networks/settings-network-overlimit.html",controller:"SettingsNetworkOverlimit"}}).controller("SettingsNetworkOverlimit",["$scope","speedifyAPI","spTranslate","networkAdapterFunctions","DataScaling","limitsCommon","matomo","audioPlayer",function(s,e,i,n,r,o,a,t){s.bwLimitOptions=o.getBwOverLimitValues(),t.playSound("audio/general-tap.mp3",1,!0),s.isRateLimitMode=function(){return s.network.limits&&0!==s.network.limits.overlimitRate},s.getBwLimitText=function(){var t,e,n;return!!s.network&&(s.network.limits&&0!=s.network.limits.overlimitRate?(t=o.overlimitDefaultRate,n=[t=void 0!==s.network.limits&&void 0!==s.network.limits.overlimitRate?s.network.limits.overlimitRate:t],e=r.SingleScale(n,1),n=i.numToLocale(n[0])+e+"bps",s.handleCustomValue(t,n),n):i.instant("SETTINGSPANE.OFF"))},s.handleCustomValue=function(t,e){for(var n=0;n<s.bwLimitOptions.length;n++)if(s.bwLimitOptions[n].val==t)return;s.bwLimitOptions.push({val:t,name:e})},s.setOverlimitMode=function(t){s.network&&("overlimitDefaultRate"===t&&(t=o.overlimitDefaultRate),s.network.limits||(s.network.limits={}),s.network.limits.overlimitRate=t,a.trackEvent("settings-adapter-"+s.network.type,"network-overlimit-rate",0===t?"stop-using":t),e.set_network_overlimit_rate(s.network.guid,t))},s.getNetworkName=function(t){return n.GetNetworkDisplayName(t)}}]),angular.module("speedifyUI.components").directive("settingsNetworkPriority",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-networks/settings-network-priority.html",controller:"SettingsNetworkPriority"}}).controller("SettingsNetworkPriority",["$scope","speedifyAPI","spTranslate","NETWORK_PRIORITIES","networkAdapterFunctions","platform","settingsRepository","globals","matomo","NETWORK_ADAPTER_TYPES","audioPlayer",function(e,n,s,i,r,t,o,a,c,l,d){e.NETWORK_PRIORITIES=i,e.getNetworkName=function(t){return r.GetNetworkDisplayName(t)},e.getPriorityMatomo=function(t){switch(t){case i.ALWAYS.value:return"always";case i.SECONDARY.value:return"secondary";case i.BACKUP.value:return"backup";case i.NEVER.value:return"never";case i.AUTOMATIC.value:return"automatic";default:return"unknown"}},e.setPriority=function(t){e.network&&(d.playSound("audio/general-tap.mp3",1,!0),t==i.ALWAYS.value&&e.network.type==l.Cellular?ShowConfirmPopup({msg:s.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.MSG"),isUrgent:!1,yesCb:function(){a.safeApply(e.$root,function(){d.playSound("audio/general-tap.mp3",1,!0),o.vendor_local_settings.last_primary_cell_warning=Date.now(),n.set_vendor_local_settings(o.vendor_local_settings)}),e.network.priority=t,c.trackEvent("settings-adapter-"+e.network.type,"priority",e.getPriorityMatomo(t)),n.set_network_priority(e.network.guid,t)}.bind(this),yesText:s.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.OK"),noText:s.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.CANCEL"),title:s.instant("PRIORITYSELECTION.CELLULARALWAYSALERT.TITLE",{adapterType:s.instant("ADAPTERTYPES."+e.network.type)}),groupId:"priority"}):t==i.NEVER.value?ShowConfirmPopup({msg:s.instant("PRIORITYSELECTION.NEVERALERT.MSG",{adapterType:s.instant("ADAPTERTYPES."+e.network.type)}),yesCb:function(){d.playSound("audio/general-tap.mp3",1,!0),e.network.priority=t,c.trackEvent("settings-adapter-"+e.network.type,"priority",e.getPriorityMatomo(t)),n.set_network_priority(e.network.guid,t)}.bind(this),yesText:s.instant("PRIORITYSELECTION.NEVERALERT.OK"),noText:s.instant("PRIORITYSELECTION.NEVERALERT.CANCEL"),title:s.instant("PRIORITYSELECTION.NEVERALERT.TITLE",{adapterType:s.instant("ADAPTERTYPES."+e.network.type)}),groupId:"priority"}):(e.network.priority=t,c.trackEvent("settings-adapter-"+e.network.type,"priority",e.getPriorityMatomo(t)),n.set_network_priority(e.network.guid,t)))},e.upperCaseHeader=function(){return s.instant("ADAPTERINFO.PRIORITY").toUpperCase()},e.shouldShowAutomatic=function(){return e.network&&e.network.priority==i.AUTOMATIC||o.connection_settings&&o.connection_settings.enable_automatic_priority}}]),angular.module("speedifyUI.components").directive("settingsNetworkRatelimit",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-networks/settings-network-ratelimit.html",controller:"SettingsNetworkRatelimit"}}).controller("SettingsNetworkRatelimit",["$scope","speedifyAPI","spTranslate","networkAdapterFunctions","DataScaling","limitsCommon","TOGGLE_STATE","accounting","matomo",function(n,e,s,i,r,t,o,a,c){n.bwLimitOptions=t.getBwLimitValues(),n.getBwLimitState=function(){return n.network&&0!=n.network.rateLimit?o.ON:o.OFF},n.bwLimitSwitchPress=function(){a.premiumFeatures.rateLimit&&!0===a.premiumFeatures.rateLimit.locked?(n.$emit("showUpgrade"),c.trackEvent("settings-adapter-"+n.network.type,"upgrade")):n.network&&(0!=n.network.rateLimit?n.network.rateLimit=0:n.network.rateLimit=15e6,c.trackEvent("settings-adapter-"+n.network.type,"rate-limit",n.network.rateLimit),e.set_network_ratelimit(n.network.guid,n.network.rateLimit))},n.getBwLimitText=function(){var t,e;return!!n.network&&(0==n.network.rateLimit?s.instant("SETTINGSPANE.OFF"):(t=[n.network.rateLimit],e=r.SingleScale(t,2),s.numToLocale(t[0])+e+"bps"))},n.bwLimitChanged=function(t){n.network&&(c.trackEvent("settings-adapter-"+n.network.type,"rate-limit-bwLimit",t),e.set_network_ratelimit(n.network.guid,t))},n.getNetworkName=function(t){return i.GetNetworkDisplayName(t)}}]),angular.module("speedifyUI.components").directive("backupToggle",function(){return{scope:{title:"@",network:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{title}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"BackupToggleCtrl"}}).controller("BackupToggleCtrl",["$scope","TOGGLE_STATE","speedifyAPI","matomo","NETWORK_PRIORITIES","$rootScope","globals",function(n,t,e,s,i,r,o){n.getPriorityMatomo=function(t){switch(t){case i.ALWAYS.value:return"always";case i.SECONDARY.value:return"secondary";case i.BACKUP.value:return"backup";case i.NEVER.value:return"never";case i.AUTOMATIC.value:return"automatic";default:return"unknown"}},n.toggle=function(){var t=(n.network.priority===i.BACKUP.value?i.AUTOMATIC:i.BACKUP).value;s.trackEvent("settings-pas-set-backup"+n.network.type,"priority",n.getPriorityMatomo(t)),e.set_network_priority(n.network.guid,t)},n.state=function(){return n.network.priority===i.BACKUP.value?t.ON:t.OFF},n.guidsUpdated=function(t){var e=o.networks.filter(t=>t.guid===n.network.guid);e&&0!==e.length&&(n.network=e[0])},r.$on("report_guids_in_use",n.guidsUpdated)}]),angular.module("speedifyUI.components").directive("receiveDeviceToggle",function(){return{scope:{title:"@",identifier:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{title}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"ReceiveDeviceToggleCtrl"}}).controller("ReceiveDeviceToggleCtrl",["$scope","TOGGLE_STATE","speedifyAPI","matomo","pairAndShare","spTranslate","debug","NETWORK_SHARE_STATES","NETWORK_TUNNEL_STATUS",function(e,t,n,s,i,r,o,a,c){e.currentDevice=function(){var t;return e.identifier&&(t=i.pairedDevices.filter(t=>e.identifier.includes(t.uuid)))&&0!==t.length?t[0]:null},e.toggle=function(){var t;e.currentDevice()&&e.currentDevice().peer_as_client&&(t=!e.currentDevice().peer_as_client.allow,s.trackEvent("settings","pair-sharing-client-enabled-per-device",t),e.currentDevice().peer_as_client.allow&&e.currentDevice().peer_as_client.tunnelStatus===c.ACTIVE?ShowConfirmPopup({msg:r.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.PEERMSG"),isUrgent:!1,yesText:r.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.DISABLE"),noText:r.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.CANCEL"),yesCb:function(){o.log("Disable sharing"),n.set_networksharing_peer_allow_as_client(e.currentDevice().uuid,t)}.bind(this),noCb:function(){o.log("Disable sharing cancel")},title:r.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.TITLE"),groupId:"disableSharing"}):n.set_networksharing_peer_allow_as_client(e.currentDevice().uuid,t))},e.state=function(){return e.currentDevice()&&e.currentDevice().peer_as_client&&e.currentDevice().peer_as_client.allow?t.ON:t.OFF}}]),angular.module("speedifyUI.components").directive("shareDeviceToggle",function(){return{scope:{title:"@",identifier:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{title}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"ShareDeviceToggleCtrl"}}).controller("ShareDeviceToggleCtrl",["$scope","TOGGLE_STATE","speedifyAPI","matomo","pairAndShare",function(e,t,n,s,i){e.currentDevice=function(){var t;return e.identifier&&(t=i.pairedDevices.filter(t=>e.identifier.includes(t.uuid)))&&0!==t.length?t[0]:null},e.toggle=function(){var t;e.currentDevice()&&e.currentDevice().peer_as_host&&(t=!e.currentDevice().peer_as_host.allow,s.trackEvent("settings","pair-sharing-host-enabled-per-device",t),n.set_networksharing_peer_allow_as_host(e.currentDevice().uuid,t))},e.state=function(){return e.currentDevice()&&e.currentDevice().peer_as_host&&e.currentDevice().peer_as_host.allow?t.ON:t.OFF}}]),angular.module("speedifyUI.components").directive("settingsNetworks",function(){return{restrict:"E",templateUrl:"components/settings-networks/settings-networks.html",controller:"SettingsNetworks"}}).controller("SettingsNetworks",["$scope","networkAdapterFunctions","LearnMore","globals","settingsRepository","speedifyAPI","spTranslate","DataScaling","limitsCommon","$mdSidenav","CONNECTION_STATES","NETWORK_PRIORITIES","colorSave","SPEEDIFY_STATES","tunnelRepository","mosFunctions","prompts","matomo","debug","pairAndShare","platform","NETWORK_SHARE_STATES","NETWORK_TUNNEL_STATUS","NETWORK_ADAPTER_TYPES","audioPlayer",function(i,n,s,e,r,t,o,a,c,l,d,u,p,g,m,h,v,S,T,f,E,w,N,y,P){i.settingsRepository=r,i.currentNetworkAdapterFunctions=n,i.currentNetworkStats={},i.mos=0,i.hasMonthlyCap=!1,i.dailyCap=!1,i.isExpanded=!1,i.resetDayOptions=[{val:0,name:o.instant("LIMITS.RESETDAY.LAST30")}],i.resetDayOptions.push.apply(i.resetDayOptions,c.getResetDays()),i.pasUsageOptions=["real time","total","month","week","today"],i.pasUsageOption=0,"Add Connection"===i.header&&(i.currentNetwork&&S.trackEvent("settings-adapter-"+i.currentNetwork.type,"add-connection"),s("addconnection",S.Screen.Network)),i.init=function(){i.networkIsOnline()&&e.currentState===g.CONNECTED||(i.pasUsageOption=1)},i.getIconColor=function(){var t,e,n={"border-radius":"50%"};return(i.currentNetwork&&i.currentNetwork.guid||i.currentNetwork&&i.currentNetwork.uuid)&&(e=i.currentNetwork.guid||i.currentNetwork.uuid,!i.currentNetwork.type||i.currentNetwork.type!==y.NetworkShareClient&&i.currentNetwork.type!==y.NetworkShareHost||(e=f.getShareGuid(i.currentNetwork.guid)),(t=p.getColorForGuid(e))&&(n["background-color"]=t),i.currentNetwork.connectionState==d.CONNECTED)&&!0===i.currentNetwork.sleeping&&(n["background-color"]=p.getColorForGuid(e)),n},i.getStyle=function(t){var e=-1*t/2;return{position:"absolute",width:t+"px",height:t+"px",margin:e+"px 0 0 "+e+"px",top:"50%",left:"50%"}},i.upperCaseHeader=function(){return o.instant("ADAPTERINFO.PRIORITY").toUpperCase()},i.getNetworks=function(){return e.networks},i.getIcon=function(){if(i.currentNetwork&&i.currentNetwork.type)return i.hasISP()&&"Starlink"==i.currentNetwork.isp?"components/network-dot/img/satellite.png":n.GetNetworkIconFromType(i.currentNetwork.type)},i.isNetworkShare=function(){return!!i.currentNetwork&&(i.currentNetwork.type==y.NetworkShareClient||i.currentNetwork.type==y.NetworkShareHost)},i.getNetworkName=function(t){return n.GetNetworkDisplayName(t)},i.getNetworkImage=function(){if(!i.currentNetwork||i.currentNetwork.type)return"Other";switch(i.currentNetwork.type){case"Wi-Fi":return"Wi-Fi";case"Cellular":return"Cellular";case"Ethernet":return"Ethernet";default:return"Other"}},i.getCurrentNetworkBGColor=function(){i.currentNetwork&&i.currentNetwork.guid&&(i.color={"background-color":p.getColorForGuid(i.currentNetwork.guid)})},i.getCurrentNetworkBGColor(),i.isOverlimitDaily=function(){return!(!i.currentNetwork||!i.currentNetwork.limits)&&0!==i.currentNetwork.limits.maxDaily&&i.currentNetwork.limits.usageDaily>=i.currentNetwork.limits.maxDaily+i.currentNetwork.limits.boostDaily},i.isOverlimitMonthly=function(){return!(!i.currentNetwork||!i.currentNetwork.limits)&&0!==i.currentNetwork.limits.max&&i.currentNetwork.limits.usage>=i.currentNetwork.limits.max},i.isOverlimit=function(){return i.isOverlimitMonthly()||i.isOverlimitDaily()},i.isConnected=function(){return!!i.currentNetwork&&!i.currentNetwork.sleeping&&i.currentNetwork.priority!=u.NEVER.value&&i.currentNetwork.connectionState==d.CONNECTED},i.isConnecting=function(){return!!i.currentNetwork&&i.currentNetwork.priority!=u.NEVER.value&&i.currentNetwork.connectionState==d.CONNECTING},i.getStatus=function(){var t;return i.currentNetwork?-1<e.cpNetworks.indexOf(i.currentNetwork.guid)?o.instant("ADAPTERINFO.STATUS.CAPTIVEPORTAL"):i.isOverlimit()?(t=o.instant("ADAPTERINFO.STATUS.OVERLIMIT"),i.isOverlimitMonthly()?t=o.instant("SETTINGSPANE.NETWORKS.OVERLIMIT.MONTHLY"):i.isOverlimitDaily()&&(t=o.instant("SETTINGSPANE.NETWORKS.OVERLIMIT.DAILY")),t):!0===i.isConnected()?o.instant("ADAPTERINFO.STATUS.ONLINECONNECTED"):i.isNetworkShare()&&i.currentNetwork.isPasDevice?i.currentNetwork.peer_as_client&&i.currentNetwork.peer_as_client.tunnelStatus==N.ACTIVE||i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus==N.ACTIVE?o.instant("ADAPTERINFO.STATUS.ONLINECONNECTED"):i.currentNetwork.peer_as_client&&i.currentNetwork.peer_as_client.tunnelStatus!=N.ACTIVE&&i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus!==N.ACTIVE?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.UNAVAILABLE"):o.instant("ADAPTERINFO.STATUS.SPEEDIFYDISCONNECTED"):!0===i.currentNetwork.sleeping&&e.currentState===g.CONNECTED?o.instant("ADAPTERINFO.STATUS.ONLINESLEEPING"):!0===i.isConnecting()?o.instant("ADAPTERINFO.STATUS.ONLINECONNECTING"):i.currentNetwork.priority==u.NEVER.value?o.instant("ADAPTERINFO.STATUS.NOTUSED"):!0===i.currentNetwork.offline?o.instant("ADAPTERINFO.STATUS.DISCONNETED"):i.currentNetwork.ip?e.currentState<g.CONNECTED?o.instant("ADAPTERINFO.STATUS.SPEEDIFYDISCONNECTED"):o.instant("ADAPTERINFO.STATUS.ONLINEDISCONNECTED"):o.instant("ADAPTERINFO.STATUS.NOINTERNET"):""},i.expand=function(){i.isExpanded=!i.isExpanded,i.currentNetwork&&(P.playSound("audio/general-tap.mp3",1,!0),S.trackEvent("settings-adapter-"+i.currentNetwork.type,"expand",i.isExpanded))},i.getDailyUsageText=function(){var t,e;return i.currentNetwork?(e="",(t=n.getDailyUsageData(i.currentNetwork))&&(e=o.numToLocale(t.usage.value)+t.usage.unit+"B",void 0!==t.usage.percentageDisplay)&&(t=t.usage.percentageDisplay+"%",e=o.instant("LIMITS.USAGEWITHPERCENTAGE",{usage:e,percentage:t})),e):""},i.getDailyLimitText=function(){var t,e=n.getDailyUsageData(i.currentNetwork);return e&&void 0!==e.usage.percentage?(t=Math.round(e.usage.percentage),o.instant("SETTINGSPANE.NETWORKS.DATACAP.OVERLIMIT",{percent:t=100<t?100:t,data:o.numToLocale(e.max.value+e.max.boost)+e.max.unit+"B"})):o.instant("SETTINGSPANE.OFF")},i.getMonthlyUsageText=function(){var t,e;return i.currentNetwork?(e="",(t=n.getMonthlyUsageData(i.currentNetwork))&&(e=o.numToLocale(t.usage.value)+t.usage.unit+"B",void 0!==t.usage.percentageDisplay)&&(t=t.usage.percentageDisplay+"%",e=o.instant("LIMITS.USAGEWITHPERCENTAGE",{usage:e,percentage:t})),e):""},i.getMonthlyLimitText=function(){var t,e=n.getMonthlyUsageData(i.currentNetwork);return e&&void 0!==e.usage.percentage?(i.hasMonthlyCap=!0,t=Math.round(e.usage.percentage),o.instant("SETTINGSPANE.NETWORKS.DATACAP.OVERLIMIT",{percent:t=100<t?100:t,data:o.numToLocale(e.max.value)+e.max.unit+"B"})):(i.hasMonthlyCap=!1,o.instant("SETTINGSPANE.OFF"))},i.isLimitedMonthly=function(){return!(!i.currentNetwork||!i.currentNetwork.limits)&&0<i.currentNetwork.limits.max},i.getMonthlyResetDayText=function(){if(i.currentNetwork.limits)for(var t=0;t<i.resetDayOptions.length;t++)if(i.resetDayOptions[t].val==i.currentNetwork.limits.resetDay)return i.resetDayOptions[t].name;return o.instant("LIMITS.RESETDAY.UNKNOWN")},i.isCaptivePortal=function(){return!!i.currentNetwork&&-1<e.cpNetworks.indexOf(i.currentNetwork.guid)},i.launchCaptivePortal=function(){i.currentNetwork&&i.currentNetwork.type&&(P.playSound("audio/general-tap.mp3",1,!0),S.trackEvent("settings-adapter-"+i.currentNetwork.type,"launch-cp",i.currentNetwork.type),t.set_cplogin_enable(!0,i.currentNetwork.guid),t.check_captive_networks())},i.isSettingLocked=function(t){return r.isSettingLocked(t)},i.settingLocked=function(){r.settingLockedPopup()},i.getAdapterPriorityText=function(){return i.currentNetwork&&i.currentNetwork.type?n.getPriorityName(i.currentNetwork.priority,void 0!==i.currentNetwork.type?i.currentNetwork.type:void 0):""},i.getRateLimit=function(){var t,e;return i.currentNetwork?0!==i.currentNetwork.rateLimit?(t=[i.currentNetwork.rateLimit],e=a.SingleScale(t,1),o.numToLocale(t[0])+e+"bps"):o.instant("SETTINGSPANE.OFF"):""},i.getRateLimitMode=function(){return!(!i.currentNetwork||!i.currentNetwork.limits)&&(0===i.currentNetwork.limits.overlimitRate?o.instant("SETTINGSPANE.NETWORKS.OVERLIMIT.STOP"):o.instant("SETTINGSPANE.NETWORKS.OVERLIMIT.RATELIMIT"))},i.dataSubTranslate={adapterName:i.getNetworkName(i.currentNetwork),adapterType:o.instant("ADAPTERTYPES."+(i.currentNetwork?i.currentNetwork.type:"")),defaultOverlimitRate:i.defaultOverlimitRateString},i.getDataSubTranslate=function(){var t,e;return i.dataSubTranslate.adapterName=i.getNetworkName(i.currentNetwork),i.dataSubTranslate.adapterType=o.instant("ADAPTERTYPES."+(i.currentNetwork?i.currentNetwork.type:"")),i.currentNetwork&&i.currentNetwork.limits&&0<i.currentNetwork.limits.overlimitRate?(t=[i.currentNetwork.limits.overlimitRate],e=a.SingleScale(t,1),i.dataSubTranslate.defaultOverlimitRate=o.numToLocale(t[0])+e+"bps"):i.dataSubTranslate.defaultOverlimitRate=i.defaultOverlimitRateString,i.dataSubTranslate},i.resetUsage=function(){P.playSound("audio/general-tap.mp3",1,!0),ShowConfirmPopup({msg:o.instant("ADAPTERINFO.RESETALERT.MSG",i.getDataSubTranslate()),isUrgent:!1,yesCb:function(){i.currentNetwork&&(P.playSound("audio/general-tap.mp3",1,!0),S.trackEvent("settings-adapter-"+i.currentNetwork.type,"reset-usage")),t.reset_network_usage(i.currentNetwork.guid)}.bind(this),yesText:o.instant("ADAPTERINFO.RESETALERT.OK"),noText:o.instant("ADAPTERINFO.RESETALERT.CANCEL"),title:o.instant("ADAPTERINFO.RESETALERT.TITLE",i.getDataSubTranslate()),groupId:"adapter"})},i.getOptionHeader=function(){return i.isExpanded?o.instant("SETTINGSPANE.NETWORKS.COLLAPSE"):o.instant("SETTINGSPANE.NETWORKS.EXPAND")},i.getConnectionInformation=function(){var t,e;i.currentNetwork&&m&&(e=m.getFirstLiveDataMatching(i.currentNetwork.guid))&&(null!=e.jtMs&&0<=e.jtMs&&(i.currentNetworkStats.jitter=e.jtMs),null!=e.ltMs&&(i.currentNetworkStats.latency=e.ltMs),(void 0!==e.mos||0<e.mos)&&(i.mos=e.mos,i.currentNetworkStats.mos=h.GetMOSRating(e.mos)),null!=e.lsR)&&null!=e.lsS&&(t=Number(100*e.lsR).toFixed(2)+"%",e=Number(100*e.lsS).toFixed(2)+"%",i.currentNetworkStats.lossDown=t,i.currentNetworkStats.lossUp=e)},i.showRawMos=function(){return i.mos.toFixed(1)},i.hasInformation=function(){return i.getConnectionInformation(),!(!(i.currentNetwork&&i.isConnected()&&i.currentNetwork.tunnelStateList)||i.currentNetwork.tunnelStateList.length<=0)&&"~addconnection"!==i.currentNetwork.guid},i.shouldShowExpand=function(){return i.isConnected()&&(i.hasJitter()||i.hasLatency()||i.hasLoss())},i.hasMOS=function(){return i.currentNetworkStats.mos},i.hasLatency=function(){return i.currentNetworkStats.latency},i.hasJitter=function(){return i.currentNetworkStats.jitter},i.hasLoss=function(){return i.currentNetworkStats.lossDown&&i.currentNetworkStats.lossUp},i.getIp=function(){return i.hasInformation()?i.currentNetwork.tunnelStateList[0].privateIp:i.currentNetwork?i.currentNetwork.ip:""},i.getMos=function(){if(i.hasInformation()&&i.hasMOS())return"star"+i.currentNetworkStats.mos+" star"},i.getLatency=function(){if(i.hasInformation()&&i.hasLatency())return i.currentNetworkStats.latency+" ms"},i.getPacketLoss=function(t){if(i.hasInformation()&&i.hasLoss())return t?i.currentNetworkStats.lossDown:i.currentNetworkStats.lossUp},i.getJitter=function(){if(i.hasInformation()&&i.hasJitter())return i.currentNetworkStats.jitter+" ms"},i.help=function(){s("settings",S.Screen.Network)},i.showInformation=function(t){i.currentNetwork&&S.trackEvent("settings-adapter-"+i.currentNetwork.type,"show-information",t);var e="",n="";switch(t){case"mos":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.MOS.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.MOS.MESSAGE");break;case"latency":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.LATENCY.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.LATENCY.MESSAGE");break;case"loss":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.LOSS.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.LOSS.MESSAGE");break;case"jitter":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.JITTER.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.JITTER.MESSAGE");break;case"ssid":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.SSID.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.SSID.MESSAGE");break;case"isp":e=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.ISP.HEADER"),n=o.instant("SETTINGSPANE.NETWORKS.MESSAGES.ISP.MESSAGE");break;default:return void T.log("No defined category: "+t)}"mos"===t?v.ShowConfirmPopup({msg:n,isUrgent:!1,title:o.instant("SETTINGSPANE.NETWORKS.MESSAGES.MOS.HEADER")+": "+o.numToLocale(i.mos,1),yesText:o.instant("PROMPTS.OK"),noText:o.instant("SETTINGSPANE.LEARNMORE"),groupId:"mos",yesCb:function(){},noCb:function(){s("mos",S.Screen.Network)}}):ShowInfoPopup({msg:n,title:e,groupId:"stats",timeout:-1}),P.playSound("audio/general-tap.mp3",1,!0)},i.getCircleClass=function(){return i.currentNetwork?{"attention-dot":i.isCaptivePortal(),"network-online-connecting":1===i.currentNetwork.connectionState,"online-dot":2===i.currentNetwork.connectionState||i.currentNetwork.peer_as_client&&i.currentNetwork.peer_as_client.tunnelStatus===N.ACTIVE||i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus===N.ACTIVE,"error-dot":0===i.currentNetwork.connectionState&&e.connectionState!==g.DISCONNECTED||!0===i.isOverlimit(),"offline-dot":0===i.currentNetwork.connectionState&&e.connectionState===g.DISCONNECTED||i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus!==N.ACTIVE&&i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus!==N.ACTIVE}:{}},i.hasSsid=function(){return!!i.currentNetwork&&i.currentNetwork.ssid},i.getSsid=function(){return i.currentNetwork?i.currentNetwork.ssid:""},i.hasISP=function(){return!!i.currentNetwork&&i.currentNetwork.isp},i.getISP=function(){return i.currentNetwork?i.currentNetwork.isp:""},i.hasAdapterDescription=function(){var t;return!!i.currentNetwork&&(t=i.currentNetwork.description,i.getAdapterName()!==t)},i.getAdapterName=function(){return i.currentNetwork?n.GetNetworkDisplayName(i.currentNetwork,!1):""},i.getAdapterDescription=function(){return i.currentNetwork?i.currentNetwork.description:""},i.supportsHost=function(){return E.features.networkShareHost},i.currentDeviceIdentifier=function(){return i.currentNetwork.isPasDevice?i.currentNetwork.uuid:i.currentNetwork.guid},i.canAttemptConnect=function(){var t;return!!i.currentNetwork.isPasDevice&&!(!(t=i.currentPasDevice())||!t.peer_as_host)&&t.supports_host&&t.have_auth_token&&t.peer_as_host.peerStatus===w.UNAUTHENTICATED},i.currentPasDevice=function(){var t,e=i.currentNetwork.isPasDevice?i.currentNetwork.uuid:i.currentNetwork.guid;return e&&(t=f.pairedDevices.filter(t=>e.includes(t.uuid)))&&0!==t.length?t[0]:null},i.networkIsOnline=function(){return 2===i.currentNetwork.connectionState||i.currentNetwork.peer_as_client&&i.currentNetwork.peer_as_client.tunnelStatus===N.ACTIVE||i.currentNetwork.peer_as_host&&i.currentNetwork.peer_as_host.tunnelStatus===N.ACTIVE},i.getUsageText=function(){switch(i.pasUsageOption){case 0:return o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.REALTIME");case 1:return o.instant("SETTINGSPANE.STATISTICS.DURATION.ALLTIME");case 2:return o.instant("SETTINGSPANE.STATISTICS.DURATION.MONTH");case 3:return o.instant("SETTINGSPANE.STATISTICS.DURATION.WEEK");default:return o.instant("SETTINGSPANE.STATISTICS.DURATION.TODAY")}},i.nextOption=function(){i.pasUsageOption=(i.pasUsageOption+1)%i.pasUsageOptions.length,i.networkIsOnline()&&e.currentState===g.CONNECTED||0===i.pasUsageOption&&(i.pasUsageOption=1);i.pasUsageOption<4&&S.trackEvent("pas-adapter-setting","data-usage",["ALLTIME","MONTH","WEEK","TODAY"][i.pasUsageOption])},i.getSharedData=function(t){var e=i.pasUsageOptions[i.pasUsageOption],n=void 0,n=i.currentNetwork.isPasDevice?i.currentNetwork:f.pairedDevices.find(t=>i.currentNetwork.guid.includes(t.uuid)),s=0;if("real time"!==e)return n&&("received"===t?n.peer_as_host&&n.peer_as_host.usage&&(s=n.peer_as_host.usage[e]):n.peer_as_client&&n.peer_as_client.usage&&(s=n.peer_as_client.usage[e])),bytesToSize(s)},i.getPASConnectionInformation=function(t,e){var n,e=e?"tunnel":"share";if(i.currentNetwork&&i.currentNetwork.guid)return(n=f.pairedDevices.find(t=>t.uuid&&i.currentNetwork.guid.includes(t.uuid)))&&n.uuid&&(n=m.getAllPeerLiveDataMatching(n.uuid,e))&&0!==n.length?getCalculatedSpeed(t?null!=(e=n.reduce((t,e)=>t+e.rcvBps,0))?e:0:null!=(t=n.reduce((t,e)=>t+e.sndBps,0))?t:0):"0.00 Kbps"},i.reconnectToHost=function(){var t=i.currentPasDevice();t&&f.reconnectToNetworkShare(t.uuid)},i.unpairDevice=function(){P.playSound("audio/general-tap.mp3",1,!0),ShowConfirmPopup({msg:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIRPOPUP.DESC"),isUrgent:!1,yesCb:function(){var t=i.currentPasDevice();if(P.playSound("audio/general-tap.mp3",1,!0),!t){if(!i.currentNetwork.isPasDevice)return;t=i.currentNetwork}T.log("unpairDevice"+t.uuid),f.unpairDevice(t.uuid),S.trackEvent("settings-pas-unpair","unpair"),i.$emit("closesettings",{navId:"networks",closeSettings:!1})}.bind(this),yesText:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIRPOPUP.OK"),noText:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIRPOPUP.CANCEL"),title:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIRPOPUP.TITLE"),groupId:"unpairPas"})},i.init(),i.shareUpdated=function(t){e.safeApply(i.$root,function(){t&&t.uuid&&i.currentPasDevice()&&i.currentPasDevice().uuid==t.uuid&&t.peerStatus===w.AUTHENTICATED&&T.log("Current device it now authenticated")})},t.register("report_networksharing_peer_status_change",i.shareUpdated),i.$on("$destroy",function(){t.unregister("report_networksharing_peer_status_change",i.shareUpdated)})}]),angular.module("speedifyUI.components").directive("dashboardToggle",function(){return{scope:{display:"=",setting:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{::(display | spTranslate)}}</div><div class="interaction-toggle"><on-off-switch state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"DashboardToggleCtrl"}}).controller("DashboardToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo",function(t,e,n,s,i){t.toggle=function(){e.vendor_local_settings[t.setting]?e.vendor_local_settings[t.setting]=!e.vendor_local_settings[t.setting]:e.vendor_local_settings[t.setting]=!0,i.trackEvent("news","dashboard-visibility",e.vendor_local_settings[t.setting]),s.set_vendor_local_settings(e.vendor_local_settings)},t.state=function(){return e.vendor_local_settings&&!0===e.vendor_local_settings[t.setting]?n.ON:n.OFF}}]).directive("settingsNews",function(){return{scope:{dashboard:"=",news:"="},restrict:"E",templateUrl:"components/settings-news/settings-news.html",controller:"SettingsNews"}}).controller("SettingsNews",["$scope","platform","matomo","userEventFunctions","$timeout","audioPlayer",function(s,i,r,e,o,a){s.hasLoadedMessaging=!1,s.init=function(){s.hasLoadedMessaging||o(s.init,1e3)},s.archivedMessages=function(){return e.archivedMessages()},s.currentMessages=function(){var t=e.notificationCenterMessages(s.news);return s.dashboard?t.slice(0,3):t},s.hasNotificationCenterMessages=function(){return!(null==s.news||s.news.length<=0)&&0<e.notificationCenterMessages(s.news).length},s.showAllCaughtUpMessage=function(){return 0==s.hasNotificationCenterMessages()&&0==s.hasArchivedMessages()&&0==s.dashboard},s.hasArchivedMessages=function(){return s.hasLoadedMessaging=!0,0<s.archivedMessages().length},s.iconImage=function(t){var e="components/settings-news/images";return null==t?e+"/message.png":"alert"==t?e+"/alert.png":"calendar"==t?e+"/calendar.png":"error"==t?e+"/error.png":"external"==t?e+"/external.png":"gift"==t?e+"/gift.png":"heart"==t?e+"/heart.png":"help"==t?e+"/help.png":"info"==t?e+"/info.png":"settings"==t?e+"/settings.png":"star"==t?e+"/star.png":"video"==t?e+"/video.png":e+"/message.png"},s.getUserMessageBackgroundClasses=function(t){var e=[];return"info"===t?e.push("news-level-info"):"success"===t?e.push("news-level-success"):"warning"===t?e.push("news-level-warning"):"error"===t&&e.push("news-level-error"),e},s.getSubtitleText=function(t){return s.dashboard?"rssCalFeed"==t.content_tag?moment(new Date(t.start_date)).format("MM/DD/yy - h:mm A "):void 0:t.message.subtitle},s.archiveMessage=function(t){r.trackEvent("News","archive",t.message.content_tag),e.archiveMessage(t),a.playSound("audio/general-tap.mp3",1,!0)},s.handleUserMessage=function(t,e){var n=t.message.link_url;a.playSound("audio/general-tap.mp3",1,!0),r.trackEvent("News",t.message.content_tag),e&&o(function(){s.archiveMessage(t)},2e3),""===n||handleDeepLink(n,!1)||i.windowOpenExternal(r.appendTracking(n,r.Screen.News,t.message.content_tag))},s.init()}]),angular.module("speedifyUI.components").directive("notificationToggle",function(){return{scope:{display:"=",setting:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{::(display | spTranslate)}}</div><div class="interaction-toggle"><on-off-switch disable="shouldShowPushNotificationDenied()" state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"NotificationToggleCtrl"}}).controller("NotificationToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo","permissions","disconnectNotificationFunctions",function(t,e,n,s,i,r,o){t.toggle=function(){e.vendor_local_settings[t.setting]?e.vendor_local_settings[t.setting]=!e.vendor_local_settings[t.setting]:e.vendor_local_settings[t.setting]=!0,"disconnect_alerts"==t.setting&&o.cancelDisconnectNotifications(),i.trackEvent("notifications",t.setting,e.vendor_local_settings[t.setting]),s.set_vendor_local_settings(e.vendor_local_settings)},t.shouldShowPushNotificationDenied=function(){return r.notificationDisabled()},t.state=function(){return e.vendor_local_settings&&!0===e.vendor_local_settings[t.setting]?n.ON:n.OFF}}]).directive("settingsNotifications",function(){return{scope:{},restrict:"E",templateUrl:"components/settings-notifications/settings-notifications.html",controller:"SettingsNotificationsCtrl"}}).controller("SettingsNotificationsCtrl",["$scope","platform","permissions","LearnMore","matomo",function(t,e,n,s,i){t.permissionsDenied=!1,t.hasHotspotSecurityAlerts=function(){return e.notifications.hotspotSecurity},t.hasStreamingBypassAlerts=function(){return e.notifications.streamingBypass},t.hasStreamergencyAlerts=function(){return e.notifications.streamergency},t.hasDeadHotspotAlerts=function(){return e.notifications.hotspotSecurity},t.hasMarketingAlerts=function(){return e.notifications.marketing},t.hasAccountAlerts=function(){return e.notifications.account},t.hasDisconnectAlerts=function(){return e.notifications.disconnect},t.shouldShowPushNotificationDenied=function(){return n.notificationDisabled()},t.promptNotificationPermission=function(){i.trackEvent("settings-notifications","run-permission"),n.runPermission(n.notificationPermission)},t.hasConnectAlerts=function(){return e.notifications.connect},t.hasSpeedifyLiveAlerts=function(){return e.notifications.speedifyLive},t.help=function(){s("notificationsSettings",i.Screen.Settings)}}]),angular.module("speedifyUI.components").directive("settingsPane",function(){return{restrict:"E",templateUrl:"components/settings-pane/settings-pane.html",controller:"SettingsPane"}}).controller("SettingsPane",["$scope","$timeout","networkAdapterFunctions","NETWORK_PRIORITIES","globals","LearnMore","settingsRepository","TOGGLE_STATE","speedifyAPI","platform","spTranslate","loggen","externalLinks","accounting","DataScaling","SPEEDIFY_STATES","serverFunctions","$mdComponentRegistry","language","urlArgs","matomo","userEventFunctions","NETWORK_ADAPTER_TYPES","pairAndShare","audioPlayer",function(n,t,e,s,i,r,o,a,c,l,d,u,p,g,m,h,v,S,T,f,E,w,N,y,P){n.settingsRepository=o,n.networkAdaperFunctions=e,n.NETWORK_PRIORITIES=s,n.versionStr=null,n.UpdateValues=function(){f.call(function(){i.safeApply(n.$root,function(){console.log("Getting version "),n.versionStr=f.version.maj+"."+f.version.min+"."+f.version.bug+"."+f.version.svn})}.bind(this))},n.isConnected=function(){return n.currentState===h.CONNECTED},n.isDashboardSelected=function(){if(1===S.getInstances().length)return"selected"},n.currentMessageCount=function(){if(!(null==n.currentNewsEvents||n.currentNewsEvents.length<=0))return w.notificationCenterMessages(n.currentNewsEvents).length},n.isSelected=function(t,e){if(n.navId=t,i.shouldSplit&&S.get(t)&&S.get(t).isOpen())return"networks"===t?n.isSelectedNetwork(e):"selected"},n.getLanguage=function(){return o.vendor_local_settings.language&&"default"!==o.vendor_local_settings.language.toLowerCase()?T.getLanguage(o.vendor_local_settings.language).native:d.instant("LANGUAGE.AUTO")},n.getWindowLocation=function(){return o.vendor_local_settings&&o.vendor_local_settings.windowLocation&&o.vendor_local_settings.windowLocation.isFloating?d.instant("SETTINGSPANE.DETACHWINDOW.FLOATING"):d.instant("SETTINGSPANE.DETACHWINDOW.DOCKED")},n.getGraphRotationSetting=function(){return o.vendor_local_settings.graph_rotation?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.isSelectedNetwork=function(t){if(n.currentNetwork||n.setCurrentNetwork(t),t.guid===n.currentNetwork.guid&&"networks"===n.navId)return"selected"},n.setCurrentNetwork=function(t){n.currentNetwork=t},n.getDnsLeakState=function(){return o.privacy_settings&&!0===o.privacy_settings.dnsleak?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.getIpLeakState=function(){return o.privacy_settings&&!0===o.privacy_settings.ipleak?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.getAccount=function(){return n.isUnlimited()?g.isFamily?d.instant("ACCINFO.TYPE.FAMILY"):g.isTeam?d.instant("ACCINFO.TYPE.TEAMS"):d.instant("ACCINFO.TYPE.UNLIMITED"):d.instant("ACCINFO.TYPE.FREE")},n.isUnlimited=function(){return n.accounting.isPaying||n.accounting.isUnlimited},n.getUsageText=function(){return g.getUsageText()},n.getServerButtonText=function(){return n.currentState>=h.CONNECTING&&n.connectedServer?"proxy"===n.connectedServer.longName?d.instant("SERVERS.OPTIONS.PROXY"):o.vendor_local_settings.show_connected_server?v.getLongNameFor(n.connectedServer):v.getShortNameFor(n.connectedServer):""},n.getServerMethod=function(){switch(o.server_settings.connect_to_best_method){case"user":return d.instant("SERVERS.OPTIONS.CLOSEST");case"userpublic":return d.instant("SERVERS.OPTIONS.CLOSESTPUBLIC");case"userprivate":return d.instant("SERVERS.OPTIONS.CLOSESTDEDICATED");case"p2p":return d.instant("SERVERS.OPTIONS.P2P");default:return n.getServerButtonText()}},n.sendToPas=function(){var t=l.features.networkShareHost?"true":"false";n.handleToggle({navId:"pairAndShare",header:d.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.TITLE"),controllerName:"PairAndShare",backButtonTitle:d.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true",showQrCode:t})},n.settingLocked=function(){o.settingLockedPopup()},n.isPasLocked=function(){return y.isLocked()},n.isSettingLocked=function(t){return o.isSettingLocked(t)},n.hasEndDate=function(){return null!=g.subscriptionEndDate&&g.subscriptionEndDate instanceof Date&&!isNaN(g.subscriptionEndDate)},n.getRenewalDate=function(){var t;return g.isTeam?"":(t=g.nextPeriodDate||g.periodEnd,n.isUnlimited()?n.hasEndDate()?d.instant("SETTINGSPANE.ACCOUNT.EXPIRESON",{date:moment(g.subscriptionEndDate).format("MM/DD/YY")}):d.instant("SETTINGSPANE.ACCOUNT.RENEWSPAID",{date:moment(t).format("MM/DD/YY")}):d.instant("SETTINGSPANE.ACCOUNT.RENEWSFREE",{date:moment(t).format("MM/DD/YY")}))},n.getNetworkName=function(t){return e.GetNetworkDisplayName(t)},n.getNetworkInformation=function(t,e){if(t&&t.type){if("Add Connection"===e)return d.instant("ADAPTEREXTRAS.addconnection.name");if(t.type==N.Cellular)if(1<n.getNetworks().filter(function(t){return t.type===N.Cellular}).length)return t.name+" ("+e+")";return d.instant("ADAPTERTYPES."+t.type)+" ("+e+")"}},n.isOverlimitDaily=function(t){return!(!t||!t.limits)&&0!==t.limits.maxDaily&&t.limits.usageDaily>=t.limits.maxDaily+t.limits.boostDaily},n.isOverlimitMonthly=function(t){return!(!t||!t.limits)&&0!==t.limits.max&&t.limits.usage>=t.limits.max},n.isOverlimit=function(t){return n.isOverlimitMonthly(t)||n.isOverlimitDaily(t)},n.getNetworks=function(){return i.networks?i.networks.filter(function(t){return t.type!=N.NetworkShareHost}):[]},n.handleNetworkToggle=function(t){var e=t?t.type:"";n.handleToggle({navId:"networks",header:e,controllerName:"Networks",backButtonTitle:d.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true",networkName:n.getNetworkName(t),guid:t.guid})},n.addConnection=function(){E.trackEvent("menu-action","add-connection"),r("addconnection",E.Screen.Settings)},n.isDisabled=function(t){return!!t&&t.priority===s.NEVER.value},n.getBondingState=function(){switch(o.connection_settings.algorithm){case"SP":case"SPEED":return d.instant("OMNICHART.TITLES.SPEED");case"RD":return d.instant("SETTINGSPANE.SESSION.BONDINGMODE.REDUNDANT");case"STR":return d.instant("SETTINGSPANE.SESSION.BONDINGMODE.SPEEDPLUS")}},n.showStartupConnect=function(){return l.features.startupConnect},n.getStartupState=function(){return o.connection_settings.startup_connect?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.getHeaderCompressionState=function(){return!0===o.connection_settings.header_compress?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.getNetworkSharingClientEnabledState=function(){return o.network_sharing_settings.client_enabled?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.pasAllowed=function(){return l.features.networkShareEnabled},n.getNetworkSharingHostEnabledState=function(){return o.network_sharing_settings.host_enabled?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.onHeaderCompression=function(){return 1==o.connection_settings.header_compress?o.connection_settings.header_compress=!1:o.connection_settings.header_compress=!0,c.set_header_compression(o.connection_settings.header_compress)},n.getTransportMode=function(){switch(o.connection_settings.transport_mode){case"auto":return d.instant("ADVANCED.OPTIONS.TRANSPORTMODES.auto");case"udp":return d.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.UDP");case"tcp-multi":return d.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.TCPMULTI");case"tcp":return d.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.TCP");case"https":return d.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.HTTPS")}},n.getExitTitle=function(){return"android"==l.platformClass?d.instant("SERVERS.OPTIONS.EXITANDROID"):d.instant("SERVERS.OPTIONS.EXIT")},n.getEncryptionState=function(){return o.connection_settings.encrypted?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.getStreamingBypassServices=function(){var t=0;if(!o.localproxy_settings.domain_watchlist)return 0;for(var e=0;e<o.localproxy_settings.domain_watchlist.length;e++){var n=o.localproxy_settings.domain_watchlist[e];!0===n.enabled&&(n.proxiedDomains&&0<n.proxiedDomains.length||n.proxiedApplications&&0<n.proxiedApplications.length&&"android"==l.platformClass)&&t++}return 0!==t&&o.localproxy_settings.watchlist_enabled?t:d.instant("SETTINGSPANE.OFF")},n.getApplicationBypassServices=function(){return o.localproxy_settings.applications?0===o.localproxy_settings.applications.length?d.instant("SETTINGSPANE.OFF"):o.localproxy_settings.applications.length:0},n.getDNSServerName=function(){var t=[{val:"quad9",addresses:["9.9.9.9","2620:fe::fe"],name:"Quad9"},{val:"cloudflare",addresses:["1.1.1.1","2606:4700:4700::1111"],name:"CloudFlare"},{val:"opendns",addresses:["208.67.222.222","208.67.220.220","2620:119:35::35"],name:"OpenDNS"},{val:"adguard",addresses:["176.103.130.130","176.103.130.131","2a00:5a60::ad1:0ff"],name:"AdGuard"}];if(o&&o.privacy_settings&&o.privacy_settings.dns_addresses){if(o.privacy_settings.dns_addresses.length<=0)return d.instant("ADVANCED.OPTIONS.TRANSPORTMODES.auto");for(var e=d.instant("SETTINGSPANE.CUSTOM"),n=0;n<t.length;n++)!function(t,e){if(Array.isArray(t)||(t=t?[t]:[]),Array.isArray(e)||(e=e?[e]:[]),t.length===e.length){for(var n=t.length;n--;)if(t[n]!==e[n])return;return 1}}(o.privacy_settings.dns_addresses,t[n].addresses)||(e=t[n].name);return e}},n.showPerformanceTest=function(){return!(n.currentState>=h.CONNECTING&&n.connectedServer&&"proxy"==n.connectedServer.longName)},n.showDNSSettings=function(){return l.features.dns},n.hasKillSwitch=function(){return l.features.killSwitch},n.showStreamingBypass=function(){return l.features.streamingBypass&&("android"!=l.identity.platform||!o.localproxy_settings||"denylist"!=o.localproxy_settings.matchMode)},n.showApplicationBypass=function(){return l.features.applicationBypass},n.doShowApplicationBypass=function(){E.trackEvent("Settings-Main","query-bypass-applications"),l.queryAllApplications()},n.supportsClearSettings=function(){return l.features.clearSettings},n.clearSettings=function(){E.trackEvent("menu-action","clear-settings"),l.clearSettings()},n.showJumbo=function(){return l.features.jumboFrames},n.getJumboPacketState=function(){return o.connection_settings.jumbo_packets?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.isMobile=function(){return l.identity.mobile},n.showDisconnectOnExit=function(){return l.features.disconnectOnExit},n.hasDNSLeak=function(){return l.features.dnsLeak},n.hasIPLeak=function(){return l.features.ipLeak},n.supportsManualTermination=function(){return l.features.manualTerminate},n.quitApp=function(){P.playSound("audio/general-tap.mp3",1,!0),E.trackEvent("menu-action","quit-app"),l.terminate()},n.hasHelperToolRemoval=function(){return l.features.helperTool},n.removeHelperTool=function(){return E.trackEvent("menu-action","remove-helper"),l.removeHelperTool()},n.getSpeedifyState=function(){switch(n.currentState){case h.OVERLIMIT:return d.instant("UBERBOX.STATE.OVERLIMIT");case h.AUTO_CONNECTING:return d.instant("UBERBOX.STATE.AUTO_CONNECTING");case h.CONNECTING:return d.instant("UBERBOX.STATE.CONNECTING");case h.CONNECTED:return d.instant("UBERBOX.STATE.CONNECTED");case h.DISCONNECTING:return d.instant("UBERBOX.STATE.DISCONNECTING");case h.LOGGED_IN:return d.instant("UBERBOX.STATE.LOGGED_IN");case h.LOGGING_IN:return d.instant("UBERBOX.STATE.LOGGING_IN");case h.LOGGED_OUT:return d.instant("UBERBOX.STATE.LOGGED_OUT")}},n.isCaptivePortal=function(t){return!!t&&-1<i.cpNetworks.indexOf(t.guid)},n.handleDisconnectOnExit=function(){"android"==l.platformClass?n.handleToggle({navId:"disconnectexit",header:d.instant("SERVERS.OPTIONS.EXITANDROID"),controllerName:"DisconnectExit",backButtonTitle:d.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"}):n.handleToggle({navId:"disconnectexit",header:d.instant("SERVERS.OPTIONS.EXIT"),controllerName:"DisconnectExit",backButtonTitle:d.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:"true"})},n.getDisconnectOnExit=function(){return"android"===l.platformClass?o.connection_settings.disconnect_on_exit?d.instant("SERVERS.OPTIONS.EXITONANDROID"):d.instant("SERVERS.OPTIONS.EXITOFFANDROID"):o.connection_settings.disconnect_on_exit?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.OFF")},n.allowPortForwarding=function(){return g.isTeam},n.getKillSwitchState=function(){return o.privacy_settings.killswitch?d.instant("SETTINGSPANE.ON"):d.instant("SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.OFF")},n.hasNotifications=function(){return l.notifications.hotspotSecurity||l.notifications.hotspotSecurity||l.notifications.connect||l.notifications.streamingBypass||!0},n.help=function(){r("menu-action","Help")},n.detatchWindow=function(){E.trackEvent("menu-action","detaching-window"),l.detatchWindow(),P.playSound("audio/general-tap.mp3",1,!0)},n.canDetatchWindow=function(){return"macExtension"===l.platformClass},n.launchSupport=function(){P.playSound("audio/general-tap.mp3",1,!0),p.Support(E.Screen.Settings)},n.launchLoggen=function(){E.trackEvent("menu-action","generating-logs"),u.generate(),P.playSound("audio/general-tap.mp3",1,!0)},n.launchGettingStarted=function(){P.playSound("audio/general-tap.mp3",1,!0),r("started",E.Screen.Settings)},n.showDevTools=function(){return g.isDev||o.dev_settings&&!0===o.dev_settings.use_dev_server},n.getVersionText=function(){return d.instant("SETTINGSPANE.ACCOUNT.VERSION")},n.showDarkMode=function(){return l.supportSystemColorPreference()},n.getAccountType=function(){return g.data&&g.data.isFamily||g.isFamily?"familyAccount":g.isTeam?"teamsAccount":g.isUnlimited?"unlimitedAccount":"freeAccount"},n.soundStatus=function(){return!1===o.vendor_local_settings.sounds?d.instant("SETTINGSPANE.OFF"):d.instant("SETTINGSPANE.ON")},n.getCurrentTheme=function(){return o.vendor_local_settings&&o.hasSetVendorLocalSettings&&void 0!==o.vendor_local_settings.theme?o.vendor_local_settings.theme===o.theme.light?d.instant("SETTINGSPANE.THEME.LIGHT"):o.vendor_local_settings.theme===o.theme.dark?d.instant("SETTINGSPANE.THEME.DARK"):o.vendor_local_settings.theme===o.theme.system?d.instant("SETTINGSPANE.THEME.DEFAULT"):void 0:d.instant("SETTINGSPANE.THEME.DEFAULT")},n.UpdateValues()}]),angular.module("speedifyUI.components").directive("settingsPrivacy",function(){return{restrict:"E",templateUrl:"components/settings-privacy/settings-privacy.html",controller:"SettingsPrivacy",showEncryption:"=",showKillSwitch:"=",showDNSService:"=",showNotifications:"=",showDNSLeak:"=",showIPLeak:"=",showStreamingBypass:"="}}).controller("SettingsPrivacy",["$scope","$rootScope","$timeout","LearnMore","globals","settingsRepository","TOGGLE_STATE","speedifyAPI","platform","spTranslate","$mdSidenav","accounting","matomo","debug","bypass","audioPlayer",function(s,t,n,e,i,r,o,a,c,l,d,u,p,g,m,h){function v(t,e){if(Array.isArray(t)||(t=t?[t]:[]),Array.isArray(e)||(e=e?[e]:[]),t.length===e.length){for(var n=t.length;n--;)if(t[n]!==e[n])return;return 1}}s.domainWatchList=[],s.settingsRepository=r,s.status=!0,s.suggestedBypassList=[],s.deselectedServices=[],s.lastRecordedSearch,t.$on("AddCustomAddress",function(t){n(function(){s.dnsServerAddressesChange("done"),s.$emit("customDnsClosed")},0)}),s.getwatchListDomainTitle=function(){null!=r&&null!=r.localproxy_settings&&null!=r.localproxy_settings.domain_watchlist&&(s.domainWatchList=r.localproxy_settings.domain_watchlist.filter(function(t){return!!(t.proxiedDomains&&0<t.proxiedDomains.length||t.proxiedApplications&&0<t.proxiedApplications.length&&"android"==c.platformClass)}),s.domainWatchList=s.domainWatchList.sort(function(t,e){return t.title<e.title?-1:t.title>e.title?1:0}))},s.hasSuggestedBypassOptions=function(){return!!r.vendor_local_settings.suggested_bypass&&0<s.suggestedBypassList.length},s.updateSuggestedBypassList=function(){s.suggestedBypassList=m.getSuggestedBypassList()},s.allowSuggestedBypass=function(t,e){null!=s.streamingTitle&&(s.selectedIndex=e,h.playSound("audio/general-tap.mp3",1,!0),n(function(){p.trackEvent("settings-bypass","allow",t),m.allow(t),s.selectedIndex=null},1e3))},a.register("report_vendor_local_settings",s.updateSuggestedBypassList),s.$on("$destroy",function(){a.unregister("report_vendor_local_settings",s.updateSuggestedBypassList)}),s.getEncryptionState=function(){return r.connection_settings.encrypted},s.isPremiumSetting=function(t){return!!u.premiumFeatures[t]&&!0===u.premiumFeatures[t].locked},s.toggleEncryption=function(t){s.isPremiumSetting("encrypted")?s.sendToUpgrade():t!==r.connection_settings.encrypted&&(r.connection_settings.encrypted=t,h.playSound("audio/general-tap.mp3",1,!0),p.trackEvent("settings","encryption",t),a.set_encryption_enabled(r.connection_settings.encrypted))},s.dnsServerAddressOptions=[{val:"default",addresses:[],name:l.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.AUTO")},{val:"quad9",addresses:["9.9.9.9","2620:fe::fe"],name:"Quad9"},{val:"cloudflare",addresses:["1.1.1.1","2606:4700:4700::1111"],name:"CloudFlare"},{val:"opendns",addresses:["208.67.222.222","208.67.220.220","2620:119:35::35"],name:"OpenDNS"},{val:"adguard",addresses:["176.103.130.130","176.103.130.131","2a00:5a60::ad1:0ff"],name:"AdGuard"},{val:"custom",addresses:s.dnsAddresses,name:l.instant("SETTINGSPANE.CUSTOM")}],s.sendToUpgrade=function(){p.trackEvent("menu-action","upgrade"),s.$emit("showUpgrade")},s.getDnsServerObjByAddresses=function(t){if(s.dnsServerAddressOptions)for(var e=0;e<s.dnsServerAddressOptions.length;e++)if("custom"!=s.dnsServerAddressOptions[e].val&&v(t,s.dnsServerAddressOptions[e].addresses))return s.dnsServerAddressOptions[e];return{val:"custom",addresses:t,name:"Custom"}},s.getDnsServerObjByValue=function(t){if(s.dnsServerAddressOptions)for(var e=0;e<s.dnsServerAddressOptions.length;e++)if("custom"!=s.dnsServerAddressOptions[e].val&&t==s.dnsServerAddressOptions[e].val)return s.dnsServerAddressOptions[e];return{val:"custom",addresses:s.customDnsIPs?s.customDnsIPs.split(" "):[],name:"Custom"}},s.getDnsServerVal=function(t){return(t?s.getDnsServerObjByValue(t):s.getDnsServerObjByAddresses(r.privacy_settings.dns_addresses)).val},s.getDnsServerAddresses=function(t){return(t?s.getDnsServerObjByValue(t):s.getDnsServerObjByAddresses(r.privacy_settings.dns_addresses)).addresses},s.isEncryptionLocked=function(){return!1},s.dnsServerAddressesChange=function(t){var e,n;!0===s.isPremiumSetting("dnsAddresses")?s.sendToUpgrade():"custom"===(s.dnsServerChosen=t)?s.handleToggle({navId:"addDNS",child:"addDNS"}):(0<s.dnsAddresses.length||"done"===t?(e=s.dnsAddresses,null!=(n=s.dnsAddresses.filter(function(t){return void 0===t}))&&n.length===s.dnsAddresses.length?s.dnsServerChosen="default":"done"===t?s.dnsServerChosen="custom":e=s.getDnsServerAddresses(t)):e=s.getDnsServerAddresses(t),r.vendor_local_settings.dnsServiceTitle=s.dnsServerChosen,h.playSound("audio/general-tap.mp3",1,!0),a.set_vendor_local_settings(r.vendor_local_settings),r.privacy_settings.dns_addresses=e,p.trackEvent("settings","dns-server",s.dnsServerChosen),a.set_dns_servers(r.privacy_settings.dns_addresses))},s.getDNSServerName=function(){var t=[{val:"quad9",addresses:["9.9.9.9","2620:fe::fe"],name:"Quad9"},{val:"cloudflare",addresses:["1.1.1.1","2606:4700:4700::1111"],name:"CloudFlare"},{val:"opendns",addresses:["208.67.222.222","208.67.220.220","2620:119:35::35"],name:"OpenDNS"},{val:"adguard",addresses:["176.103.130.130","176.103.130.131","2a00:5a60::ad1:0ff"],name:"AdGuard"}];if(r&&r.privacy_settings&&r.privacy_settings.dns_addresses){if(r.privacy_settings.dns_addresses.length<=0)return l.instant("SETTINGSPANE.SESSION.TRANSPORTMODE.AUTO");for(var e=l.instant("SETTINGSPANE.CUSTOM"),n=0;n<t.length;n++)v(r.privacy_settings.dns_addresses,t[n].addresses)&&(e=t[n].name);return e}},s.dnsServerChosen=s.getDnsServerVal(),s.getKillSwitchState=function(){return r.privacy_settings.killswitch},s.toggleKillSwitch=function(t){s.isPremiumSetting("killswitch")?s.sendToUpgrade():t!==r.privacy_settings.killswitch&&(h.playSound("audio/general-tap.mp3",1,!0),r.privacy_settings.killswitch=t,p.trackEvent("settings","killswitch",t),a.set_privacy_killswitch(r.privacy_settings.killswitch))},s.getDnsLeakState=function(){return!(!r.privacy_settings||!r.privacy_settings.dnsleak)&&r.privacy_settings.dnsleak},s.toggleDnsLeak=function(t){t!==r.privacy_settings.dnsleak&&(r.privacy_settings.dnsleak=t,p.trackEvent("settings","dns-leak",t),a.set_privacy_dnsleak(r.privacy_settings.dnsleak))},s.getIpLeakState=function(){return!(!r.privacy_settings||!r.privacy_settings.ipleak)&&r.privacy_settings.ipleak},s.toggleIpLeak=function(t){t!==r.privacy_settings.ipleak&&(r.privacy_settings.ipleak=t,p.trackEvent("settings","ip-leak",t),a.set_privacy_ipleak(r.privacy_settings.ipleak))},s.setLocalProxyDomainWatchListEnabled=function(t,e){var n;h.playSound("audio/general-tap.mp3",1,!0),null!=t&&null!=e&&(e||s.deselectedServices.includes(t)?e&&s.deselectedServices.includes(t)&&(n=s.deselectedServices.indexOf(t),s.deselectedServices.splice(n,1)):s.deselectedServices.push(t),p.trackEvent("settings-bypass",t,e),a.set_local_proxy_domain_watch_list(t,e),e||(r.vendor_local_settings.streamingbypass_asked||(r.vendor_local_settings.streamingbypass_asked={}),r.vendor_local_settings.streamingbypass_asked[t]=!1,a.set_vendor_local_settings(r.vendor_local_settings)))},s.isDeselectedTitle=function(t){return s.deselectedServices.includes(t)},s.getDomainEnabledState=function(t){return null!=t&&!0===t?o.ON:o.OFF},s.getMainStreamingToggleState=function(){return!1===r.localproxy_settings.watchlist_enabled?o.OFF:o.ON},s.toggleStreamingBypass=function(){a.set_localproxy_enabled(!r.localproxy_settings.watchlist_enabled)},s.help=function(){e("settings",p.Screen.Settings)},s.selectedTitle=function(){var t=l.instant("SETTINGSPANE.STREAMINGBYPASS.SELECTED").toUpperCase();return s.domainWatchList&&0<s.domainWatchList.length&&(t+=" ("+r.localproxy_settings.domain_watchlist.filter(function(t){return!!t.enabled&&!!(t.proxiedDomains&&0<t.proxiedDomains.length||t.proxiedApplications&&0<t.proxiedApplications.length&&"android"==c.platformClass)}).length+")"),t},s.bypassEnabled=function(){return m.enabled()},s.getBypassEnabledState=function(t){return null!=t&&!0===t?o.ON:o.OFF},s.getBypassSuggestionState=function(){return!0===m.suggestionEnabled()?o.ON:o.OFF},s.toggleBypass=function(t){p.trackEvent("settings","bypass",t),m.toggle(),s.toggleBypassNotifications()},s.toggleSuggestedBypass=function(){p.trackEvent("settings","suggested-bypass",!r.vendor_local_settings.suggested_bypass),m.toggleSuggested(),s.toggleBypassNotifications()},s.toggleBypassNotifications=function(){r.vendor_local_settings?(r.vendor_local_settings.streamingbypass_alerts=r.vendor_local_settings.suggested_bypass,a.set_vendor_local_settings(r.vendor_local_settings)):n(function(){s.turnOffBypassNotifications()},300)},s.restoreDefaults=function(){ShowConfirmPopup({msg:l.instant("SETTINGSPANE.STREAMINGBYPASS.RESTOREPOPUP.DESC"),isUrgent:!1,yesCb:function(){g.log("User tapped YES to restore default bypass options"),i.safeApply(s.$root,function(){s.isDeletingAccount=!0,p.trackEvent("settings-privacy","restore-bypass-options"),a.resetLocalProxyDomainWatchlist()})}.bind(this),noText:l.instant("SETTINGSPANE.STREAMINGBYPASS.RESTOREPOPUP.CANCEL"),yesText:l.instant("SETTINGSPANE.STREAMINGBYPASS.RESTOREPOPUP.RESTORE"),title:l.instant("SETTINGSPANE.STREAMINGBYPASS.RESTOREPOPUP.TITLE"),groupId:"bypass_defaults",noCb:function(){i.safeApply(s.$root,function(){g.log("User tapped NO to delete account function")})}.bind(this)})},s.domainWatchListFilter=function(t){return!!(t.proxiedDomains&&0<t.proxiedDomains.length)||!!(t.proxiedApplications&&0<t.proxiedApplications.length&&"android"==c.platformClass)},s.searchComplete=function(e,t){e&&e.searchText&&(e.searchText.length<3||s.lastRecordedSearch===e.searchText||0<r.localproxy_settings.domain_watchlist.filter(function(t){return-1!==t.title.toLowerCase().indexOf(e.searchText.toLowerCase())}).length||(p.trackEvent("settings","suggested-bypass-search",e.searchText),t&&(e.searchText="")))}}]).controller("AddDNS",["$scope","$rootScope",function(t,e){t.done=function(){e.$emit("AddCustomAddress")}}]),angular.module("speedifyUI.components").directive("receivingToggle",function(){return{scope:{title:"@"},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{title}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"ReceiveToggleCtrl"}}).controller("ReceiveToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo",function(t,e,n,s,i){t.toggle=function(){var t=!e.network_sharing_settings.client_enabled;i.trackEvent("settings-pas","pair-sharing-enabled",t),s.set_networksharing_client_enabled(t)},t.state=function(){if(e&&e.network_sharing_settings)return e.network_sharing_settings.client_enabled?n.ON:n.OFF}}]).directive("settingsPairReceiveControl",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-session/settings-pair-receive-control.html",controller:"SettingsPairReceiveControl"}}).controller("SettingsPairReceiveControl",["$scope","settingsRepository",function(t,e){t.description=function(){return{stylePre:"<br>",stylePost:"</br>"}},t.getNetworkSharingClientEnabled=function(){return!!e.network_sharing_settings&&e.network_sharing_settings.client_enabled},t.getHostDisplayName=function(){return e.network_sharing_settings&&e.network_sharing_settings.host_display_name?"Host Name: "+e.network_sharing_settings.host_display_name:""},t.getConnectedClientCount=function(){return e.network_sharing_settings&&0<e.network_sharing_settings.host_connections_to_clients_count?"Number of Connected Clients:  "+e.network_sharing_settings.host_connections_to_clients_count:""},t.hasHostClientState=function(){return!!(e.network_sharing_settings&&e.network_sharing_settings.state_of_hosts_to_clients&&0<e.network_sharing_settings.state_of_hosts_to_clients.length)},t.getHostsToClientsState=function(){return e.network_sharing_settings&&e.network_sharing_settings.state_of_hosts_to_clients?e.network_sharing_settings.state_of_hosts_to_clients:{}}}]),angular.module("speedifyUI.components").directive("settingsPairShareAutoPair",function(){return{scope:{header:"@"},restrict:"E",templateUrl:"components/settings-session/settings-pair-share-auto-pair.html",controller:"SettingsPairShareAutoPairCtrl"}}).controller("SettingsPairShareAutoPairCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo",function(t,e,n,s,i){t.setAutoPairEnabled=function(t){e.network_sharing_settings.same_user_auto_pair=t,i.trackEvent("settings-pas","pair-sharing-auto-pair-enabled",t),s.set_networksharing_same_user_auto_pair(t)},t.hasAutoPairEnabled=function(){if(e&&e.network_sharing_settings)return e.network_sharing_settings.same_user_auto_pair}}]),angular.module("speedifyUI.components").directive("shareToggle",function(){return{scope:{title:"@"},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{title}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"ShareToggleCtrl"}}).controller("ShareToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo","pairAndShare","NETWORK_SHARE_STATES","spTranslate","debug","NETWORK_TUNNEL_STATUS","audioPlayer",function(t,e,n,s,i,r,o,a,c,l,d){t.toggle=function(){d.playSound("audio/general-tap.mp3",1,!0),0<r.pairedDevices.filter(t=>t.peer_as_client.peerStatus===o.AUTHENTICATED&&t.peer_as_client.tunnelStatus===l.ACTIVE).length?ShowConfirmPopup({msg:a.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.MSG"),isUrgent:!1,yesText:a.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.DISABLE"),noText:a.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.CANCEL"),yesCb:function(){c.log("Disable sharing"),t.toggleHostEnabled(),i.trackEvent("settings-pas","disable-sharing")}.bind(this),noCb:function(){c.log("Disable sharing cancel")},title:a.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.DISABLEPOPUP.TITLE"),groupId:"disableSharing"}):t.toggleHostEnabled()},t.toggleHostEnabled=function(){var t=!1;e&&e.network_sharing_settings&&(t=!e.network_sharing_settings.host_enabled),i.trackEvent("settings","pair-host-enabled",t),s.set_networksharing_host_enabled(t)},t.state=function(){return e&&e.network_sharing_settings&&e.network_sharing_settings.host_enabled?n.ON:n.OFF}}]).directive("settingsPairShareControl",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-session/settings-pair-share-control.html",controller:"SettingsPairShareControl"}}).controller("SettingsPairShareControl",["$scope","settingsRepository",function(t,e){t.description=function(){return{stylePre:"<br>",stylePost:"</br>"}},t.getNetworkSharingHostEnabled=function(){return!!e.network_sharing_settings&&e.network_sharing_settings.host_enabled},t.getHostDisplayName=function(){return e.network_sharing_settings&&e.network_sharing_settings.host_display_name?"Host Name: "+e.network_sharing_settings.host_display_name:""},t.getConnectedClientCount=function(){return e.network_sharing_settings&&0<e.network_sharing_settings.host_connections_to_clients_count?"Number of Connected Clients:  "+e.network_sharing_settings.host_connections_to_clients_count:""},t.hasClientHostState=function(){return!!(e.network_sharing_settings&&e.network_sharing_settings.state_of_clients_to_hosts&&0<e.network_sharing_settings.state_of_clients_to_hosts.length)},t.getClientsToHostState=function(){return e.network_sharing_settings&&e.network_sharing_settings.state_of_clients_to_hosts?e.network_sharing_settings.state_of_clients_to_hosts:{}}}]),angular.module("speedifyUI.components").directive("settingsPairShareDisplay",function(){return{scope:{header:"@",network:"="},restrict:"E",templateUrl:"components/settings-session/settings-pair-share-display.html",controller:"SettingsPairShareDisplay"}}).controller("SettingsPairShareDisplay",["$scope","settingsRepository","speedifyAPI","globals","pairAndShare","spTranslate","matomo",function(e,n,t,s,i,r,o){e.displayName="",e.updateDisplayName=function(){0!==e.displayName.length&&(o.trackEvent("pas-displayname","update"),t.set_network_sharing_displayName(e.displayName))},e.handleEnterKey=function(t){13===t.keyCode&&(e.updateDisplayName(),e.closeKeyboard(),e.shouldBlurUpdate=!1)},e.closeKeyboard=function(){var t=document.activeElement;t&&t.blur()},e.assignCurrentDisplayName=function(t){s.safeApply(e.$root,function(){t&&t.display_name?e.displayName=t.display_name:n.network_sharing_settings&&n.network_sharing_settings.display_name&&(e.displayName=n.network_sharing_settings.display_name)})},e.displayNameError=function(t){s.safeApply(e.$root,function(){t&&"set_networksharing_display_name"===t.setting&&o.trackEvent("pas-displayname","error",t.msg),ShowAlertPopup({msg:t.msg,isUrgent:!1,yesText:r.instant("PROMPTS.OK"),title:r.instant("SETTINGSPANE.TESTSPEED.ERRORTITLE"),groupId:t.setting})})},e.assignCurrentDisplayName(),t.register("report_networksharing_settings",e.assignCurrentDisplayName),t.register("report_settings_error",e.displayNameError),e.$on("$destroy",function(){t.unregister("report_settings_error",e.displayNameError),t.unregister("report_networksharing_settings",e.assignCurrentDisplayName)})}]),angular.module("speedifyUI.components").directive("settingsPairShareQr",function(){return{scope:{header:"@"},restrict:"E",templateUrl:"components/settings-session/settings-pair-share-qr.html",controller:"SettingsPairShareQr"}}).controller("SettingsPairShareQr",["$scope","settingsRepository","matomo","platform","audioPlayer",function(e,n,s,i,r){e.qrCodeURL="",e.initPasPairUrl=function(){var t;n&&n.network_sharing_settings&&n.network_sharing_settings.host_enabled&&(t=void 0!==n.network_sharing_settings.host_connect_code?n.network_sharing_settings.host_connect_code:"",e.qrCodeURL="https://speedify.com/in-app/pas?host_code=",t&&(e.qrCodeURL+=encodeURIComponent(t)),e.hostDisplayName())&&(e.qrCodeURL+="&displayName="+encodeURIComponent(e.hostDisplayName()))},e.hostDeepLinkCreated=function(t){e.qrCodeURL=t},e.hostDisplayName=function(){return n.network_sharing_settings&&n.network_sharing_settings.display_name?n.network_sharing_settings.display_name:""},e.$on("shareTapped",function(){r.playSound("audio/general-tap.mp3",1,!0),s.trackEvent("pas-qr","share");var t={referralUrl:"",referralText:e.qrCodeURL};i.share(t)}),e.initPasPairUrl()}]),angular.module("speedifyUI.components").directive("settingsPairShareRequest",function(){return{scope:{header:"@"},restrict:"E",templateUrl:"components/settings-session/settings-pair-share-request.html",controller:"SettingsPairShareRequest"}}).controller("SettingsPairShareRequest",["$scope","settingsRepository","pairAndShare","audioPlayer","matomo",function(t,e,n,s,i){t.togglePairRequest=function(t){s.playSound("audio/general-tap.mp3",1,!0),n.autoAcceptNetwork(t),i.trackEvent("settings-pas","pair-sharing-requests",t)},t.pairRequestSetting=function(){return e.network_sharing_settings.pair_request_behavior}}]),angular.module("speedifyUI.components").directive("streamToggle",function(){return{restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{::(\'SETTINGSPANE.SESSION.BONDINGMODE.ENHANCESTREAMING\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}</div><div class="interaction-toggle"><on-off-switch  state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"StreamToggleCtrl"}}).controller("StreamToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo","debug",function(t,e,n,s,i,r){t.lastAlgorithm=null,t.isDisabledOn=!1,t.toggle=function(){e.connection_settings.algorithm&&("STR"===e.connection_settings.algorithm?e.connection_settings.algorithm="SP":e.connection_settings.algorithm="STR"),i.trackEvent("settings","bonding-mode",e.connection_settings.algorithm),s.set_connection_algorithm(e.connection_settings.algorithm)},t.state=function(){if(e&&e.connection_settings&&e.connection_settings.algorithm)return"STR"===e.connection_settings.algorithm?n.ON:n.OFF}}]).directive("settingsSession",function(){return{restrict:"E",templateUrl:"components/settings-session/settings-session.html",controller:"SettingsSession",showBondingMode:"=",startupConnect:"=",showTransportMode:"=",showHeaderCompression:"=",showJumboMTU:"=",showPairAndShare:"="}}).controller("SettingsSession",["$scope","LearnMore","globals","settingsRepository","speedifyAPI","platform","spTranslate","SPEEDIFY_STATES","$mdSidenav","$mdComponentRegistry","matomo","pairAndShare","NETWORK_SHARE_STATES","debug","$rootScope","NETWORK_TUNNEL_STATUS","NETWORK_ADAPTER_TYPES","colorSave","$timeout","audioPlayer",function(s,t,i,r,e,n,o,a,c,l,d,u,p,g,m,h,v,S,T,f){s.settingsRepository=r,s.portFwdProtoOptions=[{val:"tcp",name:o.instant("ADVANCED.OPTIONS.PORTFORWARD.TCP")},{val:"udp",name:o.instant("ADVANCED.OPTIONS.PORTFORWARD.UDP")}],s.changedPortFwd=!1,s.portFwdMin=1,s.portFwdMax=65535,s.portRestricted=[],s.portFwdTotalMax=20,s.tcpInput=1,s.udpInput=1,s.pairAndShare=u,s.isAttemptingToPair=!1,s.isExpanded=!1,s.sortedPairedDevices=[],s.pasUsageOptions=[o.instant("SETTINGSPANE.STATISTICS.DURATION.ALLTIME"),o.instant("SETTINGSPANE.STATISTICS.DURATION.MONTH"),o.instant("SETTINGSPANE.STATISTICS.DURATION.WEEK"),o.instant("SETTINGSPANE.STATISTICS.DURATION.TODAY")],s.pasUsageOption=0,s.init=function(){u.request_networksharing_settings(),s.updateSortedDevices()},s.updateSortedDevices=function(){s.sortedPairedDevices=s.currentPairedDevices()},s.getBondingMode=function(){if(r.connection_settings.algorithm)return r.connection_settings.algorithm},s.streamToggleIsEnabled=function(){return!(r&&r.connection_settings&&r.connection_settings.algorithm&&"RD"===r.connection_settings.algorithm)},s.toggleBondingMode=function(t){t!==s.getBondingMode()&&(f.playSound("audio/general-tap.mp3",1,!0),"RD"===t?ShowConfirmPopup({msg:o.instant("UBERBOX.REDUNDANTALERT.MSG"),isUrgent:!1,yesCb:function(){r.connection_settings.algorithm=t,e.set_connection_algorithm(r.connection_settings.algorithm)}.bind(this),yesText:o.instant("UBERBOX.REDUNDANTALERT.OK"),noText:o.instant("UBERBOX.REDUNDANTALERT.CANCEL"),title:o.instant("UBERBOX.REDUNDANTALERT.TITLE"),groupId:"redundant"}):("STR"===t||"SP"===t&&"RD"===r.connection_settings.algorithm?r.connection_settings.algorithm="STR":r.connection_settings.algorithm=t,e.set_connection_algorithm(r.connection_settings.algorithm)),d.trackEvent("settings","bonding-mode",t))},s.getStartupState=function(){return r.connection_settings.startup_connect},s.toggleStartupConnect=function(t){t!==s.getStartupState()&&(f.playSound("audio/general-tap.mp3",1,!0),r.connection_settings.startup_connect=!r.connection_settings.startup_connect,e.set_startup_connect(r.connection_settings.startup_connect),d.trackEvent("settings","startup-connect",t))},s.getTransportMode=function(){return r.connection_settings.transport_mode},s.setTransportMode=function(t){t!==s.getTransportMode()&&(f.playSound("audio/general-tap.mp3",1,!0),r.connection_settings.transport_mode=t,e.set_connection_transport(r.connection_settings.transport_mode),d.trackEvent("settings","transport-mode",t))},s.toggleJumbo=function(t){t!==s.getJumboPacketState()&&(f.playSound("audio/general-tap.mp3",1,!0),r.connection_settings.jumbo_packets=t,e.set_dev_jumbo_packets(r.connection_settings.jumbo_packets),d.trackEvent("settings","jumbo-mode",t))},s.getJumboPacketState=function(){return r.connection_settings.jumbo_packets},s.getDisconnectOnExit=function(){return 1==r.connection_settings.disconnect_on_exit},s.toggleDisconnectOnExit=function(t){t!==s.getDisconnectOnExit()&&(f.playSound("audio/general-tap.mp3",1,!0),r.connection_settings.disconnect_on_exit=t,e.set_disconnect_on_exit(r.connection_settings.disconnect_on_exit),d.trackEvent("settings","disconnect-on-exit",t))},s.getExitDesc=function(){return"android"==n.platformClass?o.instant("SERVERS.OPTIONS.EXITDESC.ANDROID"):o.instant("SERVERS.OPTIONS.EXITDESC.DESKTOP")},s.getOptions=function(t){return!0===t?"android"===n.platformClass?o.instant("SERVERS.OPTIONS.EXITONANDROID"):o.instant("SETTINGSPANE.ON"):"android"===n.platformClass?o.instant("SERVERS.OPTIONS.EXITOFFANDROID"):o.instant("SETTINGSPANE.OFF")},l.get("portforwarding")&&l.get("portforwarding").onClose(function(){s.changedPortFwd&&(e.set_connection_forward_ports(r.connection_settings.forward_ports),i.currentState>=a.CONNECTING)&&ShowConfirmPopup({msg:o.instant("ADVANCED.OPTIONS.PORTFORWARD.CONFIRM.MSG"),isUrgent:!1,yesCb:function(){e.server_auto_connect("userprivate")}.bind(this),yesText:o.instant("ADVANCED.OPTIONS.PORTFORWARD.CONFIRM.OK"),noText:o.instant("ADVANCED.OPTIONS.PORTFORWARD.CONFIRM.CANCEL"),title:o.instant("ADVANCED.OPTIONS.PORTFORWARD.CONFIRM.TITLE"),groupId:"portforward"})}),s.getPortFwdProto=function(t){switch(t){case"tcp":return o.instant("ADVANCED.OPTIONS.PORTFORWARD.TCP");case"udp":return o.instant("ADVANCED.OPTIONS.PORTFORWARD.UDP");default:return"unknown"}},s.portFwdProtoChance=function(t){s.newPortFwdProto=t},s.getHeaderCompressionState=function(){return r.connection_settings.header_compress},s.onHeaderCompression=function(){return 1==r.connection_settings.header_compress?r.connection_settings.header_compress=!1:r.connection_settings.header_compress=!0,f.playSound("audio/general-tap.mp3",1,!0),d.trackEvent("settings","header-compression",r.connection_settings.header_compress),e.set_header_compression(r.connection_settings.header_compress)},s.portFwdAddOnEnter=function(t,e){13===t.keyCode&&s.portFwdAdd(e)},s.portFwdAdd=function(t){switch(t){case"tcp":s.newPortFwdPort=s.tcpPortSet;break;case"udp":s.newPortFwdPort=s.udpPortSet;break;default:s.newPortFwdPort=null,s.tcpPortSet=null,s.udpPortSet=null}if(s.newPortFwdPort)if(r.connection_settings.forward_ports||(r.connection_settings.forward_ports=[]),r.connection_settings.forward_ports.length>=s.portFwdTotalMax)ShowAlertPopup({msg:o.instant("ADVANCED.OPTIONS.PORTFORWARD.TOOMANY",{maxPorts:s.portFwdTotalMax})});else if(!Number.isInteger(s.newPortFwdPort)||s.newPortFwdPort<s.portFwdMin||s.newPortFwdPort>s.portFwdMax)ShowAlertPopup({msg:o.instant("ADVANCED.OPTIONS.PORTFORWARD.INVALIDINPUT",{portNumberMin:s.portFwdMin,portNumberMax:s.portFwdMax})});else if(-1<s.portRestricted.indexOf(s.newPortFwdPort))ShowAlertPopup({msg:o.instant("ADVANCED.OPTIONS.PORTFORWARD.RESTRICTED",{portRestrictedList:s.portRestricted.join(", ")})});else{for(var e={port:s.newPortFwdPort,proto:s.newPortFwdProto},n=r.connection_settings.forward_ports.length;n--;)if(r.connection_settings.forward_ports[n].port==e.port&&r.connection_settings.forward_ports[n].proto==e.proto)return;r.connection_settings.forward_ports.push(e),s.changedPortFwd=!0,s.tcpPortSet=null,s.udpPortSet=null}},s.portFwdTracking=function(t){return t.proto+"|"+t.port},s.portFwdDelete=function(t){for(var e=r.connection_settings.forward_ports.length;e--;)r.connection_settings.forward_ports[e].port==t.port&&r.connection_settings.forward_ports[e].proto==t.proto&&(r.connection_settings.forward_ports.splice(e,1),s.changedPortFwd=!0)},s.getTcpInput=function(){return new Array(s.tcpInput)},s.addTcpInput=function(){s.tcpInput+=1},s.getUdpInput=function(){return new Array(s.udpInput)},s.addUdpInput=function(){s.udpInput+=1},s.help=function(){t("settings",d.Screen.Settings)},s.supportsPasSharing=function(){return n.features.networkShareHost},s.supportsPasReceiving=function(){return n.features.networkShareEnabled},s.hasPairedDevices=function(){return!!u.pairedDevices&&0<u.pairedDevices.length},s.getNetworkSharingClientEnabledString=function(){return r.network_sharing_settings&&r.network_sharing_settings.client_enabled?o.instant("SETTINGSPANE.ON"):o.instant("SETTINGSPANE.OFF")},s.getAutoPairSettingBehavior=function(){return r.network_sharing_settings&&r.network_sharing_settings.same_user_auto_pair?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRMYDEVICES.AUTO"):o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRMYDEVICES.MANUAL")},s.getPasIcon=function(){return u.getPasIcon(i.currentState)},s.getNetworkSharingRequestBehaviorString=function(){if(r&&r.network_sharing_settings){var t=o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.ASK");switch(r.network_sharing_settings.pair_request_behavior){case"accept":t=o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.AUTO");break;case"reject":t=o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.IGNORE");break;default:t=o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.ASK")}return t}},s.spinner=function(){var t="light";return"components/settings-session/img/"+(t=r.vendor_local_settings&&(r.vendor_local_settings.theme===r.theme.dark||r.vendor_local_settings.theme===r.theme.system&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)?"dark":t)+"-spinner.gif"},s.getNetworkSharingHostEnabledToggleString=function(){return r.network_sharing_settings&&r.network_sharing_settings.host_enabled?o.instant("SETTINGSPANE.ON"):o.instant("SETTINGSPANE.OFF")},s.networkSharingIsAvailable=function(){return n.features.networkShareHost},s.wifiIsAvailable=function(){var t=i.networks.filter(t=>"Wi-Fi"===t.type&&!t.offline);return!!t&&0<t.length},s.getCellIsp=function(){if(i.networks&&0<i.networks.length){var t=i.networks.find(t=>"cellular"===t.guid);if(t&&t.isp)return{isp:t.isp}}return{isp:o.instant("ADAPTERTYPES.Cellular")}},s.hostDisplayName=function(){return r.network_sharing_settings&&r.network_sharing_settings.display_name?r.network_sharing_settings.display_name:""},s.shouldExpandPairedDevices=function(){if(4<u.pairedDevices.length)return!0},s.currentPairedDevices=function(){var t=u.pairedDevices.sort((t,e)=>{var n=t.peer_as_client.tunnelStatus,t=t.peer_as_host.tunnelStatus,s=e.peer_as_client.tunnelStatus,e=e.peer_as_host.tunnelStatus;return n===h.ACTIVE&&t===h.ACTIVE&&s===h.ACTIVE&&e===h.ACTIVE?0:n===h.ACTIVE&&t===h.ACTIVE?-1:s===h.ACTIVE&&e===h.ACTIVE?1:t!==h.ACTIVE&&n!==h.ACTIVE&&e!==h.ACTIVE&&s!==h.ACTIVE?0:t===h.ACTIVE&&n!==h.ACTIVE?-1:e===h.ACTIVE&&s!==h.ACTIVE?1:n===h.ACTIVE&&t!==h.ACTIVE&&s===h.ACTIVE&&e!==h.ACTIVE?0:n===h.ACTIVE&&t!==h.ACTIVE?-1:s===h.ACTIVE&&e!==h.ACTIVE?1:0});if(!s.isExpanded&&4<t.length){let n=!1;t=t.filter(t=>{var e=t.peer_as_client.tunnelStatus,t=t.peer_as_host.tunnelStatus;return e===h.ACTIVE||t===h.ACTIVE||!n&&(n=!0)})}return t},s.getColor=function(t){return S.getColorForGuid(t.uuid)},s.pairDevice=function(t){s.isAttemptingToPair=!0,u.newDeviceIsAttemptingToPair(t),d.trackEvent("pas","connect-to-peer"),s.$emit("showPasPopup",{isRequesting:!0})},s.deviceIsAvailable=function(t){return!!(t&&t.peer_as_client&&t.peer_as_client.peerStatus&&t.peer_as_client.peerStatus===p.AUTHENTICATED&&t.peer_as_client.tunnelStatus===h.ACTIVE)||!!(t&&t.peer_as_host&&t.peer_as_host.peerStatus&&t.peer_as_host.peerStatus===p.AUTHENTICATED&&t.peer_as_host.tunnelStatus===h.ACTIVE)},s.getDeviceSettingTitle=function(t){return u.getPeerStatusTitles(t)},s.connectToNetworkShare=function(t){t&&t.host_code&&(d.trackEvent("pas","connect-to-peer",t.name),u.connect_to_networkshare_connect(t.host_code))},s.availableHosts=function(){return u.availableShares.filter(t=>!0===t.supports_host)},s.reconnectToHost=function(e){var t=i.networks.find(t=>t.guid.includes(e.uuid));t||(e.type=v.NetworkShareClient,e.isPasDevice=!0),s.handleToggle({navId:"networks",header:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICE"),controllerName:"Networks",backButtonTitle:o.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:!0,child:!0,networkName:e.display_name,network:t||e,isPas:!0})},s.isReceiving=function(){return u.receivingIsEnabled()},s.getOptionHeader=function(){return s.isExpanded?o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.VIEWLESS"):o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.VIEWALL")},s.expand=function(){s.isExpanded=!s.isExpanded,s.updateSortedDevices(),s.currentNetwork&&d.trackEvent("settings-adapter-"+s.currentNetwork.type,"expand",s.isExpanded)},s.nextOption=function(){f.playSound("audio/general-tap.mp3",1,!0),s.pasUsageOption=(s.pasUsageOption+1)%s.pasUsageOptions.length;s.pasUsageOption<4&&d.trackEvent("pas-setting","data-usage",["ALLTIME","MONTH","WEEK","TODAY"][s.pasUsageOption])},s.getSharedData=function(t){var e=["total","month","week","today"][s.pasUsageOption];return bytesToSize(u.totalData[t][e])},s.showTapToPair=function(t){return!s.isAttemptingToPair||s.deviceIsAttemptingToPair(t)},s.deviceIsAttemptingToPair=function(t){return u.deviceIsAttemptingToPair(t)},s.getShareIcon=function(t){if(t)return(t=u.getDeviceAction(t)).isHosting&&t.isClient?"components/dashboard/img/pasFull.png":t.isHosting?"components/dashboard/img/pasSharing.png":"components/dashboard/img/pasReceiving.png"},s.init(),s.shareUpdated=function(n){i.safeApply(s.$root,function(){var t,e;n&&n.uuid&&u.deviceIsAttemptingToPair(n)&&(n.peerStatus===p.AUTHENTICATED||n.msg)&&(u.removeAttemptedPairedDevice(n),0===u.attemptingToPairArray.length&&(s.isAttemptingToPair=!1),t=!n.msg,n.msg)&&(e=u.availableShares.find(function(t){return t.uuid===n.uuid}),u.setPairingDevice(e),d.trackEvent("pas-request-result",t),m.$emit("showPasPopup",{isSuccess:t,errorMessage:n.msg})),s.updateSortedDevices()})},s.$on("qrCodeTapped",function(t,e){i.safeApply(s.$root,function(){s.$emit("hideShare",{hide:!1}),s.handleToggle({navId:"pairAndShareQr",header:o.instant("SETTINGSPANE.SESSION.PAIRANDSHARE.SCANTOPAIR"),controllerName:"PairShareQr",backButtonTitle:o.instant("ONEPANE.POPINS.SETTINGS"),showBackButton:!0,child:!0})})}),m.$on("pasPopupComplete",function(t,e){i.safeApply(s.$root,function(){var t;s.isAttemptingToPair=e.requestingAuth,e.hasCancelledRequest&&e.requestingUUID&&(t={uuid:e.requestingUUID},u.removeAttemptedPairedDevice(t))})}),m.$on("networkSharesAvailable",function(t,e){i.safeApply(s.$root,function(){s.updateSortedDevices()})}),m.$on("networkSharesPeerStatusChange",function(t,e){i.safeApply(s.$root,function(){s.shareUpdated(e)})})}]),angular.module("speedifyUI.components").directive("soundsToggle",function(){return{scope:{display:"=",setting:"="},restrict:"E",template:'<div class="content-child" ng-click="toggle()"><div class="content-name">{{::(display | spTranslate)}}</div><div class="interaction-toggle"><on-off-switch state="state()" width="50" height="30" units="\'px\'"></on-off-switch></div></div>',controller:"SoundsToggleCtrl"}}).controller("SoundsToggleCtrl",["$scope","settingsRepository","TOGGLE_STATE","speedifyAPI","matomo",function(t,e,n,s,i){t.toggle=function(){e.vendor_local_settings.sounds?e.vendor_local_settings.sounds=!e.vendor_local_settings.sounds:e.vendor_local_settings.sounds=!0,i.trackEvent("sounds",t.setting,e.vendor_local_settings.sounds),s.set_vendor_local_settings(e.vendor_local_settings)},t.state=function(){return e.vendor_local_settings&&!0===e.vendor_local_settings.sounds?n.ON:n.OFF}}]).directive("settingsSounds",function(){return{restrict:"E",templateUrl:"components/settings-sounds/settings-sounds.html",controller:"SettingsSoundsCtrl"}}).controller("SettingsSoundsCtrl",[function(){}]),angular.module("speedifyUI.components").directive("settingsStatistics",function(){return{restrict:"E",templateUrl:"components/settings-statistics/settings-statistics.html",controller:"SettingsStatistics"}}).controller("SettingsStatistics",["$scope","spTranslate","matomo","audioPlayer",function(n,s,i,e){n.assignStatsObject(),n.isSelected=function(t){if(n.currentDuration===t)return"selected-segment"},n.getCompletedStreams=function(){if(null!=n.sessionStats&&n.sessionStats[STAT_PERIODS.TOTAL]){var t=n.sessionStats[STAT_PERIODS.TOTAL];if(null!=t.streaming&&null!=t.streaming.total_streams)return t.streaming.total_streams}},n.pickDuration=function(t){i.trackEvent("statistics","duration-change",t),e.playSound("audio/general-tap.mp3",1,!0),n.selected(t)},n.hasStats=function(){return void 0!==n.currentDisplayedStats&&0!==Object.keys(n.currentDisplayedStats).length&&(void 0!==n.currentDisplayedStats.max_download_mbps&&0<n.currentDisplayedStats.max_download_mbps||void 0!==n.currentDisplayedStats.max_upload_mbps&&0<n.currentDisplayedStats.max_upload_mbps||void 0!==n.currentDisplayedStats.streaming&&0<n.currentDisplayedStats.streaming.total_streams||void 0!==n.currentDisplayedStats.cp_benefit&&void 0!==n.currentDisplayedStats.cp_benefit.cp_success&&0<n.currentDisplayedStats.cp_benefit.cp_success)},n.goToStatsPane=function(t,e){i.trackEvent("stats-detail",e),n.$emit("statsPane",{currentDuration:n.currentDuration,currentStat:s.instant(t),currentId:e})}}]),angular.module("speedifyUI.components").directive("settingsStatisticsDetails",function(){return{restrict:"E",templateUrl:"components/settings-statistics-details/settings-statistics-details.html",controller:"settingsStatisticsDetailsCtrl"}}).controller("settingsStatisticsDetailsCtrl",["$scope","spTranslate","platform","speedifyAPI","streamFunctions","matomo",function(n,e,s,t,i,r){n.statObject={},n.todayStreams=[],n.isActive=!0,n.saves={speed_saves:0,redundant_saves:0,failover_saves:0},n.numSaveTypes=0,n.totalSaves=0,n.shareText="",n.currentStat="",n.$on("shareTapped",function(){r.trackEvent("menu-action","share");var t={},t=s.identity.mobile?{referralUrl:"",referralText:n.shareText+"  https://speedify.com"}:{shareUrl:"https://speedify.com/spotlight/spread-the-word/",referralUrl:"",referralText:n.shareText+" ",instructionText:""};s.share(t)}),n.getStatObject=function(){if(n.currentStatId&&""!==n.currentStatId){switch(n.currentStatId){case"max_upload_mbps":n.currentStat="UPLOAD",n.statObject.image="components/settings-statistics/img/icon-speed-upload.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.UPSPEED.MESSAGE");break;case"max_download_mbps":n.currentStat="DOWNLOAD",n.statObject.image="components/settings-statistics/img/icon-speed-download.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.DOWNSPEED.MESSAGE");break;case"cp_benefit":n.currentStat="CAPTIVE",n.statObject.image="components/settings-statistics/img/icon-stability-captiveportalassist.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.CAPTIVE.MESSAGE");break;case"encrypted_bytes_recv":n.currentStat="ENCRYPTED",n.statObject.image="components/settings-statistics/img/icon-security-encrypted.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.ENCRYPTED.MESSAGE");break;case"num_failovers":n.currentStat="FAILOVERS",n.statObject.image="components/settings-statistics/img/icon-stability-rescued.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.RESCUE.MESSAGE");break;case"streaming":n.currentStat="STREAMS",n.statObject.image="components/settings-statistics/img/icon-stream-completed.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.STREAMS.MESSAGE");break;case"streaming_saves":n.currentStat="STREAMERGENCY",n.statObject.image="components/settings-statistics/img/icon-stability-streamergencysaves.png",n.statObject.description=e.instant("SETTINGSPANE.STATISTICS.MESSAGES.STREAMERGENCY.MESSAGE")}n.shareText=e.instant("SETTINGSPANE.STATISTICS.SHARE."+n.currentStat,{stat:n.statObject.alltime})}},n.assignStreamSaves=function(){n.selected("day"),n.statObject.day=n.getStreamSaves(),n.selected("week"),n.statObject.week=n.getStreamSaves(),n.selected("month"),n.statObject.month=n.getStreamSaves(),n.selected("total"),n.statObject.alltime=n.getStreamSaves()},n.getDetails=function(){var t="",e=n.currentDuration;"cp_benefit"===n.currentStatId&&(t="cp_success"),"streaming"===n.currentStatId&&(t="total_streams"),n.selected("day"),n.statObject.day=n.getStatValue(n.currentStatId,t),n.selected("week"),n.statObject.week=n.getStatValue(n.currentStatId,t),n.selected("month"),n.statObject.month=n.getStatValue(n.currentStatId,t),n.selected("total"),n.statObject.alltime=n.getStatValue(n.currentStatId,t),"streaming_saves"===n.currentStatId&&n.assignStreamSaves(),n.changeSelectedStat(n.statObject),n.selected(e),n.$emit("hideShare",{hide:void 0===n.statObject.alltime||n.statObject.alltime<=0})},n.getDetails(),n.getTopInformation=function(t){if(n.hasStreamingStats())return n.hasStreamingName(t)?!0===t.test?e.instant("SETTINGSPANE.TESTSPEED.LIVESTREAMTITLE"):t.name:n.formatDate(t.start_time)},n.hasStreamingName=function(t){return!!(n.hasStreamingStats()&&(console.log("currentStream"+JSON.stringify(t)),t.name&&""!==t.name||!0===t.test))},n.hasStreamingStats=function(){return null!=n.streamingStats&&0<n.streamingStats.streams.length},n.shouldShowStream=function(t){return"streaming_saves"!==n.currentStatId||!!n.hasSaves(t)},n.resetStreamingStats=function(){r.trackEvent("menu-action","clear-stats"),t.clear_streaming_stats()},n.formatDate=function(t){return moment.unix(t).format("MM/DD/YY")+" "+moment.unix(t).format("h:mm A")},n.streamedToday=function(t){return moment().isSame(moment.unix(t),"d")},n.populateStreamArrays=function(){n.todayStreams=n.streamingStats.streams.filter(function(t){return n.streamedToday(t.start_time)&&!t.active})},n.getSpeed=function(t){return t<1?Math.round(1e3*t)+" Kbps":Math.floor(100*t)/100+" Mbps"},n.getDuration=function(t){return moment.utc(1e3*t).format("HH:mm:ss")},n.getTypeImg=function(t){return i.getTypeImg(t,n.streamingStats.badLoss,n.streamingStats.badLatency)},n.hasSaves=function(t){return 0<t.speed_saves||0<t.redundant_saves||0<t.failover_saves},n.countSaves=function(t){for(var e in n.totalSaves=0,n.numSaveTypes=0,n.saves)n.saves[e]=0,t&&0<t[e]&&(n.numSaveTypes+=1,n.totalSaves+=t[e],n.saves[e]=t[e])},n.getSaveName=function(t){switch(t){case"speed_saves":return e.instant("STREAMING.SPEEDSAVES");case"redundant_saves":return e.instant("STREAMING.REDUNDANTSAVES");case"failover_saves":return e.instant("STREAMING.FAILOVERSAVES")}}}]),angular.module("speedifyUI.components").directive("settingsTheme",function(){return{restrict:"E",templateUrl:"components/settings-theme/settings-theme.html",controller:"SettingsTheme"}}).controller("SettingsTheme",["$scope","globals","settingsRepository","speedifyAPI","platform","matomo","audioPlayer",function(t,e,n,s,i,r,o){t.toggleDarkMode=function(){n.vendor_local_settings.theme=n.theme.dark,r.trackEvent("settings","theme","dark-mode"),o.playSound("audio/general-tap.mp3",1,!0),s.set_vendor_local_settings(n.vendor_local_settings)},t.toggleLightMode=function(){n.vendor_local_settings.theme=n.theme.light,r.trackEvent("settings","theme","light-mode"),o.playSound("audio/general-tap.mp3",1,!0),s.set_vendor_local_settings(n.vendor_local_settings)},t.toggleDefault=function(){n.vendor_local_settings.theme=n.theme.system,r.trackEvent("settings","theme","default"),o.playSound("audio/general-tap.mp3",1,!0),s.set_vendor_local_settings(n.vendor_local_settings)},t.isLightMode=function(){return!(!n.vendor_local_settings||!n.hasSetVendorLocalSettings||n.vendor_local_settings.theme!==n.theme.light)},t.isDarkMode=function(){return n.isDarkMode()&&!t.isDefault()},t.isDefault=function(){if(n.vendor_local_settings&&n.hasSetVendorLocalSettings)return n.vendor_local_settings.theme===n.theme.system},t.showDefaultPreference=function(){return e.supportsSystemColorPreference||i.features.systemColorPreference}}]),angular.module("speedifyUI.components").directive("share",function(){return{scope:{},restrict:"E",templateUrl:"components/share/share.html",controller:"ShareCtrl"}}).controller("ShareCtrl",["$scope","platform",function(t,e){t.doShare=function(){e.shareForData()}}]),angular.module("speedifyUI.components").directive("settingsWindowLocation",function(){return{restrict:"E",templateUrl:"components/settings-window-location/settings-window-location.html",controller:"SettingsWindowLocation"}}).controller("SettingsWindowLocation",["$scope","settingsRepository","speedifyAPI","matomo",function(t,e,n,s){t.settingsRepository=e,t.setWindowLocationIsFloating=function(t){e&&e.vendor_local_settings&&(e.vendor_local_settings.windowLocation||(e.vendor_local_settings.windowLocation={}),e.vendor_local_settings.windowLocation.isFloating=t,s.trackEvent("settings-window-location","floating-"+t),n.set_vendor_local_settings(e.vendor_local_settings))},t.windowIsFloating=function(){return!(!e||!e.vendor_local_settings&&!e.vendor_local_settings.windowLocation)&&e.vendor_local_settings.windowLocation.isFloating}}]),angular.module("speedifyUI.components").directive("sliderControl",function(){return{scope:{itemsClass:"=",currentFocussed:"=",itemMinWidth:"=",itemMaxWidth:"=",itemSpacing:"=",isFocusedCentered:"=",isViewIsolated:"=",heightToWidth:"=",availableHeight:"=",showSliderDots:"=",sliderDotsOnTop:"=",allowExpansion:"=",showSliderArrows:"=",showSliderName:"@"},link:function(s,t,e){t=$(t).find(".sliderContainer")[0];t&&(t.addEventListener("mousedown",function(t){try{t=t||window.event,s.onMouseDown(t.clientX,t.clientY)}catch(t){console.log(t)}},passiveEvent),t.addEventListener("mouseup",function(t){try{t=t||window.event,s.onMouseUp()}catch(t){console.log(t)}}),document.documentElement.addEventListener("mouseup",function(t){try{s.pressed&&s.onMouseUp()}catch(t){console.log(t)}}),t.addEventListener("mousemove",function(t){try{t=t||window.event,s.pressed&&s.onMouseMove(t.clientX,t.clientY)}catch(t){console.log(t)}},passiveEvent),t.addEventListener("touchstart",function(t){try{var e,n;(t=t||window.event).touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):t.targetTouches&&(e=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY),s.onMouseDown(e,n)}catch(t){console.log(t)}},passiveEvent),t.addEventListener("touchend",function(t){try{t=t||window.event,s.onMouseUp()}catch(t){console.log(t)}}),document.documentElement.addEventListener("touchend",function(t){try{s.pressed&&s.onMouseUp()}catch(t){console.log(t)}}),t.addEventListener("touchcancel",function(t){try{t=t||window.event,s.onMouseUp()}catch(t){console.log(t)}},passiveEvent),document.documentElement.addEventListener("touchcancel",function(t){try{s.pressed&&s.onMouseUp()}catch(t){console.log(t)}},passiveEvent),t.addEventListener("touchmove",function(t){try{var e,n;t=t||window.event,s.pressed&&(t.touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):t.targetTouches&&(e=t.targetTouches[0].clientX,n=t.targetTouches[0].clientY),s.onMouseMove(e,n))}catch(t){console.log(t)}},passiveEvent))},restrict:"E",transclude:!0,templateUrl:"components/slider-control/slider-control.html",controller:"SliderControlCtrl"}}).controller("SliderControlCtrl",["$scope","debug","globals","$timeout","platform","$rootScope","windowEvents","settingsRepository",function(h,n,s,i,e,r,o,a){h.max=0,h.lastFocussed=0,h.currentFocussed=void 0,h.pressed=!1,h.pressShiftX=0,h.isSliding=!1,h.MIN_SHIFT_TRIGGER_CLICK_PIXELS=window.devicePixelRatio,h.containerWidth=0,h.dotHeight=0,h.sliderSettleTime=333,h.assignArrow=function(t){var e="";return a.vendor_local_settings&&(a.vendor_local_settings.theme===a.theme.dark?e="components/slider-control/img/arrow"+t+"_dark.png":a.vendor_local_settings.theme===a.theme.light?e="components/slider-control/img/arrow"+t+".png":a.vendor_local_settings.theme===a.theme.system&&(e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"components/slider-control/img/arrow"+t+"_dark.png":"components/slider-control/img/arrow"+t+".png")),e},h.tryShiftFocusTowards=function(t,e){var n=h.getCurrentFocussed();if(void 0!==n)for(void 0!==e&&(n=e);n!=t;)if(t<n){if(h.isFirstItemOnScreen(n))break;--n}else if(n<t){if(h.isLastItemOnScreen(n))break;n+=1}return n},h.signalFocusChange=function(){h.$broadcast("sliderFocusChanged")},h.setCurrentFocusOn=function(t){h.currentFocussed!==t&&(h.signalFocusChange(),"introSlider"===h.showSliderName)&&r.$emit("sliderFocusChanged",t),h.currentFocussed=t},h.shiftFocusTowards=function(t){h.currentFocussed<0||void 0===h.currentFocussed||(h.setCurrentFocusOn(h.tryShiftFocusTowards(t)),h.currentFocussed<0?h.currentFocussed=0:h.currentFocussed>=h.max&&(h.currentFocussed=h.max-1))},h.refocus=function(){var t=h.tryShiftFocusTowards(0,h.max-1),e=h.tryShiftFocusTowards(h.max-1,0);t>h.currentFocussed&&h.shiftFocusTowards(t),e<h.currentFocussed&&h.shiftFocusTowards(e)},h.shiftFocus=function(t){h.shiftFocusTowards(h.currentFocussed+t)},h.isFirstItemOnScreen=function(t){return h.isIndexOnScreen(0,t)},h.isLastItemOnScreen=function(t){return h.isIndexOnScreen(h.max-1,t)},h.isDomIdOnScreen=function(t){t=$("."+h.itemsClass).index(document.getElementById(t));return h.isIndexOnScreen(t)},h.getCurrentFocussed=function(t){return void 0!==h.currentFocussed&&h.currentFocussed<0?t?h.lastFocussed:Math.abs(h.currentFocussed)-1:h.currentFocussed},h.isIndexOnScreen=function(t,e){void 0===e&&(e=h.getCurrentFocussed());var n=h.getItemsWide(),s=0,i=h.max,i=h.isFocusedCentered?(n%2==0&&n--,s=Math.ceil(e-n/2),Math.floor(e+n/2)):(n%2==1&&n--,s=Math.ceil(e-(n/2-1)),e+Math.floor(n/2));return s<=t&&t<=i},h.showLeftArrow=function(){return 0<h.getCurrentFocussed()&&!h.isSliding&&void 0!==h.currentFocussed&&!h.isFirstItemOnScreen()&&h.showSliderArrows},h.showRightArrow=function(){return h.getCurrentFocussed()<h.max-1&&!h.isSliding&&void 0!==h.currentFocussed&&!h.isLastItemOnScreen()&&h.showSliderArrows},h.getItemDimensions=function(){var t={height:0,width:0},e=h.getViewWidth(),n=h.availableHeight-h.dotHeight;return""===h.heightToWidth?(t.height=n,t.width=e):e*h.heightToWidth<n?(t.height=e*h.heightToWidth,t.width=e):(t.height=n,t.width=n/h.heightToWidth),t},h.getItemHeight=function(){return h.getItemDimensions().height},h.getItemWidth=function(){return h.getItemDimensions().width};var t=r.$on("windowEventResize",function(t,e){h.containerWidth=e.w}),c=(h.getContainerWidth=function(){return s.isTablet?h.containerWidth/2:h.containerWidth},h.getViewWidth=function(t){var e=h.getContainerWidth(),n=Math.max(h.itemMinWidth,Math.min(h.itemMaxWidth,e));return n=h.allowExpansion&&!0!==t&&h.canFitAll()?(e-(h.max-1)*h.itemSpacing)/h.max:n},h.canFitAll=function(){var t=h.max;return h.getViewWidth(!0)*t+h.itemSpacing*(t-1)<=h.getContainerWidth()},h.getItemsWide=function(){var t=h.getViewWidth();return Math.floor(h.getContainerWidth()/t)},h.getYShiftFor=function(t){return(h.availableHeight+(h.sliderDotsOnTop?h.dotHeight:-1*h.dotHeight)-h.getItemHeight())/2},h.getExtraWidth=function(){return h.getContainerWidth()-h.getViewWidth()*h.getItemsWide()},h.getXShiftFor=function(t){var e,n,s,i,r,o=h.getCurrentFocussed(!0);return void 0===o?(r=h.max,.75*(s=h.getViewWidth())<(e=n=(h.getContainerWidth()-s*r)/(r+1))&&(n=.75*s,e=(h.getContainerWidth()-(s*r+n*r))/2+.5*n),r=t,i=h.getItemWidth(),(e=0-h.getContainerWidth()/2+r*s+e+r*n+(s-i)/2)+(h.isSliding?h.pressShiftX:0)):(r=t-o,e=(h.getViewWidth()+h.itemSpacing)*r,e+=(h.getViewWidth()-h.getItemWidth())/2,t<o?e-=.5*h.itemSpacing:o<t&&(e+=.5*h.itemSpacing),t!=o||h.isFocusedCentered||(e-=.5*h.itemSpacing),h.isFocusedCentered?e-=.5*h.getViewWidth():e=e-+h.getViewWidth()-.5*h.itemSpacing,h.isViewIsolated&&(s=o-(n=h.getItemsWide())/2,i=o+n/2,r=(h.getContainerWidth()-h.getViewWidth())/2,t<=s?e-=r:i<=t&&(e+=r)),e+(h.isSliding?h.pressShiftX:0))},h.getStyleFor=function(t){var t=$("."+h.itemsClass).index(document.getElementById(t)),e={},n=h.getXShiftFor(t),s=h.getYShiftFor(t);return e["z-index"]=100-t,e.width=h.getItemWidth(),e.height=h.getItemHeight(),e["-webkit-transform"]="translate3d("+n+"px,"+s+"px,0px)",e.transform="translate3d("+n+"px,"+s+"px,0px)",e.xShift=n,e},h.getIsShownFor=function(t){var t=h.getStyleFor(t),e=h.getContainerWidth();return t.xShift+t.width>e/2*-1&&t.xShift<e/2*1},h.getLineStyleFor=function(t){var e,t=$("."+h.itemsClass).index(document.getElementById(t)),n={},s=h.getXShiftFor(t),t=h.getYShiftFor(t),i=h.getItemWidth(),r=h.getItemHeight(),o=s+i/2,a=r/2,c=0,l=0,d=0,u=0,p=0,g=(0==(g=0-o)?(c=o,d=0,l=r+10,u=r+40-10,p=90):(m=(r+25+40+30-a)/g,(p=180*Math.atan(m)/Math.PI)<0&&(p=180+p),u=m*(d=((l=m*(c=(a+r/2+10-(e=a-m*o))/m)+e)+40-20-e)/m)+e),c-d),m=Math.sqrt(Math.pow(d-c,2)+Math.pow(u-l,2));return n.width=m+"px",n.opacity=Math.max(.2,1-g*g/1e4),n["-webkit-transform"]="translate3d("+(s+i/2+(c-o))+"px,"+(t+r/2+(l-a))+"px,0px) rotate("+p+"deg)",n.transform="translate3d("+(s+i/2+(c-o))+"px,"+(t+r/2+(l-a))+"px,0px) rotate("+p+"deg)",n},h.shownDomIds=[],h.getClassFor=function(t){$("."+h.itemsClass).index(document.getElementById(t));var e={};return h.shownDomIds.indexOf(t)<0?(i(function(){h.shownDomIds.push(t)},250),e.initializing=!0):e.shown=!0,e},h.getStyleForContainer=function(){return{}},h.getMaxItems=function(){return $("."+h.itemsClass).length},h.evaluateCanFitAll=function(){s.safeApply(h.$root,function(){h.currentFocussed<0?i(h.evaluateCanFitAll,250):h.canFitAll()?h.setCurrentFocusOn(void 0):void 0===h.currentFocussed?h.setCurrentFocusOn(0):h.refocus()})},h.$watch(function(t){return t.getMaxItems()},function(t){h.max=t,h.max<=h.currentFocussed&&(h.currentFocussed=t-1),h.evaluateCanFitAll()}),h.$on("windowEventResize",function(t,e){try{h.evaluateCanFitAll()}catch(t){n.error("error resizing slider",t)}}),h.init=function(){for(var t=h.$parent;1==t.$$transcluded&&t.$parent;)t=t.$parent;if(t.getStyleFor=h.getStyleFor,t.getLineStyleFor=h.getLineStyleFor,t.getStyleForContainer=h.getStyleForContainer,t.getClassFor=h.getClassFor,t.isIndexOnScreen=h.isIndexOnScreen,t.isDomIdOnScreen=h.isDomIdOnScreen,t.getIsShownFor=h.getIsShownFor,h.showSliderDots)switch(e.platformClass){case"ios":case"android":h.dotHeight=23;break;default:h.dotHeight=26}h.containerWidth=o.getWindowDimensions().w,h.evaluateCanFitAll()},h.shouldShowSliderDots=function(){return h.showSliderDots&&void 0!==h.currentFocussed},h.getSliderDotsStyle=function(){var t={};return h.sliderDotsOnTop?t.top="0px":t.bottom="0px",t},h.getNumberOfDots=function(){return new Array(h.max)},h.setFocus=function(t){h.shiftFocusTowards(t)},h.sliderPromise=void 0,h.sliderTimeoutMs=5e3,h.sliderTimeoutCb=function(){h.onMouseUp()},h.resetSliderPromise=function(t){h.sliderPromise&&(i.cancel(h.sliderPromise),h.sliderPromise=void 0),t||(h.sliderPromise=i(h.sliderTimeoutCb,h.sliderTimeoutMs))},h.getWouldBeFocused=function(){var t=s.round(-h.pressShiftX/h.getViewWidth(),.2),t=h.lastFocussed+t;return h.tryShiftFocusTowards(t)},h.onMouseDown=function(t,e){s.safeApply(h.$root,function(){h.pressed||($(document.body).addClass("dragging"),h.pressed=!0,h.isSliding=!1,h.pressedX=Math.round(t),h.pressedY=Math.round(e),h.pressShiftX=0,h.pressTime=(new Date).getTime(),h.lastFocussed=h.currentFocussed,void 0!==h.lastFocussed&&(h.currentFocussed=-1*h.getWouldBeFocused()-1),h.resetSliderPromise())})},h.onMouseUp=function(){s.safeApply(h.$root,function(){var t;h.pressed&&((new Date).getTime(),$(document.body).removeClass("dragging"),h.pressed=!1,h.setCurrentFocusOn(h.lastFocussed),0<=h.currentFocussed&&(t=h.getWouldBeFocused(),h.shiftFocusTowards(t)),h.isSliding=!1,h.pressShiftX=0,h.pressShiftY=0,h.pressTime=0,h.resetSliderPromise(!0),i(h.signalFocusChange,h.sliderSettleTime))})},h.onMouseMove=function(t,e){s.safeApply(h.$root,function(){h.pressed&&(h.pressShiftX=Math.round(t)-h.pressedX,h.isSliding=h.isSliding||Math.abs(h.pressShiftX)>h.MIN_SHIFT_TRIGGER_CLICK_PIXELS,h.pressShiftY=Math.round(e)-h.pressedY,void 0!==h.lastFocussed&&h.setCurrentFocusOn(-1*h.getWouldBeFocused()-1),h.resetSliderPromise())})},-1);h.isDotSelected=function(t){return"introSlider"===h.showSliderName&&(5==h.getCurrentFocussed()?r.$emit("lastSlideReached",!0):r.$emit("lastSlideReached",!1),c!=h.getCurrentFocussed())&&(c=h.getCurrentFocussed(),r.$emit("slideIndex",h.getCurrentFocussed())),t==h.getCurrentFocussed()},h.getDotClass=function(t){var e={current:h.isDotSelected(t)};return e["dot"+t]=!0,e},h.init(),h.$on("$destroy",t)}]),angular.module("speedifyUI.components").directive("sliderNav",function(){return{scope:{header:"@",backButtonTitle:"@",isOpen:"@",navId:"@",controllerName:"@",showBackButton:"@",showQrCode:"@",sessionStats:"=",show:"=",styles:"="},restrict:"E",templateUrl:"components/slider-nav/slider-nav.html",controller:"SliderNavCtrl",transclude:!0}}).directive("navController",["$controller",function(i){return{scope:!0,restrict:"A",link:function(e,n,s){s.$observe("navController",function(t){t&&n.data("$Controller",i(t,{$scope:e,$element:n,$attrs:s}))})}}}]).controller("SliderNavCtrl",["$scope","SPEEDIFY_STATES","globals","platform","$mdComponentRegistry","spTranslate","accounting","urlArgs","speedifyAPI","settingsRepository","debug","matomo","audioPlayer",function(n,t,s,e,i,r,o,a,c,l,d,u,p){n.showChild=!1,n.isChild=!1,n.showChild=!1,n.serverChanged=!1,n.hideShareIcon=!1,n.SPEEDIFY_STATES=t,n.children=["account","server","networks","bondingMode","connectStartup","transportMode","jumbo","disconnectExit","devTools","portforwarding","encryption","dnsService","killSwitch","notifications","about","help","dnsleak","ipleak","streamingBypass","theme","statistics","news","language","graphRotation"],n.networkChildren=["priority","dailyCap","monthlyCap","overlimit","addDNS","ratelimit","ipAddress","pairAndShareDisplay","pairAndShareRequest","pairAndShareQr","pairAndShareAutoPair"],n.$on("changing server",function(){n.serverChanged=!0}),n.$on("hideShare",function(t,e){e&&null!=e.hide&&(n.hideShareIcon=e.hide)}),n.getIsEnabledState=function(){return s.currentState==t.CONNECTED},n.toggleDoneButton=function(){n.serverChanged=!n.serverChanged},n.newclose=function(t){""!=n.navId&&("login"==n.navId&&u.trackPageView("settings/account","Account - Account"),n.$emit("closesettings",{navId:n.navId,closeSettings:t}),n.$broadcast("closing",{navId:n.navId}),n.doReturnToAuto())},n.doReturnToAuto=function(){p.generateHaptic(),s.currentState!==t.LOGGED_OUT||o.isAutoAccount||a.isVM||"lin"==e.platformClass||(d.log("triggering autoaccount from doReturnToAuto"),c.login_auto())},n.showCloseSettings=function(){return!1},n.showShouldQrIcon=function(){return"true"==n.showQrCode},n.shouldShowButton=function(){return"login"!==n.navId||"lin"!==e.platformClass&&!a.isVM},n.isDualPane=function(){return s.shouldSplit&&i.get("settings")},n.getStyles=function(){return n.handleBackButtons(),n.setChildStatus(),n.isDualPane()?"settings"!==n.navId?"login"===n.navId?"animated md-sidenav-right full-width md-whiteframe-4dp":"animated md-sidenav-left tablet-settings-width left-divider":"md-sidenav-left tablet-settings-width ":"animated md-sidenav-right full-width md-whiteframe-4dp"},n.setChildStatus=function(){n.isDualPane()&&(-1!=n.children.indexOf(n.navId)?n.isChild=!0:n.isChild=!1)},n.hideHelp=function(){return!0===n.hideShareIcon||!(l&&l.vendor_local_settings&&l.vendor_local_settings.completed_intro&&!1!==l.vendor_local_settings.completed_intro)||"upgrade"===n.navId||"statisticsDetails"===n.navId||-1!=n.networkChildren.indexOf(n.navId)||-1!=n.children.indexOf(n.navId)},n.hideShare=function(){if(!0!==n.hideShareIcon){if("statisticsDetails"===n.navId||"pairAndShareQr"==n.navId)return!1;n.getIsEnabledState()}return!0},n.share=function(){p.playSound("audio/general-tap.mp3",1,!0),n.$broadcast("shareTapped")},n.qrCodeTapped=function(){n.$broadcast("qrCodeTapped")},n.handleBackButtons=function(){i.get("settings")&&"settings"!==n.navId||"pairAndShareQr"==n.navId?(n.backButtonTitle=r.instant("SETTINGSPANE.BACK"),n.showBackButton="true"):(n.backButtonTitle=r.instant("SETTINGSPANE.DONE"),n.showBackButton=null)},n.childStatus=function(){return!("login"!==n.navId||!a.isVM&&"lin"!==e.platformClass)||n.isChild},n.$on("windowEventResize",function(t,e){s.shouldSplit&&!s.isTV||(n.isChild=!1)}),n.isMobile=function(){return e.identity.mobile},n.goToHelp=function(){n.$emit("launchHelp"),p.playSound("audio/general-tap.mp3",1,!0)}}]),angular.module("speedifyUI.components").directive("socialPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/social-popup/social-popup.html",controller:"SocialPopupCtrl"}}).controller("SocialPopupCtrl",["$scope","accounting","speedifyAPI","DataScaling","spTranslate","platform","$timeout","settingsRepository","globals","externalLinks","matomo",function(n,t,e,s,i,r,o,a,c,l,d){n.smallScreen=c.smallScreen,n.willClose=!1,n.showChild=!1,n.dismiss=function(){n.willClose=!0,d.trackEvent("social-popup","close"),a.vendor_local_settings.shown_socialpopup=!0,e.set_vendor_local_settings(a.vendor_local_settings),o(function(){c.safeApply(n.$root,function(){n.willClose=!1,n.$emit("socialPopUpComplete")})},300)},n.$watch("show",function(t,e){o(function(){c.safeApply(n.$root,function(){n.showChild=t})},150)}),n.followSpeedify=function(){return i.instant("SOCIALPOPUP.DESCTITLE",{followSpeedify:"@Speedify"})},n.launchTwitter=function(){n.dismiss(),l.toTwitter(d.Screen.Popup)},n.launchYouTube=function(){n.dismiss(),l.toYoutube(d.Screen.Popup)},n.launchInstagram=function(){n.dismiss(),l.toInstagram(d.Screen.Popup)}}]),angular.module("speedifyUI.components").directive("statusBox",function(){return{scope:{running:"=",connected:"=",currentState:"=",pendingAttempt:"=",lastLoginErrorType:"=",lastLoginErrorMessage:"=",connectedServer:"=",streamingStats:"=",connectedTime:"="},restrict:"E",templateUrl:"components/status-box/status-box.html",controller:"StatusBoxCtrl"}}).controller("StatusBoxCtrl",["$scope","windowEvents","SPEEDIFY_STATES","speedifyAPI","settingsRepository","serverFunctions","globals","TOGGLE_STATE","spTranslate","accounting","debug","tunnelRepository","platform","branding","ERROR_CODES","testSpeed","matomo","$rootScope",function(i,t,r,e,o,n,s,a,c,l,d,u,p,g,m,h,v,S){i.reconnectTime=null,i.getCloudImage=function(){var t;return i.isKillSwitchd()?"components/uber-box/img/killSwitch.png":(t="components/uber-box/img/serverCloud",o.connection_settings&&!1===o.connection_settings.encrypted?t+="-un":t+="-enc",i.currentState<r.CONNECTED?t+="-disconnected":o.connection_settings&&"RD"===o.connection_settings.algorithm?t+="-rd":t+="-vmm",t+".png")},i.getServerButtonText=function(){var t,e,n;return 0<h.currentTestType?(t="",(n=u.getFirstLiveDataMatching("speedify"))&&(e=" "+getCalculatedSpeed(n.sndBps),n=" "+getCalculatedSpeed(n.rcvBps),2==h.currentTestType&&(t=e),t=n+" | "+e),t):i.currentState<=r.LOGGED_IN?c.instant("UBERBOX.CONNECTTOSERVER"):i.currentState>=r.CONNECTING&&i.connectedServer?"proxy"===i.connectedServer.longName?c.instant("SERVERS.OPTIONS.PROXY"):i.connectedServer.longName:""},i.getCurrentState=function(){if(i.shouldShowYellowState())return"reconnectPendingGradient";if(0<h.currentTestType){if(1==h.currentTestType)return"speedTestGradient";if(2==h.currentTestType)return"streamingTestGradient"}return i.currentState>=r.CONNECTING&&i.connectedServer?"connectedGradient animated":"disconnected"},i.showFlagIcon=function(){return!i.isPerformingSpeedTest()&&i.connectedServer},i.duration=function(){return i.connectedTime&&i.connectedServer?" | "+i.connectedTime:""},i.showStatusInformation=function(){return i.connectedServer&&i.connectedServer.country&&i.currentState>=r.CONNECTED},i.showDisconnectedText=function(){return!i.showStatusInformation()&&!i.shouldShowYellowState()&&i.currentState==r.LOGGED_IN},i.getServerFlag=function(){if(i.connectedServer)return n.getFlag(i.connectedServer.country)},i.handleStatusboxClick=function(){if(!l.isDataReached()){if(v.trackEvent("status-box","tapped"),!i.shouldShowYellowState())return i.toggleSpeedify();switch(i.lastLoginErrorType){case m.NETWORK:i.toggleSpeedify();break;case m.SERVER:i.$emit("showServers");break;case m.CREDENTIAL:i.$emit("showRegisterLogin");break;case m.DIRECTORY:i.toggleSpeedify();break;case m.ACCOUNT:l.isUnlimited?i.toggleSpeedify():i.$emit("showUpgrade");break;case m.RATELIMIT:i.toggleSpeedify();break;case m.TOKEN_EXPIRED:i.$emit("showRegisterLogin");break;default:m.VPN_ADAPTER;i.toggleSpeedify()}}},i.toggleSpeedify=function(){switch(d.log("Status box toggle clicked while in state "+i.currentState),parseInt(i.currentState)){case r.LOGGED_OUT:i.$emit("showRegisterLogin");break;case r.LOGGED_IN:e.server_auto_connect("auto"),e.request_current_state(),p.features.respondsToPowerToggle&&p.userToggledPowerButton(!0);break;case r.CONNECTED:i.$emit("showServers");break;case r.CONNECTING:case r.OVERLIMIT:case r.AUTO_CONNECTING:case r.LOGGING_IN:break;case r.DISCONNECTING:}},S.$on("reconnectAfterDelay",function(t,e){var n=0;e.delay&&0<e.delay&&(n=e.delay),i.reconnectTime=new Date(Date.now()+n)}),i.getSubtitleText=function(){var t;return l.isDataReached()?c.instant("UBERBOX.OUTOFDATA"):i.reconnectTime&&i.reconnectTime>new Date?(t=i.reconnectTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),c.instant("DISCONNECTPROMPT.RECONNECTTIME",{connectTime:t})):c.instant("UBERBOX.CONNECTTOSERVER")},i.getStatusText=function(){var t="";if(i.connected){switch(i.currentState){case r.OVERLIMIT:t=c.instant("UBERBOX.STATE.OVERLIMIT");break;case r.AUTO_CONNECTING:t=c.instant("UBERBOX.STATE.AUTO_CONNECTING");break;case r.CONNECTING:i.reconnectTime=null,t=c.instant("UBERBOX.STATE.CONNECTING");break;case r.CONNECTED:if(0<h.currentTestType){if(1==h.currentTestType)return c.instant("SETTINGSPANE.TESTSPEED.TESTING_SPEED");if(2==h.currentTestType)return c.instant("SETTINGSPANE.TESTSPEED.TESTING_STREAMING")}var e=o.connection_settings&&"RD"===o.connection_settings.algorithm,n=o.connection_settings&&"STR"===o.connection_settings.algorithm,s=[];i.streamingStats&&i.streamingStats.streams&&(s=i.streamingStats.streams.filter(function(t){return t.active})),t=1==u.overview.numActive?e?c.instant("UBERBOX.STATE.SINGLEACTIVEREDUNDANT"):n&&i.streamingStats&&1<i.streamingStats.streams.length&&0<s.length?c.instant("UBERBOX.STATE.SINGLEACTIVESTREAMING"):c.instant("UBERBOX.STATE.SINGLEACTIVESPEED"):1<u.overview.numActive?e?c.instant("UBERBOX.STATE.MULTIACTIVEREDUNDANT",{count:u.overview.numActive}):n&&i.streamingStats?1<=s.length?(i.streamingMulti=!0,"SP"===i.streamingStats.bonding_mode?c.instant("UBERBOX.STATE.MULTIACTIVESTREAMINGSPEED"):c.instant("UBERBOX.STATE.MULTIACTIVESTREAMINGREDUNDANT")):(i.streamingMulti=!1,c.instant("UBERBOX.STATE.CONNECTED")):c.instant("UBERBOX.STATE.MULTIACTIVESPEED",{count:u.overview.numActive}):1==u.overview.numActiveOLRL?c.instant("UBERBOX.STATE.SINGLEACTIVEOLRL"):1<u.overview.numActiveOLRL?c.instant("UBERBOX.STATE.MULTIACTIVEOLRL"):1!=u.overview.numBackup&&1<u.overview.numBackup?e?c.instant("UBERBOX.STATE.MULTIBACKUPREDUNDANT",{count:u.overview.numBackup}):c.instant("UBERBOX.STATE.MULTIBACKUPSPEED",{count:u.overview.numBackup}):c.instant("UBERBOX.STATE.CONNECTED");break;case r.DISCONNECTING:t=c.instant("UBERBOX.STATE.DISCONNECTING");break;case r.LOGGED_IN:t=c.instant("UBERBOX.STATE.LOGGED_IN");break;case r.LOGGING_IN:t=c.instant("UBERBOX.STATE.LOGGING_IN");break;case r.LOGGED_OUT:t=c.instant("UBERBOX.STATE.LOGGED_OUT")}i.isKillSwitchd()&&(t=c.instant("UBERBOX.STATE.KILLSWITCH"))}else t="";return i.shouldShowYellowState()?i.lastLoginErrorMessage:t},i.isReconnectPending=function(){return i.pendingAttempt&&i.currentState===r.LOGGED_IN},i.shouldShowYellowState=function(){return!(!i.isReconnectPending()||!i.lastLoginErrorMessage||l.isDataReached())},i.isKillSwitchd=function(){return i.currentState<r.AUTO_CONNECTING&&o.privacy_settings&&!0===o.privacy_settings.killswitch},i.changeServer=function(){i.$emit("showServers")},i.isPerformingSpeedTest=function(){return 0<h.currentTestType}}]),angular.module("speedifyUI.components").directive("streamPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",streamToShow:"=",badLoss:"=",badLatency:"="},restrict:"E",templateUrl:"components/stream-popup/stream-popup.html",controller:"StreamPopupCtrl"}}).controller("StreamPopupCtrl",["$scope","spTranslate","platform","$timeout","globals","branding","streamFunctions","matomo",function(n,e,s,i,r,o,t,a){n.smallScreen=r.smallScreen,n.willClose=!1,n.showChild=!1,n.totalSaves=0,n.completedStreams=0,n.saves={speed_saves:0,redundant_saves:0,failover_saves:0},n.init=function(){n.countSaves(n.streamToShow)},n.share=function(){a.trackEvent("stream-popup","share");var t=encodeURIComponent(n.streamToShow.name),t=o.url_settings.stream_share_url+"?streamtime="+n.streamToShow.start_time+"&streamlength="+n.streamToShow.duration+"&streamsource="+t+"&totalsaves="+n.totalSaves+"&slowsaves="+n.streamToShow.speed_saves+"&lagsaves="+n.streamToShow.redundant_saves+"&failoversaves="+n.streamToShow.failover_saves;s.share({isStreamShare:!0,referralUrl:"",referralText:e.instant("STREAMINGPOPUP.SHARE",{saves:n.totalSaves})+" "+t})},n.getMainTitle=function(){return e.instant("STREAMINGPOPUP.MAINTITLE")},n.getDesc=function(){return e.instant("STREAMINGPOPUP.MAINDESC",{saves:n.totalSaves})},n.dismissStreamPopup=function(){n.willClose=!0,a.trackEvent("stream-popup","close"),i(function(){r.safeApply(n.$root,function(){n.willClose=!1,n.$emit("streamPopupComplete")})},300)},n.getTopInformation=function(t){return n.hasStreamingName(t)?t.name:n.formatDate(t.start_time)},n.hasStreamingName=function(t){return!(!t.name||""===t.name)},n.countSaves=function(t){for(var e in n.totalSaves=0,n.numSaveTypes=0,n.saves)(n.saves[e]=0)<t[e]&&(n.numSaveTypes+=1,n.totalSaves+=t[e],n.saves[e]=t[e])},n.getTypeImg=function(){return t.getTypeImg(n.streamToShow,n.badLoss,n.badLatency)},n.getSaveName=function(t){switch(t){case"speed_saves":return e.instant("STREAMING.SPEEDSAVES");case"redundant_saves":return e.instant("STREAMING.REDUNDANTSAVES");case"failover_saves":return e.instant("STREAMING.FAILOVERSAVES")}},n.formatDate=function(t){return moment.unix(t).format("MM/DD/YY")+" "+moment.unix(t).format("h:mm A")},n.$watch("show",function(t,e){i(function(){r.safeApply(n.$root,function(){n.showChild=t})},150)}),n.init()}]),angular.module("speedifyUI.components").directive("streamingBypassPopup",function(){return{scope:{ok:"&",header:"=",show:"=",screenName:"=",headerHover:"=",streamingTitle:"="},restrict:"E",templateUrl:"components/streaming-bypass-popup/streaming-bypass-popup.html",controller:"StreamingBypassPopupCtrl"}}).controller("StreamingBypassPopupCtrl",["$scope","$timeout","globals","speedifyAPI","spTranslate","matomo","settingsRepository",function(n,s,i,r,t,e,o){n.smallScreen=i.smallScreen,n.willClose=!1,n.showChild=!1,n.dismiss=function(){n.willClose=!0,s(function(){i.safeApply(n.$root,function(){n.$emit("closeStreamingBypass"),n.willClose=!1})},300)},n.$watch("show",function(t,e){s(function(){i.safeApply(n.$root,function(){n.showChild=t})},1150)}),n.getPopupTitle=function(){return t.instant("SETTINGSPANE.STREAMINGBYPASS.POPUP.TITLE",{service:n.streamingTitle})},n.getApprovedTitle=function(){return t.instant("SETTINGSPANE.STREAMINGBYPASS.POPUP.YESBUTTON",{service:n.streamingTitle})},n.getDescription=function(){return t.instant("SETTINGSPANE.STREAMINGBYPASS.POPUP.DESC",{service:n.streamingTitle})},n.allowBypass=function(){null!=n.streamingTitle&&(e.trackEvent("streaming-bypass-popup","allow",n.streamingTitle),r.set_local_proxy_domain_watch_list(n.streamingTitle,!0),n.removeTitleFromSuggestedList(n.streamingTitle))},n.removeTitleFromSuggestedList=function(t){var e;o.vendor_local_settings&&o.vendor_local_settings.suggestedBypassList?(-1!==(e=o.vendor_local_settings.suggestedBypassList.indexOf(t))&&o.vendor_local_settings.suggestedBypassList.splice(e,1),r.set_vendor_local_settings(o.vendor_local_settings),n.dismiss()):s(function(){i.safeApply(n.$root,function(){n.removeTitleFromSuggestedList(t)})},300)},n.noThanks=function(){e.trackEvent("streaming-bypass-popup","do-not-allow",n.streamingTitle),n.dismiss()}}]),angular.module("speedifyUI.components").directive("testSpeedPopup",function(){return{scope:{ok:"&",header:"=",show:"=",showHistory:"=",screenName:"=",headerHover:"="},restrict:"E",templateUrl:"components/test-speed-popup/test-speed-popup.html",controller:"TestSpeedPopupCtrl"}}).controller("TestSpeedPopupCtrl",["$scope","$timeout","globals","testSpeed","speedifyAPI","platform","serverFunctions","branding","spTranslate","matomo","audioPlayer",function(s,n,i,r,t,o,e,a,c,l,d){s.smallScreen=i.smallScreen,s.willClose=!1,s.showChild=!1,s.speedtest=r.currentTest,s.getServerFlag=function(t){return e.getFlag(t)},s.testDescription=function(){var t=s.speedtest.resolution;return{stylePre:"<b>",stylePost:"</b>",fps:s.speedtest.fps,numberOfConnections:s.speedtest.num_connections,resolution:t="2160p"===(t="1440p"===t?"2K":t)?"4K":t}},s.getResolutionIcon=function(t){return"components/test-speed-popup/img/"+(t=""===t?"noStream":t)+".png"},s.hasError=function(){return!r.currentTest||r.currentTest.error},s.isLiveStream=function(){return!!(r&&r.currentTest&&r.currentTest.type)&&2===r.currentTest.type},s.getServerName=function(){var t;return s.speedtest?(t={country:s.speedtest.country,city:s.speedtest.city},e.getCountryNameFor(t)+" - "+e.getCityNameFor(t)):""},s.getFormattedSpeed=function(t){return getCalculatedSpeed(t)},s.getEventName=function(){return s.isLiveStream()?"popup-test-stream":"popup-test-speed"},s.viewHistory=function(){l.trackEvent(s.getEventName(),"view history"),n(function(){i.safeApply(s.$root,function(){s.willClose=!1,s.$emit("viewTestSpeedHistory")})},500)},s.shareTestSpeed=function(){d.playSound("audio/general-tap.mp3",1,!0),l.trackEvent(s.getEventName(),"share-test-speed");var t=s.splitSpeedResult(getCalculatedSpeed(s.speedtest.upload)),e=s.splitSpeedResult(getCalculatedSpeed(s.speedtest.download)),n=(new Date).getTime()/1e3,t=a.url_settings.speed_test_results_url+"?u="+t.value+"&uu="+t.unit+"&d="+e.value+"&du="+e.unit+"&c="+s.speedtest.num_connections+"&t="+n+"&ss="+encodeURIComponent(s.getServerName());o.share({isSpeedTest:!0,referralText:c.instant("SETTINGSPANE.TESTSPEED.SPEEDTESTSHARE")+" "+t})},s.shareLivestreamTest=function(){var t,e;r.currentTest&&(d.playSound("audio/general-tap.mp3",1,!0),l.trackEvent(s.getEventName(),"share-test-live-stream"),e=s.splitSpeedResult(getCalculatedSpeed(s.speedtest.upload)),t=(new Date).getTime()/1e3,e=a.url_settings.livestream_test_results_url+"?fps="+r.currentTest.fps+"&sr="+r.currentTest.resolution+"&uu="+e.unit+"&lv="+r.currentTest.loss+"&us="+e.value+"&cc="+r.currentTest.num_connections+"&pv="+r.currentTest.latency+"&t="+t+"&jv="+r.currentTest.jitter+"&ss="+encodeURIComponent(s.getServerName()),console.log(e),o.share({isSpeedTest:!0,referralText:c.instant("SETTINGSPANE.TESTSPEED.LIVESTREAMTESTSHARE")+" "+e}))},s.shareTestResults=function(){r.currentTest&&(2==r.currentTest.type?s.shareLivestreamTest():s.shareTestSpeed())},s.splitSpeedResult=function(t){t=t.split(" ");return{value:t[0],unit:t[1]}},s.retryTest=function(){d.playSound("audio/general-tap.mp3",1,!0),l.trackEvent(s.getEventName(),"retry-test","error-"+s.hasError()),void 0!==s.speedtest&&1==s.speedtest.type?s.initiateSpeedTest():s.initiateStreamTest(),s.dismiss()},s.initiateSpeedTest=function(){t.start_speed_test(),d.playSound("audio/general-tap.mp3",1,!0),l.trackEvent(s.getEventName(),"start-speed-test"),!0===o.identity.apple&&o.startSpeedTest()},s.initiateStreamTest=function(){t.start_stream_test(),d.playSound("audio/general-tap.mp3",1,!0),l.trackEvent(s.getEventName(),"start-stream-test"),o.identity.apple&&o.startStreamTest()},s.getButtonMargins=function(){return!0===s.showHistory?"rightButton":"padButton"},s.closePopup=function(){l.trackEvent(s.getEventName(),"close","error-"+s.hasError()),s.dismiss()},s.dismiss=function(){s.willClose=!0,d.playSound("audio/general-tap.mp3",1,!0),n(function(){i.safeApply(s.$root,function(){s.willClose=!1,s.$emit("closeSpeedTest")})},300)},s.$watch("show",function(t,e){n(function(){i.safeApply(s.$root,function(){s.showChild=t})},150)})}]),angular.module("speedifyUI.components").directive("testSpeed",function(){return{restrict:"E",templateUrl:"components/tester/test-speed.html",controller:"TestSpeed",connectedServer:"="}}).controller("TestSpeed",["$scope","testSpeed","spTranslate","SPEEDIFY_STATES","serverFunctions","performanceTestFunctions","matomo",function(e,n,s,t,i,r,o){e.waitingToStartSpeedTest=!1,e.waitingToStartStreamTest=!1,e.showStreamPopup=!1,e.startSpeedTest=function(){o.trackEvent("test-speed","start-speed-test"),e.$emit("closesettings",{closeSettings:!0}),r.startSpeedTest()},e.startStreamTest=function(){o.trackEvent("test-speed","start-stream-test"),e.$emit("closesettings",{closeSettings:!0}),r.startStreamTest()},e.getSpeedTests=function(){return n.history},e.hasSpeedTestHistory=function(){return 0<n.history.length},e.getStartButtonTitle=function(){return e.currentState!==t.CONNECTED?s.instant("SETTINGSPANE.TESTSPEED.CONNECTNEWTEST"):s.instant("SETTINGSPANE.TESTSPEED.NEWTEST")},e.showTestResult=function(t){n.currentTest=t,e.showStreamPopup=!0,o.trackEvent("test-speed","show-results")},e.getStreamStartButtonTitle=function(){return e.currentState!==t.CONNECTED?s.instant("SETTINGSPANE.TESTSPEED.CONNECTSTREAMTEST"):s.instant("SETTINGSPANE.TESTSPEED.NEWSTREAMTEST")},e.getServerFlag=function(t){return i.getFlag(t)},e.getServerName=function(t,e){t={country:t,city:e};return i.getCountryNameFor(t)+" - "+i.getCityNameFor(t)},e.isSpeedTestEnabled=function(){return e.currentState===t.CONNECTED&&e.connectedServer?0==n.currentTestType&&"proxy"!==e.connectedServer.country:0===n.currentTestType},e.testInProgress=function(){return 0<n.currentTestType},e.formattedDate=function(t){return new Date(t).toLocaleTimeString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})},e.getFormattedSpeed=function(t){return getCalculatedSpeed(t)},e.getNumberOfConnections=function(t){return t+" "+(1<t?s.instant("SETTINGSPANE.TESTSPEED.CONNECTIONS"):s.instant("SETTINGSPANE.TESTSPEED.CONNECTION"))},e.$on("closeSpeedTest",function(){e.showStreamPopup=!1})}]),angular.module("speedifyUI.components").directive("overviewPane",function(){return{scope:{sessionStats:"=",news:"=",selectedDuration:"@",hideHeader:"@"},restrict:"E",templateUrl:"panes/overview/overview.html",controller:"OverviewPaneCtrl"}}).controller("OverviewPaneCtrl",["$scope","spTranslate","speedifyAPI","$timeout","STAT_PERIODS","$interval","settingsRepository","userEventFunctions","matomo","audioPlayer",function(s,e,t,n,i,r,o,a,c,l){s.switchVal="month",s.currentDisplayedStats={},s.statsToShow=[],s.streamingSaves=0,s.updateInterval,s.init=function(){t.request_session_stats(),s.assignStatsObject(),s.filterBragsToShow(),s.updateInterval=r(function(){s.assignStatsObject(),s.filterBragsToShow()},5e3)},s.stopUpdating=function(){void 0!==s.updateInterval&&(r.cancel(s.updateInterval),s.updateInterval=void 0)},s.showHeader=function(){return void 0===s.hideHeader||!1===s.hideHeader},s.goToStatsPane=function(t,e){s.$emit("statsPane",{currentDuration:s.switchVal,currentStat:t,currentId:e})},s.assignStatsObject=function(){void 0===s.sessionStats&&n(function(){s.assignStatsObject()},500),s.selectedDuration&&(s.switchVal=s.selectedDuration),void 0!==s.sessionStats&&void 0!==s.switchValToStat(s.switchVal)&&void 0!==s.sessionStats[s.switchValToStat(s.switchVal)]&&(s.currentDisplayedStats=s.sessionStats[s.switchValToStat(s.switchVal)])},s.assignStreamSaves=function(){var t=(t=s.currentDisplayedStats.streaming.total_failover_saves)||0,e=(e=s.currentDisplayedStats.streaming.total_redundant_saves)||0,n=(n=s.currentDisplayedStats.streaming.total_speed_saves)||0;s.streamingSaves=t+e+n},s.switchValToStat=function(t){switch(t){case"day":return i.DAY;case"week":return i.WEEK;case"month":return i.MONTH;case"total":return i.TOTAL;default:return i.CURRENT}},s.isSelected=function(t){if(s.switchVal===t)return"darkText"},s.selected=function(t){c.trackEvent("statistics","view-duration",t),l.playSound("audio/general-tap.mp3",1,!0),s.switchVal=t,s.assignStatsObject(),s.filterBragsToShow()},s.hasCurrentMessages=function(){if(!(null==s.news||s.news<=0))return 0<a.notificationCenterMessages(s.news).length},s.hasStats=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&(void 0!==s.currentDisplayedStats.max_download_mbps&&0<s.currentDisplayedStats.max_download_mbps||void 0!==s.currentDisplayedStats.max_upload_mbps&&0<s.currentDisplayedStats.max_upload_mbps||void 0!==s.currentDisplayedStats.num_failovers&&0<s.currentDisplayedStats.num_failovers||void 0!==s.currentDisplayedStats.cp_benefit&&void 0!==s.currentDisplayedStats.cp_benefit.cp_success&&0<s.currentDisplayedStats.cp_benefit.cp_success)},s.hasConnectionsRescued=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&!(void 0===s.currentDisplayedStats.num_failovers||s.currentDisplayedStats.num_failovers<=0)},s.hasDataEncrypted=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&(void 0!==s.currentDisplayedStats.encrypted_bytes_recv||void 0!==s.currentDisplayedStats.encrypted_bytes_sent)&&0<s.currentDisplayedStats.encrypted_bytes_recv+s.currentDisplayedStats.encrypted_bytes_sent},s.hasMaxDownload=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&!(void 0===s.currentDisplayedStats.max_download_mbps||s.currentDisplayedStats.max_download_mbps<=0)},s.hasMaxUpload=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&!(void 0===s.currentDisplayedStats.max_upload_mbps||s.currentDisplayedStats.max_upload_mbps<=0)},s.hasStreamingSaves=function(){return void 0!==s.currentDisplayedStats&&0!==Object.keys(s.currentDisplayedStats).length&&!!(s.currentDisplayedStats.streaming.total_failover_saves||s.currentDisplayedStats.streaming.total_redundant_saves||s.currentDisplayedStats.streaming.total_speed_saves)&&(s.assignStreamSaves(),!0)},s.filterBragsToShow=function(){var t;s.statsToShow=[],void 0===s.sessionStats||0===Object.keys(s.currentDisplayedStats).length?n(function(){s.filterBragsToShow()},1e3):(s.hasStreamingSaves()&&(t={title:e.instant("SETTINGSPANE.STATISTICS.BRAGS.STREAMERGENCY"),id:"streaming_saves",value:s.streamingSaves,src:"components/settings-statistics/img/icon-stability-streamergencysaves.png"},s.statsToShow.push(t)),s.hasConnectionsRescued()&&(t={title:e.instant("SETTINGSPANE.STATISTICS.BRAGS.RESCUED"),value:s.currentDisplayedStats.num_failovers,id:"num_failovers",src:"components/settings-statistics/img/icon-stability-rescued.png"},s.statsToShow.push(t)),s.hasDataEncrypted()&&(t={title:e.instant("SETTINGSPANE.STATISTICS.BRAGS.DATAENCRYPTED"),id:"encrypted_bytes_recv",value:bytesToSize(s.currentDisplayedStats.encrypted_bytes_recv+s.currentDisplayedStats.encrypted_bytes_sent),src:"components/settings-statistics/img/icon-security-encrypted.png"},s.statsToShow.push(t)),s.hasMaxDownload()&&0<Math.round(s.currentDisplayedStats.max_download_mbps)&&(t={title:e.instant("SETTINGSPANE.STATISTICS.BRAGS.TOPDOWNLOADSPEED"),id:"max_download_mbps",value:Math.round(s.currentDisplayedStats.max_download_mbps)+" Mbps",src:"components/settings-statistics/img/icon-speed-download.png"},s.statsToShow.push(t)),s.hasMaxUpload()&&0<Math.round(s.currentDisplayedStats.max_upload_mbps)&&(t={title:e.instant("SETTINGSPANE.STATISTICS.BRAGS.TOPUPLOADSPEED"),id:"max_upload_mbps",value:Math.round(s.currentDisplayedStats.max_upload_mbps)+" Mbps",src:"components/settings-statistics/img/icon-speed-upload.png"},s.statsToShow.push(t)))},s.showNewsPane=function(){return!!(o&&o.vendor_local_settings&&o.hasSetVendorLocalSettings)&&o.vendor_local_settings.news_visibility},s.init(),s.$on("$destroy",function(){s.stopUpdating()})}]),angular.module("speedifyUI.components").directive("reviewPane",function(){return{scope:{},restrict:"E",templateUrl:"panes/review/review-pane.html",controller:"ReviewPaneCtrl"}}).controller("ReviewPaneCtrl",["$scope","platform",function(t,e){}]),angular.module("speedifyUI.components").directive("streamingPane",function(){return{scope:{streamingStats:"=",sessionStats:"="},restrict:"E",templateUrl:"panes/streaming/streaming-pane.html",controller:"StreamingPaneCtrl"}}).controller("StreamingPaneCtrl",["$scope","globals","spTranslate","settingsRepository","platform","STAT_PERIODS","branding","streamFunctions","speedifyAPI","testSpeed","matomo","audioPlayer",function(n,t,s,e,i,r,o,a,c,l,d,u){n.smallScreen=t.smallScreen,n.isMobile=i.identity.mobile,n.isActive=!0,n.activeSelection=[],n.saves={speed_saves:0,redundant_saves:0,failover_saves:0},n.numSaveTypes=0,n.totalSaves=0,n.switchVal="active",n.hasStreamingStats=function(){return null!=n.streamingStats&&0<n.streamingStats.streams.length},n.selected=function(t){n.switchVal=t,n.getSelectedValue()},n.getSelectedValue=function(){n.hasStreamingStats()&&(n.activeSelection=n.streamingStats.streams.filter(function(t){return t.active===("active"===n.switchVal)}))},n.isSelected=function(t){if(n.switchVal===t)return"darkText"},n.getTopInformation=function(t){if(n.hasStreamingStats())return n.hasStreamingName(t)?2===l.currentTestType?s.instant("SETTINGSPANE.TESTSPEED.LIVESTREAMTITLE"):t.name:n.formatDate(t.start_time)},n.hasStreamingName=function(t){return!(!n.hasStreamingStats()||!(t.name&&""!==t.name||2===l.currentTestType))},n.getCompletedStreams=function(){var t,e=0;return null!=n.sessionStats&&n.sessionStats[r.DAY]&&null!=(t=n.sessionStats[r.DAY]).streaming&&null!=t.streaming.total_streams&&(e=t.streaming.total_streams),s.instant("STREAMING.COMPLETED",{completed:e-n.getActiveStreamCount()})},n.goToStatsPane=function(t,e){n.$emit("statsPane",{currentDuration:"total",currentStat:s.instant("SETTINGSPANE.STATISTICS.BRAGS.STREAMS"),currentId:"streaming"})},n.getActiveStreamStatus=function(t){return s.instant("STREAMING.ACTIVE",{active:n.getActiveStreamCount()})},n.getActiveStreamCount=function(){return n.hasStreamingStats()?n.streamingStats.streams.filter(function(t){return!0===t.active}).length:0},n.formatDate=function(t){return moment.unix(t).format("MM/DD/YY")+" "+moment.unix(t).format("h:mm A")},n.getSpeed=function(t){return t<1?Math.round(1e3*t)+" Kbps":Math.floor(100*t)/100+" Mbps"},n.getDuration=function(t){return moment.utc(1e3*t).format("HH:mm:ss")},n.getTypeImg=function(t){return a.getTypeImg(t,n.streamingStats.badLoss,n.streamingStats.badLatency)},n.hasSaves=function(t){return 0<t.speed_saves||0<t.redundant_saves||0<t.failover_saves},n.countSaves=function(t){for(var e in n.totalSaves=0,n.numSaveTypes=0,n.saves)n.saves[e]=0,t&&0<t[e]&&(n.numSaveTypes+=1,n.totalSaves+=t[e],n.saves[e]=t[e])},n.getSaveName=function(t){switch(t){case"speed_saves":return s.instant("STREAMING.SPEEDSAVES");case"redundant_saves":return s.instant("STREAMING.REDUNDANTSAVES");case"failover_saves":return s.instant("STREAMING.FAILOVERSAVES")}},n.testInProgress=function(){return 0<l.currentTestType},n.startStreamTest=function(){n.testInProgress()||(u.playSound("audio/general-tap.mp3",1,!0),d.trackEvent("stream-pane","start-test"),c.start_stream_test(),i.identity.apple&&i.startStreamTest())},n.getStreamTitle=function(){return 2==l.currentTestType?s.instant("SETTINGSPANE.TESTSPEED.LIVESTREAMINPROGRESS"):s.instant("SETTINGSPANE.TESTSPEED.LIVESTREAMSTART")},n.share=function(t){d.trackEvent("stream-pane","share"),u.playSound("audio/general-tap.mp3",1,!0);var e=encodeURIComponent(t.name),e=o.url_settings.stream_share_url+"?streamtime="+t.start_time+"&streamlength="+t.duration+"&streamsource="+e+"&totalsaves="+n.totalSaves+"&slowsaves="+t.speed_saves+"&lagsaves="+t.redundant_saves+"&failoversaves="+t.failover_saves;i.share({isStreamShare:!0,referralUrl:"",referralText:s.instant("STREAMINGPOPUP.SHARE",{saves:n.totalSaves})+" "+e})}}]),angular.module("speedifyUI").run(["$templateCache",function(t){t.put("index.full.html",'<!DOCTYPE html>\n<html lang="en" ng-app="speedifyUI" ng-controller="speedifyUI" class="no-js">\n\n<head>\n  <meta charset="utf-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <title translate="SPEEDIFY"></title>\n  <meta name="description" content="">\n  <meta name="viewport"\n    content="width=device-width, initial-scale=1, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">\n  <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/normalize.css">\n  <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/main.css">\n  <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">\n  <link rel="stylesheet" href="app.css">\n  <link rel="stylesheet" href="tv.css">\n  <link rel="stylesheet" href="fonts/fonts.css">\n  <link rel="stylesheet" href="components/about/about.css">\n  <link rel="stylesheet" href="components/status-box/status-box.css">\n  <link rel="stylesheet" href="components/accountInfo/accountInfo.css">\n  <link rel="stylesheet" href="components/bubble-action/bubble-action.css">\n  <link rel="stylesheet" href="components/cover/cover.css">\n  <link rel="stylesheet" href="components/disconnect-prompt/disconnect-prompt.css">\n  <link rel="stylesheet" href="components/settings-theme/settings-theme.css">\n  <link rel="stylesheet" href="components/settings-language/settings-language.css">\n  <link rel="stylesheet" href="components/setting-server-list/setting-server-list.css">\n  <link rel="stylesheet" href="components/devtools/devtools.css">\n  <link rel="stylesheet" href="components/dropdown/dropdown.css">\n  <link rel="stylesheet" href="components/error/error.css">\n  <link rel="stylesheet" href="components/goforth/goforth.css">\n  <link rel="stylesheet" href="components/push-permission/push-permission.css">\n  <link rel="stylesheet" href="components/connect-startup-permission-popup/connect-startup-permission-popup.css">\n  <link rel="stylesheet" href="components/social-popup/social-popup.css">\n  <link rel="stylesheet" href="components/confetti-popup/confetti-popup.css">\n  <link rel="stylesheet" href="components/stream-popup/stream-popup.css">\n  <link rel="stylesheet" href="components/news-popup/news-popup.css">\n  <link rel="stylesheet" href="components/pas-popup/pas-popup.css">\n  <link rel="stylesheet" href="components/feature-upgrade-popup/feature-upgrade-popup.css">\n  <link rel="stylesheet" href="components/intro/intro.css">\n  <link rel="stylesheet" href="components/new-popup-container/newPopupContainer.css">\n  <link rel="stylesheet" href="components/loading/loading.css">\n  <link rel="stylesheet" href="components/loggen/loggen-display.css">\n  <link rel="stylesheet" href="components/nag-display/nag-display.css">\n  <link rel="stylesheet" href="components/network-dot/network-dot.css">\n  <link rel="stylesheet" href="components/network-limits/network-limits.css">\n  <link rel="stylesheet" href="components/network-wizard/network-wizard.css">\n  <link rel="stylesheet" href="components/networks-slider/networks-slider.css">\n  <link rel="stylesheet" href="components/omni-chart/omni-chart.css">\n  <link rel="stylesheet" href="components/one-pane/one-pane.css">\n  <link rel="stylesheet" href="components/dashboard/dashboard.css">\n  <link rel="stylesheet" href="components/lock-screen/lock-screen.css">\n  <link rel="stylesheet" href="components/onoffswitch/onoffswitch.css">\n  <link rel="stylesheet" href="components/passwordChange/passwordChange.css">\n  <link rel="stylesheet" href="components/popup-alert/popup-alert.css">\n  <link rel="stylesheet" href="components/slider-nav/slider-nav.css">\n  <link rel="stylesheet" href="components/settings-statistics/settings-statistics.css">\n  <link rel="stylesheet" href="components/settings-news/settings-news.css">\n  <link rel="stylesheet" href="components/settings-statistics-details/settings-statistics-details.css">\n  <link rel="stylesheet" href="components/streaming-bypass-popup/streaming-bypass-popup.css">\n  <link rel="stylesheet" href="components/productList/productList.css">\n  <link rel="stylesheet" href="components/tester/test-speed.css">\n  <link rel="stylesheet" href="components/purchase/purchase.css">\n  <link rel="stylesheet" href="components/captive-portal-popup/captive-portal-popup.css">\n  <link rel="stylesheet" href="components/register-login/register-login.css">\n  <link rel="stylesheet" href="components/review-prompt/review-prompt.css">\n  <link rel="stylesheet" href="components/settings/settings.css">\n  <link rel="stylesheet" href="components/settings-pane/settings-pane.css">\n  <link rel="stylesheet" href="components/settings-account/settings-account.css">\n  <link rel="stylesheet" href="components/settings-networks/settings-networks.css">\n  <link rel="stylesheet" href="components/settings-networks/settings-network-ip.css">\n  <link rel="stylesheet" href="components/settings-session/settings-pair-share-display.css">\n  <link rel="stylesheet" href="components/settings-session/settings-pair-share-qr.css">\n  <link rel="stylesheet" href="components/settings-session/settings-pair-share-request.css">\n  <link rel="stylesheet" href="components/settings-session/settings-session.css">\n  <link rel="stylesheet" href="components/settings-notifications/settings-notifications.css">\n  <link rel="stylesheet" href="components/settings-privacy/settings-privacy.css">\n  <link rel="stylesheet" href="components/premium-feature-header/premiumFeatureHeader.css">\n  <link rel="stylesheet" href="components/server-list/server-list.css">\n  <link rel="stylesheet" href="components/cell-wizard/cell-wizard.css">\n  <link rel="stylesheet" href="components/slider-control/slider-control.css">\n  <link rel="stylesheet" href="panes/overview/overview.css">\n  <link rel="stylesheet" href="panes/streaming/streaming-pane.css">\n  <link rel="stylesheet" href="components/desktop-store-nags/desktop-store-nags.css">\n  <link rel="stylesheet" href="components/test-speed-popup/test-speed-popup.css">\n  <link rel="stylesheet" href="components/settings-window-location/settings-window-location.css">\n  <link rel="stylesheet" href="components/settings-graph-rotation/settings-graph-rotation.css">\n</head>\n\n<body>\n  <script src="libs/bundle.tracing.min.js"><\/script>\n  <script src="bower_components/jquery/dist/jquery.min.js"><\/script>\n  <script src="bower_components/jquery-ui/jquery-ui.min.js"><\/script>\n  <script src="bower_components/angular/angular.min.js"><\/script>\n  <script src="bower_components/angular-animate/angular-animate.min.js"><\/script>\n  <script src="bower_components/moment/min/moment.min.js"><\/script>\n  <script src="bower_components/angular-material/angular-material.min.js"><\/script>\n  <script src="bower_components/angular-aria/angular-aria.min.js"><\/script>\n  <script src="bower_components/angular-sanitize/angular-sanitize.min.js"><\/script>\n  <script src="bower_components/angular-bind-html-compile/angular-bind-html-compile.js"><\/script>\n  <script src="bower_components/angular-progress-arc/angular-progress-arc.min.js"><\/script>\n  <script src="bower_components/angular-translate/angular-translate.min.js"><\/script>\n  <script src="bower_components/messageformat/messageformat.min.js"><\/script>\n  <script src="bower_components/qrcode/lib/qrcode.min.js"><\/script>\n  <script src="bower_components/angular-qr/angular-qr.min.js"><\/script>\n  <script\n    src="bower_components/angular-translate-interpolation-messageformat/angular-translate-interpolation-messageformat.min.js"><\/script>\n  <script\n    src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js"><\/script>\n  <script src="bower_components/fontfaceobserver/fontfaceobserver.standalone.js"><\/script>\n\n  <script src="libs/debugout.js"><\/script>\n  <script src="libs/ws_events_dispatcher.js"><\/script>\n\n  <script src="app.js"><\/script>\n\n  <script src="common/accounting.js"><\/script>\n  <script src="common/audioPlayer.js"><\/script>\n  <script src="common/branding.js"><\/script>\n  <script src="common/bypass.js"><\/script>\n  <script src="common/colorsave.js"><\/script>\n  <script src="common/dataScaling.js"><\/script>\n  <script src="common/debug.js"><\/script>\n  <script src="common/externalLinks.js"><\/script>\n  <script src="common/globals.js"><\/script>\n  <script src="common/graphcommon.js"><\/script>\n  <script src="common/disconnectNotificationFunctions.js"><\/script>\n  <script src="common/language.js"><\/script>\n  <script src="common/userEventFunctions.js"><\/script>\n  <script src="common/weeklyReportFunctions.js"><\/script>\n  <script src="common/learnmore.js"><\/script>\n  <script src="common/matomoutil.js"><\/script>\n  <script src="common/mosFunctions.js"><\/script>\n  <script src="common/pairAndShare.js"><\/script>\n  <script src="common/performanceTestFunctions.js"><\/script>\n  <script src="common/networkAdapterFunctions.js"><\/script>\n  <script src="common/permissions.js"><\/script>\n  <script src="common/policies.js"><\/script>\n  <script src="common/products.js"><\/script>\n  <script src="common/prompts.js"><\/script>\n  <script src="common/sentry.js"><\/script>\n  <script src="common/serverFunctions.js"><\/script>\n  <script src="common/settingsRepository.js"><\/script>\n  <script src="common/simulateTunnelData.js"><\/script>\n  <script src="common/speedifyapi.js"><\/script>\n  <script src="common/spTranslate.js"><\/script>\n  <script src="common/streamFunctions.js"><\/script>\n  <script src="common/testSpeed.js"><\/script>\n  <script src="common/tunnelRepository.js"><\/script>\n  <script src="common/tv-focus-manager.js"><\/script>\n  <script src="common/review-manager.js"><\/script>\n  <script src="common/updates.js"><\/script>\n  <script src="common/urlargs.js"><\/script>\n  <script src="common/windowEvents.js"><\/script>\n\n  <script src="components/about/about.js"><\/script>\n  <script src="components/accountInfo/accountInfo.js"><\/script>\n  <script src="components/bubble-action/bubble-action.js"><\/script>\n  <script src="components/cover/cover.js"><\/script>\n  <script src="components/status-box/status-box.js"><\/script>\n  <script src="components/devtools/devtools.js"><\/script>\n  <script src="components/dropdown/dropdown.js"><\/script>\n  <script src="components/error/error.js"><\/script>\n  <script src="components/goforth/goforth.js"><\/script>\n  <script src="components/disconnect-prompt/disconnect-prompt.js"><\/script>\n  <script src="components/setting-server-list/setting-server-list.js"><\/script>\n  <script src="components/push-permission/push-permission.js"><\/script>\n  <script src="components/connect-startup-permission-popup/connect-startup-permission-popup.js"><\/script>\n  <script src="components/social-popup/social-popup.js"><\/script>\n  <script src="components/confetti-popup/confetti-popup.js"><\/script>\n  <script src="components/stream-popup/stream-popup.js"><\/script>\n  <script src="components/news-popup/news-popup.js"><\/script>\n  <script src="components/pas-popup/pas-popup.js"><\/script>\n  <script src="components/feature-upgrade-popup/feature-upgrade-popup.js"><\/script>\n  <script src="components/desktop-store-nags/desktop-store-nags.js"><\/script>\n  <script src="components/intro/intro.js"><\/script>\n  <script src="components/loading/loading.js"><\/script>\n  <script src="components/settings-theme/settings-theme.js"><\/script>\n  <script src="components/settings-sounds/settings-sounds.js"><\/script>\n  <script src="components/settings-language/settings-language.js"><\/script>\n  <script src="components/loggen/loggen.js"><\/script>\n  <script src="components/nag-display/nag-display.js"><\/script>\n  <script src="components/network-dot/network-dot.js"><\/script>\n  <script src="components/network-limits/network-limits.js"><\/script>\n  <script src="components/network-wizard/network-wizard.js"><\/script>\n  <script src="components/networks-slider/networks-slider.js"><\/script>\n  <script src="components/omni-chart/omni-chart.js"><\/script>\n  <script src="components/dashboard/dashboard.js"><\/script>\n  <script src="components/lock-screen/lock-screen.js"><\/script>\n  <script src="components/one-pane/one-pane.js"><\/script>\n  <script src="components/cell-wizard/cell-wizard.js"><\/script>\n  <script src="components/onoffswitch/onoffswitch.js"><\/script>\n  <script src="components/overlimit-popup/overlimit-popup.js"><\/script>\n  <script src="components/streaming-bypass-popup/streaming-bypass-popup.js"><\/script>\n  <script src="components/passwordChange/passwordChange.js"><\/script>\n  <script src="components/popup-alert/popup-alert.js"><\/script>\n  <script src="components/slider-nav/slider-nav.js"><\/script>\n  <script src="components/productList/productList.js"><\/script>\n  <script src="components/purchase/purchase.js"><\/script>\n  <script src="components/register-login/register-login.js"><\/script>\n  <script src="components/review-prompt/review-prompt.js"><\/script>\n  <script src="components/server-list/server-list.js"><\/script>\n  <script src="components/settings-pane/settings-pane.js"><\/script>\n  <script src="components/settings-networks/settings-networks.js"><\/script>\n  <script src="components/new-popup-container/newPopupContainer.js"><\/script>\n  <script src="components/settings-account/settings-account.js"><\/script>\n  <script src="components/settings-statistics/settings-statistics.js"><\/script>\n  <script src="components/settings-news/settings-news.js"><\/script>\n  <script src="components/settings-statistics-details/settings-statistics-details.js"><\/script>\n  <script src="components/captive-portal-popup/captive-portal-popup.js"><\/script>\n  <script src="components/settings-networks/settings-network-priority.js"><\/script>\n  <script src="components/settings-networks/settings-network-overlimit.js"><\/script>\n  <script src="components/settings-networks/settings-network-ratelimit.js"><\/script>\n  <script src="components/settings-networks/settings-network-ip.js"><\/script>\n  <script src="components/settings-session/settings-session.js"><\/script>\n  <script src="components/settings-session/settings-pair-share-display.js"><\/script>\n  <script src="components/settings-session/settings-pair-share-qr.js"><\/script>\n  <script src="components/settings-session/settings-pair-share-request.js"><\/script>\n  <script src="components/settings-session/settings-pair-share-control.js"><\/script>\n  <script src="components/settings-session/settings-pair-share-auto-pair.js"><\/script>\n  <script src="components/settings-session/settings-pair-receive-control.js"><\/script>\n  <script src="components/settings-notifications/settings-notifications.js"><\/script>\n  <script src="components/settings-privacy/settings-privacy.js"><\/script>\n  <script src="components/slider-control/slider-control.js"><\/script>\n  <script src="components/tester/test-speed.js"><\/script>\n  <script src="components/test-speed-popup/test-speed-popup.js"><\/script>\n  <script src="components/premium-feature-header/premiumFeatureHeader.js"><\/script>\n  <script src="components/settings-graph-rotation/settings-graph-rotation.js"><\/script>\n  <script src="components/settings-window-location/settings-window-location.js"><\/script>\n  <script src="panes/overview/overview.js"><\/script>\n  <script src="panes/streaming/streaming-pane.js"><\/script>\n  <script src="panes/review/review-pane.js"><\/script>\n\n  \x3c!-- platform --\x3e\n  <script src="components/platform/purchasing.js"><\/script>\n  <script src="components/platform/platform.js"><\/script>\n\n  <one-pane></one-pane>\n\n</body>\n\n</html>'),t.put("index.min.html",'<!DOCTYPE html>\n<html lang="en" ng-app="speedifyUI" ng-controller="speedifyUI" class="no-js">\n\n<head>\n  <meta charset="utf-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <title translate="SPEEDIFY"></title>\n  <meta name="description" content="">\n  <meta name="viewport"\n    content="width=device-width, initial-scale=1, minimum-scale=1.0, user-scalable=no,viewport-fit=cover">\n  <link rel="shortcut icon" href="speedify.png" />\n  <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/normalize.css">\n  <link rel="stylesheet" href="bower_components/html5-boilerplate/dist/css/main.css">\n  <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">\n  <link rel="stylesheet" href="app.min.css">\n</head>\n\n<body>\n  <script src="libs/bundle.tracing.min.js"><\/script>\n  <script src="bower_components/jquery/dist/jquery.min.js"><\/script>\n  <script src="bower_components/jquery-ui/jquery-ui.min.js"><\/script>\n  <script src="bower_components/angular/angular.min.js"><\/script>\n  <script src="bower_components/angular-animate/angular-animate.min.js"><\/script>\n  <script src="bower_components/angular-material/angular-material.min.js"><\/script>\n  <script src="bower_components/angular-aria/angular-aria.min.js"><\/script>\n  <script src="bower_components/angular-sanitize/angular-sanitize.min.js"><\/script>\n  <script src="bower_components/angular-bind-html-compile/angular-bind-html-compile.js"><\/script>\n  <script src="bower_components/angular-progress-arc/angular-progress-arc.min.js"><\/script>\n  <script src="bower_components/angular-translate/angular-translate.min.js"><\/script>\n  <script src="bower_components/messageformat/messageformat.min.js"><\/script>\n  <script src="bower_components/moment/min/moment.min.js"><\/script>\n  <script src="bower_components/qrcode/lib/qrcode.min.js"><\/script>\n  <script src="bower_components/angular-qr/angular-qr.min.js"><\/script>\n  <script\n    src="bower_components/angular-translate-interpolation-messageformat/angular-translate-interpolation-messageformat.min.js"><\/script>\n  <script\n    src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.min.js"><\/script>\n  <script src="bower_components/fontfaceobserver/fontfaceobserver.standalone.js"><\/script>\n\n  <script src="libs/debugout.js"><\/script>\n  <script src="libs/ws_events_dispatcher.js"><\/script>\n\n  <script src="app.min.js"><\/script>\n\n  <one-pane></one-pane>\n\n</body>\n\n</html>'),t.put("components/about/about.html",'<div id="aboutScreen" class="settings-account-container">\r\n\t<div class=\'settings-account-header-container\'>\r\n\t\t<img img-retry src="components/about/img/speedifyIcon.png" class="about-icon" alt="speedify logo" />\r\n\t\t<div class="about-header-text darkText">{{::(\'SPEEDIFY\' | spTranslate)}}</div>\r\n\t\t<div>\r\n\t\t\t<span class="account-subtitle">{{::(\'SETTINGSPANE.ACCOUNT.VERSION\' | spTranslate)}}</span><span\r\n\t\t\t\tng-if="versionStr" class="account-subtitle" ng-bind="versionStr"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div id="content">\r\n\t\t<div class="content-child" ng-click="launchTwitter()">\r\n\t\t\t<img img-retry src="components/about/img/twitterIcon.png" class="stats-icon" />\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{getTwitterHandler()}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-click="launchInstagram()">\r\n\t\t\t<img img-retry src="components/about/img/instagramIcon.png" class="stats-icon" />\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'SOCIALPOPUP.FOLLOWUS\' | spTranslate)}} Instagram<br />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-click="launchYouTube()">\r\n\t\t\t<img img-retry src="components/about/img/youtubeIcon.png" class="stats-icon" />\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'SOCIALPOPUP.SUBSCRIBEON\' | spTranslate)}} YouTube<br />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-if="allowReview()" ng-click="doReview()">\r\n\t\t\t<img img-retry src="components/about/img/rateIcon.png" class="stats-icon" />\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{getRateText()}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div id="content" class="section-padding">\r\n\t\t<div class="content-child" ng-click="launchPrivacy()">\r\n\t\t\t{{::(\'HELP.MENU.PRIVACY\' | spTranslate)}}\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-click="launchTos()">\r\n\t\t\t{{::(\'HELP.MENU.TOS\' | spTranslate)}}\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-click="launchCredits()">\r\n\t\t\t{{::(\'HELP.MENU.CREDITS\' | spTranslate)}}\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/accountInfo/accountInfo.html",'<div ng-class="{trimAccountSpacing:useSmallSpacing,hoverableText:isClickable(),normalText:!useSmallSpacing}" ng-click="emailClick()">\n\t<div id="accountInfo-email" class="text-single">\n\t\t<span class="accountInfo-email-display bold" ng-bind="getEmail()" ></span>\n\t</div>\n\t<div id="accountInfo-usage" class="text-single xsmallText thinText">\n\t\t<div ng-class="getUsageClasses()">\n\t\t\t<span id="accountInfo-usageText" ng-if="showUsageText()" ng-bind-html="getUsageText()" ng-attr-title="{{getUsageTitle()}}"></span>\n\t\t\t<span ng-if="showPeriodEndText()" >  <span id="accountInfo-periodText"  ng-bind="getPeriodEndText()"></span></span>\n\t\t</div>\n\t\t<div id="accountInfo-subEnd" class="text-single" ng-if="showSubEnd()" ng-bind="getSubEnd()"></div>\n\t</div>\n</div>\n'),t.put("components/bubble-action/bubble-action.html",'<div class="bubbleAction" ng-class="getArrowClass()" tv-focus-stack>\r\n  <div class="bubbleArrow" positioned position-string="position">\r\n  </div>\r\n  <div class="bubbleContent" positioned position-string="position">\r\n    <div ng-click="dismissClicked()">\r\n      <div ng-if="content!=\'undefined\'" bind-html-compile="unescape(content)"></div>\r\n      <div ng-if="content==\'undefined\'">\r\n        <div class="bubbleTitle normalText darkText bold text-multi" ng-bind-html="::unescape(header)"/>\r\n        <div class="bubbleMessage smallText lightText smallerSpacing text-multi" ng-bind-html="::unescape(message)" tv-auto-focus/>\r\n        <div class="bubbleActionText smallText linkBlue smallerSpacing text-multi hoverableText" ng-bind-html="::unescape(actionText)" ng-click="actionClicked()" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),t.put("components/captive-portal-popup/captive-portal-popup.html",'<div id="captivePortalPopup" class="new-popup-background">\n\t<div class="cp-popup-container" ng-class="{willClose:willClose}" tv-focus-stack>\n\t\t<div class="cp-popup-inner popUpGColor">\n\t\t\t<div ng-class="{ \'sp-image-container-margin-regular\': !smallScreen, \'cp-image-container-margin-small\': smallScreen  }"\n\t\t\t\tclass="cp-image-container">\n\t\t\t\t<img class="cp-image" src="components/captive-portal-popup/img/captivePortal.png"></img>\n\t\t\t</div>\n\t\t\t<div class="cp-text-container">\n\t\t\t\t<div class="cp-title bold darkText" ng-bind="getTitle()">\n\t\t\t\t</div>\n\t\t\t\t<div class="cp-description darkText text-multiple thinText smallerSpacing">\n\t\t\t\t\t{{::(\'CAPTIVEPORTALPOPUP.DESCRIPTION\' | spTranslate)}}<br />\n\t\t\t\t</div>\n\t\t\t\t<div class="cp-lower-button hoverable" tv-auto-focus ng-click="connectToCP()">\n\t\t\t\t\t<div class="cp-lower-button-description text-multiple semibold  smallerSpacing">\n\t\t\t\t\t\t{{::(\'CAPTIVEPORTALPOPUP.CONNECTBUTTON\' | spTranslate)}}<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="cp-lower-button cp-lower-maybe hoverable" tv-auto-focus ng-click="dismiss()">\n\t\t\t\t\t<div class="cp-lower-button-description cp-lower-maybe-text text-multiple semibold smallerSpacing">\n\t\t\t\t\t\t{{::(\'CAPTIVEPORTALPOPUP.CONTINUEBUTTON\' | spTranslate)}}<br />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div id="overlay"></div>'),t.put("components/cell-wizard/cell-wizard.html",'<div id="cellWizard" class="newpop-text-container">\n\t<div class="newpop-title">\n\t\t{{::\'WIZARD.HEADER\' | spTranslate:getMainSubs()}}\n\t</div>\n</div>\n<div class="newpop-image-container">\n\t<img class="newpop-image-top" src="components/cell-wizard/img/cellIcon.png" aria-hidden="true"></img>\n</div>\n<div ng-if="step==0">\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-description smallerSpacing goforth-description-header">\n\t\t\t{{::\'WIZARD.DOYOU\' | spTranslate}}\n\t\t</div>\n\t\t<div class="newpop-description smallerSpacing mLR17 mB17">\n\t\t\t{{::(\'WIZARD.DESC\' | spTranslate:getMainSubs())}}\n\t\t</div>\n\t</div>\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-description smallerSpacing mLR17">\n\t\t\t{{::\'WIZARD.SET\' | spTranslate}}\n\t\t</div>\n\t</div>\n\t<div class="newpop-button hoverable mB17 cellPopup topButton topButtonNoChoice" tv-auto-focus ng-click="yes()">\n\t\t<div ng-class="getButtonTextSize()"\n\t\t\tclass="newpop-lower-button-description text-multiple bold smallText blueLinkText">\n\t\t\t{{::\'WIZARD.YESCAPS\' | spTranslate}}<br />\n\t\t</div>\n\t</div>\n\t<div class="newpop-button newpop-lower-button hoverable cellPopup" tv-auto-focus ng-click="no()">\n\t\t<div ng-class="getButtonTextSize()" class="newpop-lower-button-description text-multiple bold smallText">\n\t\t\t{{::\'WIZARD.NOCAPS\' | spTranslate}}<br />\n\t\t</div>\n\t</div>\n</div>\n<div ng-if="step==1">\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-description smallerSpacing goforth-description-header mLR17 mB17">\n\t\t\t{{::(\'WIZARD.GREAT\' | spTranslate:getMainSubs())}}\n\t\t</div>\n\t\t<div class="smallText">\n\t\t\t<span class="bold">{{::(\'WIZARD.DAILY\' | spTranslate:getMainSubs())}}: </span><span\n\t\t\t\tng-bind="::getDailyText()"></span>\n\t\t</div>\n\t\t<div class="smallText">\n\t\t\t<span class="bold">{{::(\'WIZARD.MONTHLY\' | spTranslate:getMainSubs())}}: </span><span\n\t\t\t\tng-bind="::getMonthlyText()"></span>\n\t\t</div>\n\t\t<br>\n\t\t<div class="smallText">\n\t\t\t{{::(\'WIZARD.CHANGE\' | spTranslate:getMainSubs())}}\n\t\t</div>\n\t\t<br>\n\t\t<br>\n\t\t<br>\n\t\t<div class="newpop-button newpop-lower-button hoverable cellPopup" tv-auto-focus ng-click="no()">\n\t\t\t<div class="newpop-lower-button-description text-multiple bold smallText">\n\t\t\t\t{{::(\'WIZARD.GOTIT\' | spTranslate)}}<br />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),t.put("components/confetti-popup/confetti-popup.html",'\n<div id="weeklyStatsPopup" class="newpop-text-container">\n\t<div class="normalText mB10 smallerSpacing">\n\t\t{{::(\'WEEKLYSTATSPOPUP.SMALLTITLE\' | spTranslate)}}\n\t</div>\n</div>\n\n<div class="newpop-text-container">\n\t<div class="newpop-title">\n\t\t{{popupTitle}}\n\t</div>\n</div>\n<div class="newpop-image-container">\n\t<img class="confetti-popup-image" ng-src="{{popupImage}}" aria-hidden="true"></img>\n</div>\n<div class="newpop-text-container">\n\t<div class="newpop-description  smallerSpacing">\n\t\t{{popupDesc}}\n\t</div>\n</div>\n\n<div ng-if="showShareButton" class="social-button mt20 confetti-share hoverable" tv-auto-focus ng-click="share()"> \n\t<div class=" text-multiple bold  smallerSpacing">\n\t\t{{::(\'ACCCTRL.SHARE\' | spTranslate)}}<br />\n\t</div>\n</div>\n<div class="social-button mt10 confetti-cancel hoverable" tv-auto-focus ng-click="dismissWeeklyStatsPopup()">\n\t<div class="text-multiple semibold  smallerSpacing">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.CLOSE\' | spTranslate)}}<br />\n\t</div>\n</div>\n'),t.put("components/connect-startup-permission-popup/connect-startup-permission-popup.html",'<div id="connectStartupPermission" class="newpop-text-container">\n\t<div ng-if="!isIntro" class="newpop-title">\n\t\t{{::(\'SERVERS.OPTIONS.STARTUP\' | spTranslate)}}\n\t</div>\n\t<div ng-if="isIntro" class="newpop-title">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.INTRO.HEADER\' | spTranslate)}}\n\t</div>\n</div>\n<div class="newpop-image-container">\n\t<img class="newpop-image-top" src="components/connect-startup-permission-popup/img/connectStartupIcon.png" aria-hidden="true"></img>\n</div>\n<div class="newpop-text-container">\n\t<div ng-if="isIntro" class="newpop-description mLR17 smallerSpacing goforth-description-header">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.INTRO.TITLE\' | spTranslate)}}\n\t</div>\n\t<div ng-if="!isIntro" class="newpop-description smallerSpacing" ng-bind-html="::getTitle()"></div>\n\t<div ng-if="isIntro" class="newpop-description smallerSpacing">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.INTRO.DESCRIPTION\' | spTranslate)}}\n\t</div>\n</div>\n<br>\n<br>\n<br>\n<div class="newpop-button newpop-lower-button hoverable"  tv-auto-focus\n\tng-click="runConnectStartupPermission()">\n\t<div  ng-if="isIntro" class="newpop-lower-button-description text-multiple semibold smallText smallerSpacing">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.INTRO.ACTIONBUTTON\' | spTranslate)}}<br />\n\t</div>\n\t<div  ng-if="!isIntro" class="newpop-lower-button-description text-multiple semibold smallText smallerSpacing">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.ACTIONBUTTON\' | spTranslate)}}<br />\n\t</div>\n</div>\n<div class="newpop-button newpop-lower-button hoverable popUpGColor pp-dismiss-button" tv-auto-focus\n\tng-click="dismiss()">\n\t<div ng-if="isIntro" class="newpop-lower-button-description text-multiple semibold smallText smallerSpacing darkText pp-dismiss-button">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.INTRO.DISMISSBUTTON\' | spTranslate)}}<br />\n\t</div>\n\t<div ng-if="!isIntro" class="newpop-lower-button-description text-multiple semibold smallText smallerSpacing darkText pp-dismiss-button">\n\t\t{{::(\'CONNECTSTARTUPERMISSION.DISMISSBUTTON\' | spTranslate)}}<br />\n\t</div>\n</div>'),t.put("components/cover/cover.html",'\r\n<div ng-if="show" class="cover" ng-class="::{full:full,shade:shade,noClick:takesClicks===false}">\r\n\t<spinner ng-if="isMobile()"  class="cover-loader" color="color" size="\'4px\'"></spinner>\r\n\t<div ng-if="message && !isMobile()" ng-bind="::message" class="cover-message largeText"></div>\r\n\t\x3c!-- <button ng-if="message" ng-bind="::message" class="button cover-message largeText bold"></button> --\x3e\r\n</div>\r\n'),t.put("components/dashboard/dashboard.html",'<div id="dashboard">\n  <div id="onePaneContent"\n    ng-class="{offsetBottom:!isUnlimited(), noSpaceToBottom:isUnlimited(), leftDivider:shouldSplit,dash:shouldSplit }"\n    class="mainBackground ">\n    <disconnect-prompt ng-if="showDisconnectPrompt" streams="currentStreams" class="prompt"></disconnect-prompt>\n    <status-box connected-time="connectedTimeFormatted" ng-if="!isServerOpen() || isDualPane()"\n      streaming-stats="streamingStats" language-style="languageStyle" id="statusBox" running="running"\n      connected="getDaemonConnected()" current-state="$parent.currentState" pending-attempt="$parent.pendingAttempt"\n      last-login-error-type="$parent.lastLoginErrorType" last-login-error-message="$parent.lastLoginErrorMessage"\n      connected-server="connectedServer"></status-box>\n    <div class="networks-slider">\n      <networks-slider connected-server="connectedServer" current-state="$parent.currentState"\n        ng-if="shouldShowNetworks()" id="opNetworkSlider" networks="globals.networks"\n        configure-network="configureThisNetwork(network.guid)">\n      </networks-slider>\n    </div>\n\n    <div id="dashboardBypass" class="mt20">\n      <div class="text-single" ng-if="showDashPas()">\n        <div class="segment-header darkText"> {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICES\' | spTranslate}}\n        </div>\n        <div class="segment-options xsmallText darkText40">\n          <div class="options upper darkText">\n            {{getActivePairAndShareDevices()}}</div>\n          <div ng-if="discoveredDevices().length > 0" class="options upper left-option manageBypass"\n            ng-class="resetSwitch()" ng-click="sendToPas()">\n            {{discoveredDevices().length}}\n            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DISCOVERED\' | spTranslate}}</div>\n          <div class="options upper left-option manageBypass" ng-class="resetSwitch()" ng-click="sendToPas()">\n            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.MANAGE\' | spTranslate}}</div>\n        </div>\n\n        \x3c!-- Active Paired Device --\x3e\n        <div id="content" ng-if="activePairedDevices().length > 0">\n          <div class="content-child pairShareChild" ng-repeat="device in activePairedDevices() track by $index">\n            <div class="flex" ng-click="configurePasDevice(device)">\n              <div class="pasIconHolder">\n                <div class="news-image" ng-style="{\'background-color\': getColor(device)}">\n                  <img class="news-image" img-retry ng-src="{{getShareIcon(device)}}" aria-hidden="true"></img>\n                </div>\n              </div>\n              <div class="flex column">\n                <div class="xsmallText tapPair">\n                  {{getDeviceSettingTitle(device)}}\n                </div>\n                <div class="mt2 smallText">\n                  {{device.display_name}}\n                </div>\n              </div>\n            </div>\n            <div class="interaction-image"></div>\n          </div>\n        </div>\n\n        \x3c!-- No Active Paired peers but has paired in the past and has a discovered peer --\x3e\n        <div id="content"\n          ng-if="activePairedDevices().length === 0 && pairAndShare.pairedDevices.length > 0 && discoveredDevices().length > 0">\n          <div class="content-child pairShareChild">\n            <div class="flex" ng-click="goToAndActivatePas()">\n              <div class="pasIconHolder">\n                <div class="news-image">\n                  <img class="news-image" img-retry src="components/dashboard/img/noPairedIcon.png"\n                    aria-hidden="true"></img>\n                </div>\n              </div>\n              <div class="flex column">\n                <div class="smallText">\n                  {{getDiscoveredTitle()}}\n                </div>\n                <div class="mt5 xsmallText tapPair">\n                  {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.NEWPEERSUBTITLE\'\n                  |\n                  spTranslate}}\n                </div>\n              </div>\n            </div>\n            <div class="interaction-image"></div>\n          </div>\n        </div>\n\n        \x3c!-- No Active Paired peers but has paired in the past and has no discovered peer --\x3e\n        <div id="content"\n          ng-if="activePairedDevices().length === 0 && pairAndShare.pairedDevices.length > 0 && discoveredDevices().length === 0 && currentState === SPEEDIFY_STATES.CONNECTED">\n          <div class="content-child pairShareChild">\n            <div class="flex" ng-click="goToAndActivatePas()">\n              <div class="pasIconHolder">\n                <div class="news-image">\n                  <img class="news-image" img-retry src="components/dashboard/img/noPairedIcon.png"\n                    aria-hidden="true"></img>\n                </div>\n              </div>\n              <div class="flex column">\n                <div class=" smallText">\n                  {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.NOPAIREDTITLE\'\n                  |\n                  spTranslate}}\n                </div>\n                <div class="mt5 xsmallText tapPair">\n                  {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.NOPAIREDSUBTITLE\'\n                  |\n                  spTranslate}}\n                </div>\n              </div>\n            </div>\n            <div class="interaction-image"></div>\n          </div>\n        </div>\n\n        \x3c!-- Never paired with a device before --\x3e\n        <div id="content" ng-if="pairAndShare.pairedDevices.length === 0">\n          <div ng-class="getConnectedStateClass()" class="secondaryBackground flex flexCenter column">\n            <img class="pasDashIcon mt10" img-retry ng-src="{{getPasDashIcon()}}" aria-hidden="true"></img>\n            <div class="mt10 ml16 mr16 pasDashText xsmallText">\n              {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.TITLE\'\n              |\n              spTranslate}}</div>\n            <div ng-if="currentState === SPEEDIFY_STATES.CONNECTED"\n              class="pasDashButton unlimitedAccount whiteText center flexCenter bold" ng-click="goToAndActivatePas()">\n              <span ng-if="pairAndShare.receivingIsEnabled()">\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.BUTTONTEXT\'\n                |\n                spTranslate}}\n              </span>\n              <span ng-if="!pairAndShare.receivingIsEnabled()">\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DASHBOARD.BUTTONTEXTNORECEIVE\'\n                |\n                spTranslate}}\n              </span>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if=" showStreamingPane()" class="streaming-box">\n        <streaming-pane session-stats="sessionStats" id="streamingPane" ng-class="getPaneClassFor(\'streamingPane\')"\n          ng-style="getStyleFor(\'streamingPane\')" streaming-stats="streamingStats"></streaming-pane>\n        <div class="mt10 flex align-center description xsmallText">\n          <div class=sl-premium-desc> {{::(\'SETTINGSPANE.TESTSPEED.LIVESTREAMPANEDESC\' | spTranslate)}}\n          </div>\n        </div>\n      </div>\n      <div id="dashboardBypass" ng-if="bypassEnabled()" class="mt10">\n        <div class="darkText text-single">\n          <div class="segment-header darkText">{{::(\'SETTINGSPANE.STREAMINGBYPASS.HEADER\' | spTranslate)}}\n          </div>\n          <div class="segment-options xsmallText darkText40">\n            <div class="options upper" ng-class="isSelected(\'suggestions\')" ng-click="selected(\'suggestions\')">\n              {{::(\'SETTINGSPANE.STREAMINGBYPASS.SUGGESTIONS\' | spTranslate)}}</div>\n            <div class="options upper left-option manageBypass" ng-class="resetSwitch()" ng-click="goToBypassPane()">\n              {{getBypassCountString()}}</div>\n          </div>\n        </div>\n        <div class="center" ng-if="!hasSuggestedBypassOptions()">\n          <div id="content" ng-click="goToBypassPane()">\n            <div class="interaction-toggle">\n              <div class="content-child">\n                <div class="content-name flex">\n                  <img class="bypassSuggestionIcon" img-retry\n                    src="components/dashboard/img/bypassSuggestionMonitor.png" />\n                  <div>\n                    <div class="darkText no-streaming-stats-text">\n                      {{::(\'SETTINGSPANE.STREAMINGBYPASS.NOSUGGESTIONS\' | spTranslate)}}\n                    </div>\n                    <div ng-if="!hasSuggestedBypassOptions()" class="xsmallText no-streaming-stats-subtitle mt5">\n                      {{::(\'SETTINGSPANE.STREAMINGBYPASS.DASHBOARDDESC\' | spTranslate)}}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="center" ng-if="hasSuggestedBypassOptions()">\n          <div id="content">\n            <div class="content-child" ng-repeat="title in suggestedBypassList track by $index"\n              ng-click="allowBypass(title, $index)" ng-class="{\'fade-out\': $index === selectedIndex}">\n              <div class="content-name">\n                {{title}}\n              </div>\n              <div class="interaction-toggle">\n                <div class="customRadio">\n                  <img ng-if="$index === selectedIndex" class="customRadio" img-retry\n                    src="components/settings-privacy/img/radioCheck.png" />\n                  <div ng-if="$index !== selectedIndex" class="customRadio notEnabled"> </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="mt10 flex align-center description xsmallText">\n          <div class=sl-premium-desc> {{::(\'SETTINGSPANE.STREAMINGBYPASS.DASHBOARDINFO\' | spTranslate)}}\n          </div>\n        </div>\n      </div>\n      <overview-pane id="statPane" session-stats="sessionStats" news="currentNewsEvents">\n      </overview-pane>\n    </div>\n  </div>\n</div>'),t.put("components/desktop-store-nags/desktop-store-nags.html",'\n<img class="dn-image" src="components/nag-display/img/speedify100nag.png"></img>\n<div class="dn-header darkText semibold">\n\t{{::(\'DESKTOPSTORENAGS.HEADER\' | spTranslate)}}\n</div>\n<div class="dn-text-container">\n\t<div class="normalText bold linkPink text-center">{{::(\'UPSELL.SECONDARYHEADER.USAGE100\' | spTranslate)}}</div>\n\t<div class="dn-description text-multiple thinText smallerSpacing">\n\t\t{{::(\'UPSELL.DESCRIPTION.USAGE100\' | spTranslate)}}<br />\n\t</div>\n\t</div>\n</div>\n<div class="dn-lower">\n\t<div class="dn-lower-button hoverable" tv-auto-focus ng-click="sendToStore()">\n\t\t<div class="dn-lower-button-description normalText text-multiple semibold  smallerSpacing">\n\t\t\t{{::(\'INTRO.PERMISSIONS.COMPLETE\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n  <div class="dn-login smallText linkBlue hoverableText text-single" ng-click="doSignIn()">{{::(\'PURCHASE.SIGNIN\' | spTranslate)}}</div>\n</div>\n\n<div id="overlay" ng-if="show"></div>'),t.put("components/devtools/devtools.html",'<div id="devTools" class="devtools">\r\n    <div class="header">\r\n        Servers\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Request Dev Servers\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getDevServerState()" click="onDevServerChange()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Request `latest` simple-ss\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getDevLatestState()" click="onDevLatestChange()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        <b> Request Dev Servers</b><br />\r\n        Change to staging directory server and request `latest` simple-ss version.<br /><br />\r\n        <b> Request `latest` simple-ss</b><br />\r\n        Request `latest` simple-ss version when not on production directory server.<br /><br />\r\n    </div>\r\n    \x3c!-- <div class="header">\r\n        UI Options\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Screenshot Mode\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getScreenshotModeState()" click="onShowScreenshotMode()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        Generates random static speed charts based on current connections and their priorities. Generate a new chart by\r\n        tapping the speed chart\'s chart title text (it\'s an invisible button).\r\n    </div> --\x3e\r\n    <div class="header">\r\n        Session Options\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Jumbo Packets\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getJumboPacketState()" click="onJumboPackets()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Disable Retransmit\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getDisableRetransmitState()" click="onDisableRetransmit()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Minute-by-Minute ULP Reports\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getUlpReportEachMinuteState()" click="toggleUlpReportEachMinute()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-if="hasPrivateIPControl()">\r\n            <div class="content-name">\r\n                Private IP Control\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getExcludePrivateIP()" click="onExcludePrivateIP()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-if="hasOnDemand()">\r\n            <div class="content-name">\r\n                onDemand\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getOnDemandSetting()" click="onSetOnDemand()" width="50" height="30" units="\'px\'">\r\n                </on-off-switch>\r\n                </on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-if="isPasHost()">\r\n            <div class="content-name">\r\n                P&S Use Tethered TTL\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getTetheredTtlState()" click="toggleTetheredTtlState()" width="50" height="30"\r\n                    units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        <b> Jumbo Packets</b><br />\r\n        Enable Jumbo Packet support.<br /><br />\r\n        <b> Disable Retransmit</b><br />\r\n        Disable Packet Retransmit.<br /><br />\r\n        <b> Minute-by-Minute ULP Reports</b><br />\r\n        Send ULP reports every minute.<br /><br />\r\n\r\n        <div ng-if="hasPrivateIPControl()">\r\n            <br /><b> Private IP Control</b><br />\r\n            Exclude private IP ranges and multicast from going over the tunnel.\r\n        </div>\r\n        <div ng-if="hasOnDemand()">\r\n            <br /><b> iOS onDemand</b><br />\r\n            Enables the onDemand setting for iOS. The setting itself will be driven by the toggle state if the setting\r\n            is enabled.\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        Connection Options\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Secondary Overflow Limit\r\n            </div>\r\n            <dropdown class="inline dev-tools" text="getSecondaryOverflowText()"\r\n                model="settingsRepository.connection_settings.connection_secondary_speed_activation"\r\n                options="secondaryOverflowOptions" change-start="preSecondaryOverflowChanged(value)"\r\n                change-end="secondaryOverflowChanged(value)"></dropdown>\r\n        </div>\r\n        <div ng-if="showNwFwDisable()" class="content-child">\r\n            <div class="content-name">\r\n                Disable Network Framework\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getNwFwDisable()" click="onNwFwDisable()" width="50" height="30" units="\'px\'">\r\n                </on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Use Automatic Connection Priority\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getAutomaticPriority()" click="onAutomaticPriority()" width="50" height="30"\r\n                    units="\'px\'">\r\n                </on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="description">\r\n        <b> Secondary Overflow Limit</b><br />\r\n        Ignore secondary if primary is faster than selected value.<br />\r\n        <div ng-if="showNwFwDisable()">\r\n            <br /><b> Disable Network Framework</b><br />\r\n            Don\'t use Network Framework on iOS 12+.\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        Privacy Options\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Local Proxy Denylist Mode\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getLocalProxyDenyListMode()" click="onLocalProxyDenyListMode()" width="50"\r\n                    height="30" units="\'px\'">\r\n                </on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        Debugging\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Keep More Logs\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getKeepMoreLogsState()" click="onKeepMoreLogs()" width="50" height="30"\r\n                    units="\'px\'">\r\n                </on-off-switch>\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="doCrash()">\r\n            <div class="content-name dev-button">\r\n                Daemon Crash Test Dummy\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="doUIHostCrash()">\r\n            <div class="content-name dev-button">\r\n                UI-Host Crash Test Dummy\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="doUIJavascriptCaughtException()">\r\n            <div class="content-name dev-button">\r\n                UI-JS Caught Exception Test\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="doUIJavascriptUncaughtException()">\r\n            <div class="content-name dev-button">\r\n                UI-JS Uncaught Exception Test\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        <div>Last Disconnect Reason: <span ng-bind="getDisconnectReason()"></span></div>\r\n        <div>Thermal State: <span ng-bind="getThermalState()"></span></div>\r\n        <div id="locationInformation" class="darkText">\r\n            <div>Used Location - <span ng-if="hasLocation()" ng-bind="usedLocationString()"></span>, <span\r\n                    ng-if="hasLocation()" ng-bind="usedLocationSource()"></span></div>\r\n            <div>Geoip Location - <span ng-if="hasGeoipLocation()"><span ng-bind="geoipLocationString()"></span>, <span\r\n                        ng-bind="geoipLocationSource()"></span></div>\r\n            <div>Secondary Location - <span ng-if="hasSecondaryLocation()"><span\r\n                        ng-bind="secondaryLocationString()"></span>, <span\r\n                        ng-bind="secondaryLocationSource()"></span></span></div>\r\n            <div>Country Code - <span ng-if="hasCountryCode()"><span ng-bind="getCountryCode()"></span> - <span\r\n                        ng-bind="getCountryString()"></span><span></div>\r\n        </div>\r\n        <div id="referrerInformation" class="darkText">\r\n            <div>Source - <span ng-bind="getRefSourceText()"></span></div>\r\n            <div>Campaign - <span ng-bind="getRefCampaignText()"></span></div>\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        Messaging Service Debugging\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name">\r\n                Use Test Suite\r\n            </div>\r\n            <div class="interaction-toggle">\r\n                <on-off-switch state="getMessagingTestSuite()" click="onMessagingTestSuiteChange()" width="50"\r\n                    height="30" units="\'px\'"></on-off-switch>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        Notification Debugging\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="showNotificationNoActions(false)">Show No Actions</div>\r\n            <div class="content-name dev-button" ng-click="showNotificationNoActions(true)">Replace</div>\r\n            <div class="content-name dev-button" ng-click="hideNotificationNoActions()">Hide</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="showNotificationWithActions(false)">Show With Actions</div>\r\n            <div class="content-name dev-button" ng-click="showNotificationWithActions(true)">Replace</div>\r\n            <div class="content-name dev-button" ng-click="hideNotificationWithActions()">Hide</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="showNotificationNoActionsWithImage(false)">Show No Actions,\r\n                With Image</div>\r\n            <div class="content-name dev-button" ng-click="showNotificationNoActionsWithImage(true)">Replace</div>\r\n            <div class="content-name dev-button" ng-click="hideNotificationNoActionsWithImage()">Hide</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="showNotificationWithActionsWithImage(false)">Show With\r\n                Actions, With Image</div>\r\n            <div class="content-name dev-button" ng-click="showNotificationWithActionsWithImage(true)">Replace</div>\r\n            <div class="content-name dev-button" ng-click="hideNotificationWithActionsWithImage()">Hide</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="showNotificationOverrideActivate(false)">Show Override\r\n                Activate Action</div>\r\n            <div class="content-name dev-button" ng-click="showNotificationOverrideActivate(true)">Replace</div>\r\n            <div class="content-name dev-button" ng-click="hideNotificationOverrideActivate()">Hide</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="testDisconnectNotification()">Test Disconnect Notification</div>\r\n        </div>\r\n        <div class="content-child">\r\n            <div class="content-name dev-button" ng-click="clearNotifications()">Clear All</div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div ng-if="pendingDeviceNotifications.length > 0">\r\n        <div class="header">\r\n            Pending Notifications\r\n        </div>\r\n        <div id="content">\r\n            <div ng-repeat="notification in pendingDeviceNotifications track by $index">\r\n                <div class="content-child">\r\n                    <div class="flex ml16">\r\n                        <div class="flex row flexCenter">\r\n                            <div class="flex column">\r\n                                <div class="content-name smallText lh17">\r\n                                    {{notification.title}}\r\n                                </div>\r\n                                <div class="mt5 news-subtitle">\r\n                                    {{notification.subtitle}}\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class="mr16">\r\n                                <div>\r\n                                    {{notification.date}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div class="header">\r\n        UI Debugging\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="showGenerateLogsInfoBanner()">\r\n            <div class="content-name dev-button">Generate Logs banner</div>\r\n        </div>\r\n        <div class="content-child" ng-click="showAccountingErrorBanner()">\r\n            <div class="content-name dev-button">Show accounting error banner</div>\r\n        </div>\r\n        <div class="content-child" ng-click="showMarketingInfoBanner()">\r\n            <div class="content-name dev-button">Show marketing info banner</div>\r\n        </div>\r\n        <div class="content-child" ng-click="showAccountingWarningBanner()">\r\n            <div class="content-name dev-button">Show accounting warning banner</div>\r\n        </div>\r\n        <div class="content-child" ng-click="showSocialMediaPopup()">\r\n            <div class="content-name dev-button">Test Social Media Popup</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidShowStore()">\r\n            <div class="content-name dev-button">Show Store</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidChangePolicy()">\r\n            <div class="content-name dev-button">Change Privacy Policy date</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidShowIntro()">\r\n            <div class="content-name dev-button">Show Intro</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidTestIntro()">\r\n            <div class="content-name dev-button">Test Intro</div>\r\n        </div>\r\n        \x3c!-- <div class="content-child" ng-click="uidTestPermissions()">\r\n            <div class="content-name dev-button">Test Permissions</div>\r\n        </div> --\x3e\r\n        <div class="content-child" ng-click="uidTestGoForth()">\r\n            <div class="content-name dev-button">Test Go Forth</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidTestSchedulingNotification()">\r\n            <div class="content-name dev-button">Schedule Streamergency Notification</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidTestCaptivePortal()">\r\n            <div class="content-name dev-button">Test Captive Portal</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidTestNotifications()">\r\n            <div class="content-name dev-button">Test Push Permission</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidTestStreamingBypass()">\r\n            <div class="content-name dev-button">Test Streaming Bypass</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidToggleTransportLock()">\r\n            <div class="content-name dev-button">Toggle Transport Lock</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidNag50()">\r\n            <div class="content-name dev-button">Nag 50%</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidNag75()">\r\n            <div class="content-name dev-button">Nag 75%</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidNag100()">\r\n            <div class="content-name dev-button">Nag 100%</div>\r\n        </div>\r\n        <div class="content-child" ng-click="uidNagExpired()">\r\n            <div class="content-name dev-button">Nag Expired</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),t.put("components/disconnect-prompt/disconnect-prompt.html",'<div id="disconnectPrompt" class="secondaryBackground">\r\n    <div class="noTouch">\r\n        <div class="ml16 mr16 mt10 darkText smallText">\r\n            <div ng-if="hasActiveStreams()" class="activeStream ">\r\n                {{::\'DISCONNECTPROMPT.STREAMINPROGRESS.TITLE\' | spTranslate}}\r\n            </div>\r\n            <div ng-if="!hasActiveStreams()">\r\n                <div ng-if="supportsReconnectLater()">\r\n                    {{::\'DISCONNECTPROMPT.RECONNECTTITLE\' | spTranslate}}\r\n                </div>\r\n                <div ng-if="!supportsReconnectLater()">\r\n                    {{::\'DISCONNECTPROMPT.TITLE\' | spTranslate}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="ml16 mr16 xsmallText mt10">\r\n            <div ng-if="hasActiveStreams()">\r\n                {{::\'DISCONNECTPROMPT.STREAMINPROGRESS.SUBTITLE\' | spTranslate}}\r\n            </div>\r\n            <div ng-if="!hasActiveStreams()">\r\n                <div ng-if="supportsReconnectLater()">\r\n                    {{::\'DISCONNECTPROMPT.RECONNECTSUBTITLE\' | spTranslate}}\r\n                </div>\r\n                <div ng-if="!supportsReconnectLater()">\r\n                    {{::\'DISCONNECTPROMPT.SUBTITLE\' | spTranslate}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id="content" class="stat-content mt10">\r\n        <div ng-if="hasActiveStreams()" class="content-child segment-content activeSelected" ng-click="stayConnected()">\r\n            <div class="content-name darkText ">\r\n                {{::\'DISCONNECTPROMPT.OPTIONS.CONNECTED\' | spTranslate}}\r\n            </div>\r\n            <img class="disconnectPromptIcon" img-retry ng-src="{{getIcon(\'stream\')}}">\r\n        </div>\r\n        <div class="content-child segment-content" ng-click="reconnect()">\r\n            <div class="content-name darkText">\r\n                {{::\'DISCONNECTPROMPT.OPTIONS.SERVER\' | spTranslate}}\r\n            </div>\r\n            <img class="disconnectPromptIcon" img-retry ng-src="{{getIcon(\'server\')}}">\r\n        </div>\r\n        <div ng-if="supportsReconnectLater()" ng-repeat="option in options track by $index">\r\n            <div ng-if="option.isDev && isDevUser() || !option.isDev" class="content-child segment-content"\r\n                ng-click="reconnectAfterDelay(option.delayTimeMinutes, option.analyticsDesc)">\r\n                <div class="content-name darkText">\r\n                    {{option.title}}\r\n                </div>\r\n                <img class="disconnectPromptIcon" img-retry ng-src="{{getIcon(option.icon)}}">\r\n            </div>\r\n        </div>\r\n        <div class="content-child segment-content" ng-click="stayDisconnected()">\r\n            <div ng-if="supportsReconnectLater() && !hasActiveStreams()" class="content-name darkText">\r\n                {{::\'DISCONNECTPROMPT.OPTIONS.NOCONNECT\' | spTranslate}}\r\n            </div>\r\n            <div ng-if="!supportsReconnectLater() || hasActiveStreams()" class="content-name darkText"  ng-click="stayDisconnected()">\r\n                {{::\'SERVERS.OPTIONS.EXITONANDROID\' | spTranslate}}\r\n            </div>\r\n            <img class="disconnectPromptIcon" img-retry ng-src="{{getIcon(\'disconnect\')}}">\r\n        </div>\r\n        <div class="content-child last" ng-click="launchSupport()">\r\n            <div class="content-name darkText">\r\n                {{::\'DISCONNECTPROMPT.OPTIONS.HELP\' | spTranslate}}\r\n            </div>\r\n            <img class="disconnectPromptIcon" img-retry ng-src="{{getIcon(\'issue\')}}">\r\n        </div>\r\n    </div>\r\n</div>\r\n'),t.put("components/dropdown/dropdown.html",'<span class="dropdown-container ">\r\n  {{openDropdown()}}\r\n  <span class="dropdown-display maxValue" ng-bind-html="text"></span>\r\n  <select dir="rtl" ng-show="true" ios-focus-bug-fix ng-attr-id="{{dropdownId}}" class="interaction-limits" ng-focus="openDropdown()" ng-click="onClick()" ng-model="model" ng-change="onChange()" ng-options="i.val as i.name for i in options"></select>\r\n</span>\r\n'),t.put("components/error/error.html",'<div id="error-container"  >\n\t<div id="error-inner">\n\t\t<img img-retry id="error-image" src="components/error/img/error.png"/>\n\t\t<div id="error-text" class="whiteText normalText text-center" ng-bind="getErrorText()"></div>\n\t</div>\n</div>\n'),t.put("components/feature-upgrade-popup/feature-upgrade-popup.html",'<div class="newpop-text-container">\n\t<div class="bold linkPink mediumText">\n\t\t{{::(\'LOCKSCREEN.POPUP.TITLE\' | spTranslate)}}\n\t</div>\n\t<div class="bold darkText normalText mt10">\n\t\t{{::(\'LOCKSCREEN.POPUP.SUBTITLE\' | spTranslate)}}\n\t</div>\n\t<div class="purchase-divider product-divider"></div>\n\t<div ng-repeat="feature in features track by $index">\n\t\t<div class="flex flexCenter mt10">\n\t\t\t<img class="featureImg mr5" img-retry ng-src="{{getFeatureImage(feature.img)}}" aria-hidden="true">\n\t\t\t<div>{{feature.desc}}</div>\n\t\t</div>\n\t</div>\n\t<div>\n\t\t<div class="featureButton hoverable" tv-auto-focus ng-click="sendToStore()">\n\t\t\t<div class="dn-lower-button-description normalText text-multiple semibold smallerSpacing mt40">\n\t\t\t\t{{::(\'SERVERS.OPTIONS.UPGRADELINK\' | spTranslate)}}<br />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="smallText linkBlue hoverableText text-single mt10" ng-click="doSignIn()">\n\t\t\t{{::(\'ACCOUNTPANE.LOGIN\' | spTranslate)}}</div>\n\t</div>\n</div>'),t.put("components/goforth/goforth.html",'<div id="go-forth" class="flex column center">\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-title">\n\t\t\t{{::(\'GOFORTH.CONNECTED\' | spTranslate)}}\n\t\t</div>\n\t</div>\n\t<div class="newpop-image-container">\n\t\t<img class="newpop-image-top" src="components/goforth/img/goforthTop.png" aria-hidden="true"></img>\n\t</div>\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-description smallerSpacing goforth-description-header">\n\t\t\t{{::(\'GOFORTH.RUNNING\' | spTranslate)}}\n\t\t</div>\n\t\t<div class="newpop-description smallerSpacing">\n\t\t\t{{::(\'GOFORTH.BACKGROUND\' | spTranslate)}}\n\t\t</div>\n\t</div>\n\t<div class="newpop-text-container">\n\t\t<div class="newpop-description smallerSpacing newpop-description-header">\n\t\t\t{{::(\'GOFORTH.USE\' | spTranslate)}}\n\t\t</div>\n\t\t<div class="newpop-description smallerSpacing">\n\t\t\t{{::(\'GOFORTH.RELIABILITY\' | spTranslate)}}\n\t\t</div>\n\t</div>\n\t<div class="newpop-button newpop-lower-button hoverable" tv-auto-focus ng-click="continue()">\n\t\t<div class="newpop-lower-button-description text-multiple semibold  smallerSpacing">\n\t\t\t{{::(\'PROMPTS.OK\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n</div>'),t.put("components/intro/intro.html",'{{checkIntroComplete()}}\r\n<div id="introContainer" class="intro-container darkText fulltimeBackground shown" ng-click="unhandledClick()"\r\n\tng-show="step!==-1||show" tv-focus-stack>\r\n\t<div ng-if="step>-1" id="introOuter">\r\n\t\t<div ng-if="step!=1 && alreadySeenGdprText==false" class="intro-pane-gdpr msg-gdpr" id="intro-gdpr-main"\r\n\t\t\tng-class="getIntroPaneClass()">\r\n\t\t\t<div id="intro-main-0">\r\n\t\t\t\t<img class="intro-logo" src="components/intro/img/logo.png">\r\n\t\t\t\t<div class="intro-desc-privacy gdpr-title darkText" ng-bind="getPrivacyText()"></div>\r\n\t\t\t\t<div class="intro-privacy-desc gdpr-subtitle">\r\n\t\t\t\t\t{{::(\'INTRO.DESC.PRIVACYDESC\' | spTranslate)}}</div>\r\n\t\t\t\t<div class="intro-desc-body-privacy gdpr-bodytext">\r\n\t\t\t\t\t{{::(\'INTRO.DESC.PRIVACYBODYHEADER\' | spTranslate)}}</div>\r\n\t\t\t\t<div class="intro-desc-body-privacy gdpr-bodytext">\r\n\t\t\t\t\t{{::(\'INTRO.DESC.PRIVACYBODY\' | spTranslate)}}</div>\r\n\t\t\t\t<div class="intro-desc-body-privacy gdpr-bodytext">\r\n\t\t\t\t\t<span class="">{{::(\'INTRO.DESC.PRIVACYMOREINFO\' | spTranslate)}}</span> <span class="privacy-link"\r\n\t\t\t\t\t\ttv-auto-focus ng-click="launchPrivacy()">{{::(\'HELP.MENU.PRIVACY\' | spTranslate)}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="intro-bottom-privacy gdpr-footer">\r\n\t\t\t\t<button class="introButton privacyButton hoverable text-single"\r\n\t\t\t\t\tng-click="continueAndCheckPermission()">{{::(\'INTRO.GDPR2.CONTINUE\' | spTranslate)}}</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<div class="purchase-cover">\r\n\t\t\t\t<cover show="purchaseAttemptPending" full="true" shade="true" color="\'#D3D3D3\'"\r\n\t\t\t\t\tmessage="::\'PURCHASE.COMPLETECOVER\' | spTranslate">\r\n\t\t\t\t</cover>\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="alreadySeenGdprText==true && (alreadySeenPasText==false && showPas())">\r\n\t\t\t\t<img class="intro-pas-image" src="components/intro/img/introslide-pairandshare.png"\r\n\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t<div class="bold normalText mt10 ml16 mr16">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.TITLE\' |\r\n\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t<div class="smallText mt10 ml16 mr16">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.SUBTITLE\' |\r\n\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t<div class="mt20 flex column ml16 mr16 interaction">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class="flex mB10 align-center">\r\n\t\t\t\t\t\t\t<img class="intro-pas-bullet-image" src="components/intro/img/feature-search.png"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t\t\t\t<div class="smallText alignLeft ml10">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.POINT1\'\r\n\t\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="flex mB10 align-center">\r\n\t\t\t\t\t\t\t<img class="intro-pas-bullet-image" src="components/intro/img/feature-plus.png"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t\t\t\t<div class="smallText alignLeft ml10">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.POINT2\'\r\n\t\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="flex mB10 align-center">\r\n\t\t\t\t\t\t\t<img class="intro-pas-bullet-image" src="components/intro/img/feature-security.png"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t\t\t\t<div class="smallText alignLeft ml10">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.POINT3\'\r\n\t\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="flex mB10 align-center">\r\n\t\t\t\t\t\t\t<img class="intro-pas-bullet-image" src="components/intro/img/feature-unlimited.png"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t\t\t\t<div class="smallText alignLeft ml10">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.POINT4\'\r\n\t\t\t\t\t\t\t\t|\r\n\t\t\t\t\t\t\t\tspTranslate)}}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="intro-bottom-privacy mt20 ml16 mr16">\r\n\t\t\t\t\t<button class="introButton privacyButton hoverable text-single"\r\n\t\t\t\t\t\tng-click="enablePas(\'true\')">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.ENABLE\' |\r\n\t\t\t\t\t\tspTranslate)}}</button>\r\n\t\t\t\t\t<div class="linkBlue mt20 bold mB10" ng-click="enablePas(\'false\')">\r\n\t\t\t\t\t\t{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.INTRO.NOTNOW\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="alreadySeenGdprText==true && (alreadySeenPasText==true || !showPas())"\r\n\t\t\t\tclass="intro-purchase-pane stm-scn" id="intro-purchase-pane">\r\n\t\t\t\t<div id="top" class="intro-toolbar">\r\n\t\t\t\t\t<md-toolbar class="intro-toolbar-background">\r\n\t\t\t\t\t\t<h1 class="md-toolbar-tools">\r\n\t\t\t\t\t\t\t<div class="sign-in-group">\r\n\t\t\t\t\t\t\t\t<div ng-if="showEscapeButton()" tv-auto-focus class="escape smallbutton"\r\n\t\t\t\t\t\t\t\t\tng-click="escapeIntro(\'exit-escape-button\')">\r\n\t\t\t\t\t\t\t\t\t<img class="escapeButton" src="components/intro/img/closebutton.png"\r\n\t\t\t\t\t\t\t\t\t\talt="{{::\'ARIALABEL.EXITINTRO\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="signin-link normalText bold text-single linkBlue" ng-click="sendToSignIn()">\r\n\t\t\t\t\t\t\t\t\t{{::(\'REGISTERLOGIN.BUTTONS.LOGIN\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</md-toolbar>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="introSliderContainer" class="intro-Slider-Container">\r\n\t\t\t\t\t<slider-control id="opPaneSlider" current-focussed="currentFocussed"\r\n\t\t\t\t\t\titems-class="\'introPaneSliderItem\'" show-slider-name="introSlider" item-min-width="320"\r\n\t\t\t\t\t\titem-max-width="768" item-spacing="300" is-focused-centered="true" is-view-isolated="false"\r\n\t\t\t\t\t\theight-to-width="\'\'" available-height="sliderHeight" show-Slider-Arrows="showSliderArrows()"\r\n\t\t\t\t\t\tshow-slider-dots="true" allow-expansion="true">\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div id="introSecurity" class="introPaneSliderItem sliderItem msg-intro-slide-security"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introSecurity\')" ng-style="getStyleFor(\'introSecurity\')">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image" src="components/intro/img/introslide-unlimiteddata.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO1\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.TITLEHEADER\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText smallerSpacing text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.SECURITY\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id="introBonding" class="introPaneSliderItem sliderItem msg-intro-slide-bonding"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introBonding\')" ng-style="getStyleFor(\'introBonding\')">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image intro-bonding-image"\r\n\t\t\t\t\t\t\t\t\t\tsrc="components/intro/img/introslide-bonding.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO2\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.COMBINE\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText smallerSpacing text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.COMBINEDESC\' | spTranslate)}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id="introServers" class="introPaneSliderItem sliderItem msg-intro-slide-servers"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introServers\')" ng-style="getStyleFor(\'introServers\')">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image" src="components/intro/img/introslide-servers.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO3\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.SERVERHEADER\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText smallerSpacing text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.SERVERDESC\' | spTranslate)}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div id="introEncryption" class="introPaneSliderItem sliderItem msg-intro-slide-encryption"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introEncryption\')" ng-style="getStyleFor(\'introEncryption\')">\r\n\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image" src="components/intro/img/introslide-encryption.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO4\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.ENCRYPTIONTITLE\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.ENCRYPTIONDESC\' | spTranslate)}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id="introUnlimitedData"\r\n\t\t\t\t\t\t\t\tclass="introPaneSliderItem sliderItem msg-intro-slide-multiple-devices"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introUnlimitedData\')"\r\n\t\t\t\t\t\t\t\tng-style="getStyleFor(\'introUnlimitedData\')">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image"\r\n\t\t\t\t\t\t\t\t\t\tsrc="components/intro/img/introslide-multipledevices.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO5\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.DEVICETITLE\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.DEVICEDESC\' | spTranslate)}}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div ng-if="hasFreeData()" id="introFreeversion"\r\n\t\t\t\t\t\t\t\tclass="introPaneSliderItem sliderItem msg-intro-slide-free-data"\r\n\t\t\t\t\t\t\t\tng-class="getPaneClassFor(\'introFreeversion\')"\r\n\t\t\t\t\t\t\t\tng-style="getStyleFor(\'introFreeversion\')">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img class="intro-pan-image" src="components/intro/img/introslide-freetier.png"\r\n\t\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.INTRO6\' | spTranslate}}">\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header semibold text-multi">\r\n\t\t\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.LIMITED\' | spTranslate)}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="pitch-header-desc thintext normalText text-multi ng-binding"\r\n\t\t\t\t\t\t\t\t\t\tng-bind="getDataString()"></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</slider-control>\r\n\t\t\t\t\t<div class="trial-pitch hide-overflow msg-trial-pitch">\r\n\t\t\t\t\t\t<div ng-if="!isLastSlide" class="not-last-slide">\r\n\t\t\t\t\t\t\t<div class="normalText bold mB10 text-multi" ng-bind-html="title()">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\x3c!-- <div class="pitch-header-desc thintext normalText text-single" ng-bind-html="getSubtitle()">\r\n\t\t\t\t\t\t\t</div> --\x3e\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="isLastSlide" class="last-slide">\r\n\t\t\t\t\t\t\t<div class="normalText bold text-multi">\r\n\t\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.LIMITEDTITLE\' | spTranslate)}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="pitch-header-desc thintext smallText text-multi ng-binding"\r\n\t\t\t\t\t\t\t\tng-bind="getDataStringDesc()">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button ng-if="!isLastSlide" class="introButton subscribe hoverable text-single"\r\n\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getMonthlyProduct().id)"\r\n\t\t\t\t\t\t\tng-disabled="productListAttemptPending" ng-click="purchase(getYearlyProduct())">\r\n\t\t\t\t\t\t\t{{::(\'INTRO.PITCH.SUBSCRIBE\' | spTranslate)}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button ng-if="!isLastSlide" class="introButton subscribe hoverable text-single mt20"\r\n\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getMonthlyProduct().id)"\r\n\t\t\t\t\t\t\tng-disabled="productListAttemptPending" ng-click="purchase(getMonthlyProduct())"\r\n\t\t\t\t\t\t\tng-bind-html="getButtonTitle()">\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button ng-if="isLastSlide" class="introButton free-version hoverable text-single" tv-auto-focus\r\n\t\t\t\t\t\t\tng-click="escapeIntro(\'exit-last-slide\')">{{::(\'INTRO.PITCH.FREEVERSION\' | spTranslate)}}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="intro-legal-container" ng-if="isiOS() && isTrial()">\r\n\t\t\t\t\t\t<div ng-if="!isLastSlide" class="intro-legal">\r\n\t\t\t\t\t\t\t<div>Speedify Unlimited subscription automatically begins after the 7-day free trial for\r\n\t\t\t\t\t\t\t\t<span ng-bind-html="yearlyCost"></span> per year. You can cancel anytime. By signing\r\n\t\t\t\t\t\t\t\tup for a free trial, you agree to our <span ng-click="launchTOS()">Terms of Service</span><span> and\r\n\t\t\t\t\t\t\t\t</span><span class="intro-legal-link"\r\n\t\t\t\t\t\t\t\t\tng-click="launchPrivacy()">Privacy Policy</span><span>.\r\n\t\t\t\t\t\t\t\t\tPayment will be charged to your Apple ID account at the confirmation of purchase.\r\n\t\t\t\t\t\t\t\t\tSubscription automatically renews unless it is cancelled at least 24 hours before\r\n\t\t\t\t\t\t\t\t\tthe end of the current period. Your account will be charged for renewal within 24\r\n\t\t\t\t\t\t\t\t\thours prior to the end of the current period.\r\n\t\t\t\t\t\t\t\t\tYou can manage and cancel your subscriptions by going to your account settings on\r\n\t\t\t\t\t\t\t\t\tthe App Store after purchase.\r\n\t\t\t\t\t\t\t\t\tAny unused portion of the free trial period will be forfeited when a subscription is\r\n\t\t\t\t\t\t\t\t\tpurchased.</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="intro-legal-container" ng-if="isiOS() && !isTrial()">\r\n\t\t\t\t\t\t<div ng-if="!isLastSlide" class="intro-legal">\r\n\t\t\t\t\t\t\tBy purchasing a subscription, you agree to the <span\r\n\t\t\t\t\t\t\t\tng-click="launchTOS()">{{::(\'HELP.MENU.TOS\' | spTranslate)}}</span><span> and\r\n\t\t\t\t\t\t\t</span><span class="intro-legal-link" ng-click="launchPrivacy()">{{::(\'HELP.MENU.PRIVACY\' |\r\n\t\t\t\t\t\t\t\tspTranslate)}}</span><span>.\r\n\t\t\t\t\t\t\t\tYou can cancel anytime. Payment will\r\n\t\t\t\t\t\t\t\tbe charged to your Apple ID account at the confirmation of purchase. Subscription\r\n\t\t\t\t\t\t\t\tautomatically renews unless it is\r\n\t\t\t\t\t\t\t\tcanceled at least 24 hours before the end of the current period. You can manage and\r\n\t\t\t\t\t\t\t\tcancel your subscriptions by\r\n\t\t\t\t\t\t\t\tgoing\r\n\t\t\t\t\t\t\t\tto your account settings on the App Store after purchase. Any unused portion of a free\r\n\t\t\t\t\t\t\t\ttrial period, if offered,\r\n\t\t\t\t\t\t\t\twill be\r\n\t\t\t\t\t\t\t\tforfeited when the user purchases a subscription.\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</div>\r\n'),t.put("components/loading/loading.html",'<div id="restart-services" tv-focus-stack>\n  <div id="loading-container">\n    <background></background>\n    <div id="loading-inner">\n      <cover show="true" full="true" shade="false" color="\'#D3D3D3\'" takes-clicks="false"></cover>\n    </div>\n  </div>\n  <div id="loading-restartservice" ng-if="showRestartServiceButton()">\n    <button type="submit" id="loading-restartservice-button"\n      class="register-login-Button  whiteText hoverable shadow text-single"\n      ng-click="restartService()"\n      ng-disabled="serviceRestartInProgress">{{::(\'SERVICE.RESTART\' | spTranslate)}}</button>\n  </div>\n</div>'),t.put("components/lock-screen/lock-screen.html",'<div id="lockScreen"\n  ng-class="{offsetBottom:!shouldShowLockedDashboard(), noSpaceToBottom:shouldShowLockedDashboard() }"\n  class="mainBackground">\n  <cover show="purchaseAttemptPending!==false" full="true" shade="true" color="\'#D3D3D3\'"\n    message="::\'PURCHASE.COMPLETECOVER\' | spTranslate"></cover>\n  <status-box connected-time="connectedTimeFormatted" ng-if="!isServerOpen() || isDualPane()"\n    streaming-stats="streamingStats" language-style="languageStyle" running="running" connected="getDaemonConnected()"\n    current-state="$parent.currentState" pending-attempt="$parent.pendingAttempt"\n    last-login-error-type="$parent.lastLoginErrorType" last-login-error-message="$parent.lastLoginErrorMessage"\n    connected-server="connectedServer"></status-box>\n  <div class="lockGraphContainer mainBackground lockScreenBackground flex center"><img ng-src="{{getLockIcon()}}"\n      aria-hidden="true"></img></div>\n  <div class="storePane secondaryBackground">\n    <div class="bold largeText mt10 darkText ml16 mr16">{{::(\'LOCKSCREEN.UPGRADETITLE\' | spTranslate)}}</div>\n    <div class="bold mediumText mt10 linkPink">\n      {{::(\'LOCKSCREEN.USAGE\' | spTranslate)}}\n    </div>\n    <div class="smallText mt5 ml16 mr16 darkText">\n      {{::(\'UPSELL.DESCRIPTION.USAGE100\' | spTranslate)}}\n    </div>\n    <div class="purchase-divider product-divider"></div>\n    <center>\n      <product product="getYearlyProduct()" click="changeProduct(getYearlyProduct())"\n        show-disabled="getIsPurchasingFor(getYearlyProduct().id)"\n        selected-product="isSelectedProduct(getYearlyProduct())" ng-disabled="productListAttemptPending">\n      </product>\n      <product product="getMonthlyProduct()" click="changeProduct(getMonthlyProduct())"\n        show-disabled="getIsPurchasingFor(getMonthlyProduct().id)" ng-disabled="productListAttemptPending"\n        selected-product="isSelectedProduct(getMonthlyProduct())">\n      </product>\n      <div class="upgradeButton bold normalText mB10" ng-click="buyProduct(selectedProduct)">\n        {{::(\'SETTINGSPANE.ACCOUNT.UPGRADE\' | spTranslate)}}\n      </div>\n    </center>\n    <div ng-if="haveTrials()">\n      <div class="ml16 mr16 mt10" ng-bind="getTrialInfo(getYearlyProduct())">\n      </div>\n      <div class="mB10">\n        {{::(\'PURCHASE.CANCELSUBDESC\' | spTranslate)}}\n      </div>\n      <div class="mt10" ng-bind="getCurrencyCodeInformation()">\n      </div>\n    </div>\n  </div>\n  <div>\n    <div class="flex center">\n      <div class="linkBlue hoverableText text-single mt10" ng-click="doSignIn()">\n        {{::(\'REGISTERLOGIN.BUTTONS.LOGIN\' | spTranslate)}}\n      </div>\n      <div class="mt10 ml5 mr5 legalText" ng-if="shouldRestorePurchases()">\n        |\n      </div>\n      <div ng-if="shouldRestorePurchases()" class="linkBlue hoverableText text-single mt10"\n        ng-click="doRestorePurchases()">\n        {{::(\'ACCCTRL.RESTORE\' | spTranslate)}}</div>\n    </div>\n    <div ng-if="useWallOfText()"\n      class="purchase-description purchase-walloftext xxsmallText legalText smallerSpacing text-multi never-rtl">\n      <span class="bold">Subscription Details</span><br />By purchasing a subscription, you agree to the <span\n        class="text-single" view-more-icon ng-click="launchTos()">Terms of Service</span>\n      and\n      <span class="text-single" ng-click="launchPrivacy()">Privacy Policy</span>. You can\n      cancel\n      anytime. Payment will be charged\n      to\n      iTunes Account at end of trial. Subscription automatically renews unless auto-renew is turned off at\n      least\n      24-hours before the end of the current period. Account will be charged for renewal within 24-hours prior\n      to\n      the\n      end of the current period. Subscriptions may be managed and auto-renewal may be turned off by going to\n      your\n      iTunes Account Settings after purchase. Payment will be charged to iTunes Account at confirmation of\n      purchase.\n      Any unused portion of a free trial period, if offered, will be forfeited when the user purchases a\n      subscription\n      to that publication, where applicable.\n    </div>\n  </div>\n  <div ng-if="hasStats()">\n    <div class="mt20 ml16 statsHeader">\n      {{::(\'SETTINGSPANE.ACCOUNT.STATS.TITLE\' | spTranslate)}}\n    </div>\n    <overview-pane session-stats="sessionStats" selected-duration="total" hide-header="true">\n    </overview-pane>\n  </div>\n</div>'),t.put("components/loggen/loggen-display.html",'<div id="loggen-div" ng-if="showLoggen()">\n<cover show="showLoggen()" full="true" shade="true" color="\'#D3D3D3\'"></cover>\n</div>\n'),t.put("components/nag-display/nag-display.html",'\n<div id="nag-display">\n  <img img-retry id="nag-img" ng-src="{{getImg()}}"></img>\n\n  <div id="nag-body">\n    <div class="largeText darkText text-center" ng-bind="getHeaderText()"></div>\n    <div class="normalText linkPink text-center" ng-bind="getSecondaryText()"></div>\n    <div class="smallText darkText text-center" ng-bind="getDescriptionText()"></div>\n  </div>\n  <div id="nag-call-to-action">\n    <div id="nag-action-button" class="button hoverable shadow normalText blue text-single" ng-click="goToStore()">{{::(\'UPSELL.BUTTONS.STORE\' | spTranslate)}}</div>\n    <div id="nag-login" class="smallText linkBlue hoverableText text-single" ng-click="doSignIn()">{{::(\'PURCHASE.SIGNIN\' | spTranslate)}}</div>\n  </div>\n</div>\n'),t.put("components/network-dot/network-dot.html",'<div id="networkDot" class="network-dot connectionRow" ng-click="configureThisNetwork()" title="{{toolTipText()}}"\r\n\tid="network-dot-{{networkAdapterFunctions.sanitizeId(network.guid)}}"\r\n\tng-class="{disabled:isDisabled(),overlimit:isOverlimit(),connected:isConnected(),connecting:isConnecting(),offline:network.offline}">\r\n\t<div class="flex">\r\n\t\t<div class="network-dot-icon mr10" ng-style="getSizeStyle(itemMinWidth)">\r\n\r\n\t\t\t<div class="network-dot-icon-click hoverable" ng-style="getIconStyle(itemMinWidth)">\r\n\t\t\t</div>\r\n\r\n\t\t\t<div ng-style="getIconStyle(itemMinWidth, getDisabledConnectionColor())">\r\n\t\t\t</div>\r\n\t\t\t<div class="network-dot-icon-connection" ng-style="getIconStyle(itemMinWidth, connectionColor)"></div>\r\n\t\t\t<img img-retry class="network-dot-icon-img hoverable" ng-src="{{getIcon()}}"\r\n\t\t\t\tng-style="getIconStyle(itemMinWidth)"></img>\r\n\t\t\t<div ng-if="hasError()" class="network-dot-alert defaultBorderColor network-dot-error">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="networkTextContainer">\r\n\t\t\t<div class="fullWidth">\r\n\t\t\t\t<div class="flex">\r\n\t\t\t\t\t<div class="networkText title darkText noShrink flexOne caps" ng-bind="getAdapterName()">\r\n\t\t\t\t\t\t{{getSubtitleText()}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle="display:flex; height:20px; flex-direction: row; justify-content: flex-end;margin-right: 5px;">\r\n\t\t\t\t\t\t<div class="mosRatingContainer" ng-class="getStarRating()">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="flex spaceBetween">\r\n\t\t\t\t\t<div class="network-dot-name network-dot-priority xsmallText text-single" ng-bind="subtitleText"\r\n\t\t\t\t\t\tng-class="statusIsOverlimit()">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div ng-if="isConnected()" style="color: #666666;">\r\n\t\t\t\t\t\t<div ng-if="isSpeedOrLossMode()" style="display:flex;" class="noWrap">\r\n\t\t\t\t\t\t\t<img src="components/network-dot/img/downArrow.png" class="connectionInformationImage"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.DOWNLOAD\' | spTranslate}}" />\r\n\t\t\t\t\t\t\t<span class="connectionInformation xsmallText">{{getConnectionInformation(true)}}</span>\r\n\t\t\t\t\t\t\t<img src="components/network-dot/img/upArrow.png" class="connectionInformationImage"\r\n\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.UPLOAD\' | spTranslate}}" />\r\n\t\t\t\t\t\t\t<span class="connectionInformation xsmallText">{{getConnectionInformation(false)}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="isLatencyMode()" class="xsmallText"\r\n\t\t\t\t\t\t\tstyle="display:flex; height:20px; justify-content: flex-end;  font-family: monospace;">\r\n\t\t\t\t\t\t\t<span>{{getLatency()}}</span>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/network-limits/network-limits-daily.html",'<div class="network-daily-cap">\r\n  <div class="priority">\r\n    <div class="header">\r\n      {{upperCaseHeader()}}\r\n    </div>\r\n    <div id="content">\r\n      <div class="content-child">\r\n        <div class="content-name">\r\n          {{::(\'SETTINGSPANE.NETWORKS.DATACAP.DAILY\' | spTranslate)}}\r\n        </div>\r\n        <div class="interaction-toggle">\r\n          <img img-retry class="networks-limits-alert" src="components/network-limits/img/warning.png" />\r\n          <on-off-switch state="getDailyState()" click="limitDailySwitchPress()" width="50" height="30" units="\'px\'">\r\n          </on-off-switch>\r\n        </div>\r\n      </div>\r\n      <div ng-if="getDailyState()" class="content-child adapter-height" ng-class="{\'disabled-color\': !getDailyState()}">\r\n        <div class="content-name">\r\n          {{::(\'SETTINGSPANE.NETWORKS.DATACAP.AMOUNT\' | spTranslate)}}\r\n        </div>\r\n        <span class="networks-limits-usedBytes">\r\n          <dropdown class="inline adapter-height" id="data-dropdown" ng-if="getDailyState()" text="getDailyLimitText()"\r\n            model="network.limits.maxDaily" options="dailyOptions" change-end="dailyLimitUpdated(value)"></dropdown>\r\n          <span ng-if="!getDailyState()" bind-html-compile="getDailyLimitText()">\r\n          </span>\r\n        </span>\r\n      </div>\r\n      <div ng-if="hasDailyBoost()" class="content-child">\r\n        <div class="content-name">\r\n          {{::(\'SETTINGSPANE.NETWORKS.DATACAP.BOOST\' | spTranslate)}}\r\n        </div>\r\n        <span class="networks-limits-usedBytes">\r\n          <dropdown class="inline adapter-height" id="data-dropdown" text="getDailyBoostText()"\r\n            model="network.limits.boostDaily" options="dailyOptions" change-end="addBoostFromDropdown(value)">\r\n          </dropdown>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class="header"></div>\r\n    <div id="content" class="data-used">\r\n      <div class="content-child">\r\n        <div class="content-name">\r\n          <div bind-html-compile="\'LIMITS.DAYUSAGEUNLIMITED\' | spTranslate:usageReplacements()"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="description">\r\n      {{::(\'SETTINGSPANE.NETWORKS.DATACAP.DAILY\' | spTranslate)}}\r\n      {{::(\'SETTINGSPANE.NETWORKS.DATACAP.DESC\' | spTranslate)}}<br /><br />\r\n      {{::(\'SETTINGSPANE.NETWORKS.DATACAP.BOOST\' | spTranslate)}}\r\n      {{::(\'SETTINGSPANE.NETWORKS.DATACAP.BOOSTDESC\' | spTranslate)}} <br /><br />\r\n      {{::(\'SETTINGSPANE.NETWORKS.DATACAP.SUB\' | spTranslate)}} <br /><br />\r\n    </div>\r\n  </div>\r\n</div>'),t.put("components/network-limits/network-limits-monthly.html",'<div id="networkLimits" class="network-monthly-cap">\r\n  <div class="header">\r\n    {{upperCaseHeader()}}\r\n  </div>\r\n  <div id="content">\r\n    <div class="content-child">\r\n      <div class="content-name">\r\n        {{::(\'SETTINGSPANE.NETWORKS.DATACAP.MONTHLY\' | spTranslate)}}\r\n      </div>\r\n      <div class="interaction-toggle">\r\n        <img img-retry class="networks-limits-alert" src="components/network-limits/img/warning.png" />\r\n        <on-off-switch state="getMonthlyState()" click="limitMonthlySwitchPress()" width="50" height="30" units="\'px\'"></on-off-switch>\r\n      </div>\r\n    </div>\r\n    <div ng-if="getMonthlyState()" class="content-child adapter-height"\r\n      ng-class="{\'disabled-color\': !getMonthlyState()}">\r\n      <div class="content-name">\r\n        {{::(\'SETTINGSPANE.NETWORKS.DATACAP.AMOUNT\' | spTranslate)}}\r\n      </div>\r\n      <dropdown ng-if="getMonthlyState()" class="inline" text="getMonthlyLimitText()"\r\n        model="network.limits.max" options="monthlyOptions" change-start="clickedConfigureData(value)"\r\n        change-end="monthlyLimitUpdated(value)">\r\n      </dropdown>\r\n    </div>\r\n    <div ng-if="getMonthlyState()" class="content-child" ng-class="{\'disabled-color\': !getMonthlyState()}">\r\n      <div class="content-name">\r\n        {{::(\'SETTINGSPANE.NETWORKS.DATACAP.RESETSON\' | spTranslate)}}\r\n      </div>\r\n      <dropdown ng-if="getMonthlyState()" class="inline" text="getMontlyResetDayText()"\r\n        model="network.limits.resetDay" options="resetDayOptions" change-end="resetDayChanged(value)"></dropdown>\r\n    </div>\r\n  </div>\r\n  <div class="header"></div>\r\n  <div id="content" class="data-used">\r\n    <div class="content-child">\r\n      <div class="content-name">\r\n        <div bind-html-compile="\'LIMITS.MONTHUSAGEUNLIMITEDMONTH\' | spTranslate:usageReplacements()"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="description">\r\n    {{::(\'SETTINGSPANE.NETWORKS.DATACAP.MONTHLY\' | spTranslate)}}\r\n    {{::(\'SETTINGSPANE.NETWORKS.DATACAP.DESC\' | spTranslate)}}<br /><br />\r\n    {{::(\'SETTINGSPANE.NETWORKS.DATACAP.SUB\' | spTranslate)}} <br /><br />\r\n  </div>\r\n</div>'),t.put("components/network-wizard/network-wizard.html",'<div id="netwiz-container">\n\t<div ng-if="step==0" class="netwiz-step popUpGColor ngAnimOpacity animated" ng-style="{opacity:step==0}" tv-focus-stack>\n\t\t<div class="netwiz-body smallText smallerSpacing darkText">{{::(\'WIZARD.INTRO\' | spTranslate:getMainSubs())}}</div>\n\t\t<div class="netwiz-button button green smallText netwiz-text hoverable" tv-auto-focus ng-click="YESCAPS()">{{::(\'WIZARD.YESCAPS\' | spTranslate)}}</div>\n\t\t<div class="netwiz-button button green smallText netwiz-text hoverable" ng-click="noCaps()">{{::(\'WIZARD.NOCAPS\' | spTranslate)}}</div>\n\t\t<div class="netwiz-footer smallerText smallerSpacing darkText">{{::(\'WIZARD.DONTWORRY\' | spTranslate)}}</div>\n\t</div>\n\t<div ng-if="step==1" class="netwiz-step popUpGColor ngAnimOpacity animated" ng-style="{opacity:step==1}" tv-focus-stack>\n\t\t<div class="netwiz-body smallText smallerSpacing darkText">{{::(\'WIZARD.SET\' | spTranslate:getMainSubs())}}</div>\n\t\t<div class="netwiz-limit smallText smallerSpacing darkText"><span class="bold">{{::(\'WIZARD.DAILY\' | spTranslate:getMainSubs())}}:</span> <span ng-bind="::getDailyText()"></span></div>\n\t\t<div class="netwiz-limit smallText smallerSpacing darkText"><span class="bold">{{::(\'WIZARD.MONTHLY\' | spTranslate:getMainSubs())}}:</span> <span ng-bind="::getMonthlyText()"></span></div>\n\t\t<div class="netwiz-body smallText smallerSpacing darkText">{{::(\'WIZARD.CHANGE\' | spTranslate:getMainSubs())}}</div>\n\t\t<div class="netwiz-button button green smallText hoverable" tv-auto-focus ng-click="gotIt()">{{::(\'WIZARD.GOTIT\' | spTranslate)}}</div>\n\t</div>\n</div>\n'),t.put("components/networks-slider/networks-slider.html",'<div id="networksSlider" class="networkSliderConnection">\n\t<div ng-if="isConnected()" class="network-slider-options darkText40">\n\t\t<div ng-if="!isConnectedProxy()" class="options xsmallText upper" ng-class="isSelected(\'Speed\')"\n\t\t\tng-click="selected(\'Speed\', true)">\n\t\t\t{{::\'OMNICHART.SUBTITLES.USAGE\' | spTranslate}}</div>\n\t\t<div ng-if="!isConnectedProxy()" class="options xsmallText upper" ng-class="isSelected(\'Latency\')"\n\t\t\tng-click="selected(\'Latency\', true)">\n\t\t\t{{::\'OMNICHART.SUBTITLES.LATENCY\' | spTranslate}}</div>\n\t\t<div ng-if="!isConnectedProxy()" class="options xsmallText upper" ng-class="isSelected(\'Loss\')"\n\t\t\tng-click="selected(\'Loss\', true)">\n\t\t\t{{::\'OMNICHART.SUBTITLES.LOSS\' | spTranslate}}</div>\n\t\t<div class="options xsmallText uppery" ng-class="isSelected(\'Proxy\')" ng-click="selected(\'Proxy\', true)">\n\t\t\t{{getProxyChartTitle()}}</div>\n\t\t<div ng-if="allowSharedGraph()" class="options xsmallText upper" ng-class="isSelected(\'Shared\')"\n\t\t\tng-click="selected(\'Shared\', true)">\n\t\t\t{{::\'OMNICHART.SUBTITLES.SHARED\' | spTranslate}}</div>\n\t</div>\n\t<div ng-if="isConnected()" class="quality">\n\t\t<omni-chart id="omniGraphPane" ng-class="getPaneClassFor(\'omniGraphPane\')"\n\t\t\tng-style="getStyleFor(\'omniGraphPane\')" type="graphOptions[currentGraphOption]"></omni-chart>\n\t</div>\n\t<div id="content" style="margin-bottom: 0px">\n\t\t<div class="network-padding network-group"\n\t\t\tng-repeat="net in filterNetworks() | orderBy:[\'-connectionState\',\'workingPriority\'] track by net.guid"\n\t\t\tng-if="isAdapter(net)">\n\t\t\t<network-dot class="content-child networkSliderConnection" type="graphOptions[currentGraphOption]"\n\t\t\t\tng-class="getClassFor(\'network-dot-\'+getIdFor(net))" current-state="currentState"\n\t\t\t\tng-style="getStyleFor(\'network-dot-\'+getIdFor(net))" id="network-dot-{{getIdFor(net)}}"\n\t\t\t\tshow-priority-text="shouldShowPriorityText()" network="net"\n\t\t\t\tnum-of-cellular-connections="numberOfCellConnections().length"\n\t\t\t\tconfigure-network="configureThisNetwork(network)" item-min-width="itemMinWidth"\n\t\t\t\titem-max-width="itemMaxWidth" connected-server="connectedServer">\n\t\t\t</network-dot>\n\t\t</div>\n\t</div>\n\t<div class="mt10 flex align-center description xsmallText" ng-if="isDesktop()">\n\t\t<div class="sl-premium-desc">{{::(\'HELP.GETHELP.CONNECTIONS\' | spTranslate)}}<span\n\t\t\t\tclass="linkBlue sl-premium-link" ng-click="addConnection()"> {{::(\'HELP.GETHELP.CONNECTIONSLINK\' |\n\t\t\t\tspTranslate)}}</span></div>\n\t</div>\n</div>'),t.put("components/new-popup-container/newPopupContainer.html",'<div class="new-popup-background" ng-if="show">\n\t<div class="new-popup-container flex center"\n\t\tng-class="{willClose:willClose, \'full-height\': smallScreen}" tv-focus-stack>\n\t\t<div class="popup-padding popUpGColor flex center "\n\t\t\tng-class="{\'new-popup-inner\': !smallScreen, \'new-popup-inner-small-screen\': smallScreen }">\n\t\t\t<ng-transclude class="transclude"></ng-transclude>\n\t\t</div>\n\t</div>\n</div>\n<div id="overlay" ng-if="show"></div>'),t.put("components/news-popup/news-popup.html",'<div id="newsPopup" class="newpop-text-container">\n\t<div class="news-popup-top-title" ng-if="newsMessage.message.topTitle">\n\t\t{{newsMessage.message.topTitle}}\n\t</div>\n\t<div class="news-popup-title">\n\t\t{{newsMessage.message.title}}\n\t</div>\n</div>\n<div class="stream default-cursor noflex">\n\t<div class="statCell-popup">\n\t\t<div class="flexContainer center" ng-click="learnMore()">\n\t\t\t<div class="flexContainer meta center">\n\t\t\t\t<img ng-class="getImageClass(newsMessage.message.icon)" img-retry\n\t\t\t\t\tng-src="{{mainImage(newsMessage.message.icon)}}" aria-hidden="true" >\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="newpop-text-container">\n\t<div class="newpop-description  smallerSpacing mt10">\n\t\t{{newsMessage.message.subtitle}}\n\t</div>\n</div>\n\n<div class="news-popup-button mt20 confetti-share hoverable" tv-auto-focus ng-click="learnMore()">\n\t<div class=" text-multiple bold  smallerSpacing">\n\t\t{{newsMessage.message.link_text}}<br />\n\t</div>\n</div>\n\n<div class="news-popup-button mt10 confetti-cancel hoverable" tv-auto-focus ng-click="dismissStreamPopup()">\n\t<div class="text-multiple semibold  smallerSpacing">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.CLOSE\' | spTranslate)}}<br />\n\t</div>\n</div>'),t.put("components/omni-chart/omni-chart.html",'<div id="omniChartArea">\r\n\t{{getStrokeColor()}}\r\n\t<canvas id="omniChart" ng-class="{speedChart:speedOnly,multiChart:!speedOnly}" class="test"></canvas>\r\n</div>\r\n<div id="omniChart-nodata" class="smallTextText text-center" ng-if="shouldShowCover()">\r\n\t{{::(\'OMNICHART.WAITING\' | spTranslate)}}</div>\r\n\r\n'),t.put("components/one-pane/one-pane.html",'<div id="onePane" class="darkText100 " tv-focus-stack ng-class=\'getOuterClassList()\'>\n  <loading-pane id="loadingPane" class="fullScreenPane" ng-if="inBlurredState()" should-show-restart-service="showRestartService"></loading-pane>\n  <intro-slides sale="isInSale" id="introSlides" class="fullScreenPane" intro-showing="$parent.$parent.introShowing"\n    connected="successfulComms" ng-if="allLanguagesLoaded && shouldShowIntro()" available-height="useableHeight"\n    on-complete="defaultPopinClose()">\n  </intro-slides>\n  <div class="mainContent secondaryBackground" ng-if="introComplete()">\n    <div id="topContainer" class="" aria-hidden="{{!isOnDashboard()}}">\n      <md-toolbar class="headerBackground left-divider">\n        <h1 class="md-toolbar-tools headerBackground" ng-class="{dash:isDualPane() }">\n          <div id="onePaneDashboardButton" ng-if="shouldShowDashboardButton()">\n            <button aria-label="{{::\'ARIALABEL.SETTINGS\' | spTranslate}}" class="dashboard-button"\n              nav-controller="Settings" ng-click="goToSettings()" tv-auto-focus>\n              <div ng-if="hasNewsEvents() && showNewsPane()" class="newsAlertMenuButton"></div>\n              <div ng-if="!hasNewsEvents() || !showNewsPane()" class="menu-button"></div>\n            </button>\n          </div>\n          <div class="thinText titletextNav darkText"> Speedify </div>\n          <on-off-switch in-status-box="true" id="navbar-onoff" state="getToggleSpeedifyState()"\n            click="toggleSpeedify()" current-state="currentState" width="50" height="30" units="\'px\'" role="button"\n            aria-label="{{::\'ARIALABEL.TOGGLE\' | spTranslate}}">\n          </on-off-switch>\n        </h1>\n      </md-toolbar>\n    </div>\n    <dashboard ng-if="allLanguagesLoaded && !shouldShowLockedDashboard()" aria-hidden="{{!isOnDashboard()}}">\n    </dashboard>\n    <lock-screen ng-if="allLanguagesLoaded && shouldShowLockedDashboard()" aria-hidden="{{!isOnDashboard()}}">\n    </lock-screen>\n  </div>\n  <slider-nav aria-hidden="{{showFirstChild}}" ng-if="showSettings"\n    back-button-title="{{::\'SETTINGSPANE.DONE\' | spTranslate}}" header="{{getSettingsHeader()}}" nav-id=\'settings\'\n    controller-name="Settings">\n    <settings-pane ng-if="allLanguagesLoaded"></settings-pane>\n  </slider-nav>\n  <slider-nav aria-hidden="{{showSecondChild}}" ng-if="showFirstChild" session-stats="sessionStats"\n    back-button-title="{{backButtonTitle}}" header="{{header}}" nav-id=\'{{navId}}\' controller-name="{{controllerName}}"\n    show-back-button="{{showBackButton}}" show-qr-code="{{showQrCode}}" styles="styles">\n    <settings-session ng-if="showSessionSettings" startupConnect="{{startupConnect}}"\n      showBondingMode="{{showBondingMode}}" showTransportMode="{{showTransportMode}}"\n      showHeaderCompression="{{showHeaderCompression}}" showJumboMTU="{{showJumboMTU}}"\n      showDisconnectOnExit="{{showDisconnectOnExit}}" showDevTools="{{showDevTools}}"\n      showPairAndShare="{{showPairAndShare}}"></settings-session>\n    <settings-privacy ng-if="showPrivacySettings" showEncryption="{{showEncryption}}"\n      showDNSService="{{showDNSService}}" showKillSwitch="{{showKillSwitch}}" showDNSLeak="{{showDNSLeak}}"\n      showIPLeak="{{showIPLeak}}" showNotifications="{{showNotifications}}">\n    </settings-privacy>\n    <test-speed ng-if="showTestSpeed">\n    </test-speed>\n    <settings-statistics ng-if="showStatistics" current-duration="currentDuration" session-stats="sessionStats">\n    </settings-statistics>\n    <settings-news ng-if="showNews" dashboard="false" news="currentNewsEvents">\n    </settings-news>\n    <settings-networks ng-if="showNetworkSettings" network="currentNetwork" header="{{header}}"\n      network-name="{{networkName}}">\n    </settings-networks>\n    <settings-account ng-if="showAccountSettings" header="{{header}}" session-stats="sessionStats">\n    </settings-account>\n    <setting-server-list ng-if="showServerSettings" header="{{header}}"></setting-server-list>\n    <about ng-if="showAbout" header="{{header}}"></about>\n    <settings-theme ng-if="showTheme" header="{{header}}"></settings-theme>\n    <settings-sounds ng-if="showSoundPane" header="{{header}}"></settings-sounds>\n    <settings-language ng-if="showLanguage" header="{{header}}"></settings-language>\n    <settings-window-location ng-if="showWindowLocation" header="{{header}}"></settings-window-location>\n    <settings-graph-rotation ng-if="showGraphRotation" header="{{header}}"></settings-graph-rotation>\n  </slider-nav>\n  <slider-nav ng-if="showSecondChild" session-stats="sessionStats" back-button-title="{{header}}"\n    header="{{childHeader}}" nav-id=\'{{childNavId}}\' controller-name="{{childControllerName}}"\n    show-back-button="{{childBackButton}}" styles="styles">\n    <upgrade sale="isInSale" ng-if="showUpgrade" is-usage="isAccount100()"></upgrade>\n    <settings-pair-share-qr ng-if="showPairAndShareQr"></settings-pair-share-qr>\n    <settings-pair-share-display ng-if="showPairAndShareDisplay"></settings-pair-share-display>\n    <settings-pair-share-request ng-if="showPairAndShareRequest"></settings-pair-share-request>\n    <settings-pair-share-auto-pair ng-if="pairAndShareAutoPair"></settings-pair-share-auto-pair>\n    <settings-pair-share-control ng-if="showPairAndShareControl"></settings-pair-share-control>\n    <settings-pair-receive-control ng-if="showPairAndReceiveControl"></settings-pair-receive-control>\n    <settings-networks ng-if="showPasNetworkSettings" network="currentNetwork" header="{{header}}"\n      network-name="{{networkName}}"></settings-networks>\n    <password-change ng-if="showPasswordChange"></password-change>\n    <register-login ng-if="showLoginSettings" initial-text="initialRegisterText" current-state="currentState"\n      initial-email="loginRegisterEmail"></register-login>\n    <settings-network-priority ng-if="showPrioritySettings" network="currentNetwork" header="{{networkName}}">\n    </settings-network-priority>\n    <settings-statistics-details ng-if="showStatisticDetails" current-duration="currentDuration"\n      header="{{networkName}}">\n    </settings-statistics-details>\n    <network-limits-daily ng-if="showDailyLimitSettings" network="currentNetwork" header="{{networkName}}">\n    </network-limits-daily>\n    <network-limits-monthly ng-if="showMonthlyLimitSettings" network="currentNetwork" header="{{networkName}}">\n    </network-limits-monthly>\n    <settings-network-overlimit ng-if="showOverlimitSettings" network="currentNetwork" header="{{networkName}}">\n    </settings-network-overlimit>\n    <settings-network-ratelimit ng-if="showRatelimitSettings" network="currentNetwork" header="{{networkName}}">\n    </settings-network-ratelimit>\n    <settings-network-ip ng-if="showIPAddressSettings" network="currentNetwork" header="{{networkName}}">\n    </settings-network-ip>\n  </slider-nav>\n  <slider-nav is-open="true" ng-if="shouldShowUpgradeNav()" nav-id=\'upgrade\' show-back-button="true"\n    controller-name=\'Upgrade\' header="{{getUpgradeHeader()}}">\n    <nag-display ng-if="currentNag!=\'expired\'&&currentNag!=\'usage100\'" nag-type="currentNag"></nag-display>\n    <upgrade sale="isInSale" ng-if="currentNag==\'expired\'" is-expired="true"></upgrade>\n    <upgrade sale="isInSale" ng-if="currentNag==\'usage100\'" is-usage="true"></upgrade>\n  </slider-nav>\n  <div ng-if="allLanguagesLoaded && showAddDNS">\n    <md-sidenav tv-focus-stack md-component-id="addDNS" ng-class="getClasses()">\n      <md-toolbar class="headerBackground" id="sliderNavSettings">\n        <div class="dashboard-button">\n          <md-button class="dashboard-button stn-btn-dismiss-nav" nav-controller="AddDNS" ng-click="done()">\n            <div class="back-button-title buttonColor">{{::\'PROMPTS.CANCEL\' | spTranslate}}</div>\n          </md-button>\n        </div>\n        <div class="header-title"> {{::\'SETTINGSPANE.PRIVACY.DNSSERVICE.ADD\' | spTranslate}} </div>\n        <div class="helpIconContainer">\n          <md-button class="done-button" nav-controller="AddDNS" ng-click="done()" ng-disabled="!isDnsAddressesValid()">\n            <div class="back-button-title buttonColor">{{::\'SETTINGSPANE.DONE\' | spTranslate}}</div>\n          </md-button>\n        </div>\n      </md-toolbar>\n      <div class="header-divider"></div>\n      <div class="header"></div>\n      <form name="dnsForm">\n        <div class="description ip-address">\n          {{::\'SETTINGSPANE.PRIVACY.DNSSERVICE.IP\' | spTranslate}}\n        </div>\n        <div id="content" class="dns-input">\n          <div ng-repeat="i in getDnsLimit() track by $index">\n            <div class="content-child">\n              <input class="secondaryBackground darkText" type="text"\n                placeholder="{{::\'SETTINGSPANE.PRIVACY.DNSSERVICE.ADDIP\' | spTranslate}}" name="dnsAddresses[$index]"\n                ng-model="dnsAddresses[$index]" ng-change="isDnsAddressesValid(dnsAddresses)" required\n                autocomplete="off">\n            </div>\n          </div>\n\n        </div>\n      </form>\n    </md-sidenav>\n  </div>\n  <popup-alert-container></popup-alert-container>\n  <div ng-if="hasUserTextBannerEvents() || hasUserNotifications()" show="introComplete() && allLanguagesLoaded"\n    id="accountMessage" class="flex row spaceBetween" ng-class="getUserMessageBackgroundClasses()">\n    <div class="flex column center" ng-click="handleUserMessage(currentAccountMessage)">\n      <div class="mediumText darkText100 ml16"> {{currentAccountMessage.message.title}}</div>\n      <div class="streaming-multi ml16 accountMessageSubtitle"> {{currentAccountMessage.message.subtitle}}</div>\n    </div>\n    <div class="mr16 mt20" ng-click="exitUserMessage()">\n      <img class="exitMessage" img-retry src="components/one-pane/img/exitMessage.png">\n    </div>\n  </div>\n  <div ng-if="introComplete()">\n    <div ng-if="allLanguagesLoaded && !isUnlimited() && !shouldShowLockedDashboard()" id="footer"\n      aria-hidden="{{!isOnDashboard()}}">\n      <div class="uber-box-meter" ng-class="getMeterBackgroundClasses()" id="uber-box-meter-background"></div>\n      <div class="uber-box-meter" ng-class="getMeterProgressClasses()" ng-style="getMeterProgressStyle()" id="\n        uber-box-meter-progress"></div>\n      <account-info ng-if="!isUnlimited()" id="uber-account" current-state="currentState" hide-email="true"\n        hide-sub-end="true" use-dark-text="true" use-small-spacing="true" use-dark-bar="true" hide-period-text="true"\n        use-percent-text="true" allow-launcher="true">\n      </account-info>\n      <div id="uber-box-upgrade" ng-if="shouldShowUpgradeButton()">\n        <div ng-class="pillClass()" class="pill" ng-click="showStore()">\n          <div ng-class="saleClass()" class="bold" ng-style="languageStyle">\n            {{::(\'UBERBOX.UPGRADENOW\' | spTranslate)}}\n          </div>\n          <div ng-if="shouldShowSale()===true" class="bold savings" ng-style="languageStyle">\n            {{::(\'UBERBOX.UPGRADENOWSALE\' | spTranslate)}}\n          </div>\n        </div>\n        <div ng-if="shouldShowUpgradeAttention()" id="uber-box-account-attention"></div>\n      </div>\n    </div>\n\n    <new-popup-container ng-if="shouldShowDesktopNag()" show="shouldShowDesktopNag()">\n      <desktop-store-nags header="\'\'" class="nobackground" screen-name="\'desktop-store-nags\'" ok="closePopins(true)">\n      </desktop-store-nags>\n    </new-popup-container>\n\n    <new-popup-container ng-if="!isMobile() && !isMacExtension()" show="shouldShowUsageNag()">\n      <nag-display ng-if="shouldShowUsageNag()" nag-type="currentNag"></nag-display>\n      <upgrade sale="isInSale" ng-if="currentNag==\'expired\'" is-expired="true"></upgrade>\n      <upgrade sale="isInSale" ng-if="currentNag==\'usage100\'" is-usage="true"></upgrade>\n    </new-popup-container>\n    <new-popup-container ng-if="shouldShowSocialPopup" show=shouldShowSocialPopup>\n      <social-popup header="\'\'" class="nobackground" screen-name="\'social-popup\'" ok="closePopins(true)">\n      </social-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="shouldShowConfettiPopup" show="shouldShowConfettiPopup">\n      <confetti-popup header="\'\'" class="nobackground" screen-name="\'confetti-popup\'" ok="closePopins(true)"\n        session-stats="sessionStats"></confetti-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="shouldShowStreamPopup" show="shouldShowStreamPopup">\n      <stream-popup header="\'\'" class="nobackground" screen-name="\'stream-popup\'" ok="closePopins(true)"\n        stream-to-show="streamToShow" bad-loss="streamingStats.badLoss" bad-latency="streamingStats.badLatency">\n      </stream-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="showFeatureUpgradePopup" show="showFeatureUpgradePopup">\n      <feature-upgrade-popup header="\'\'" class="nobackground" screen-name="\'news-popup\'" ok="closePopins(true)"\n        news-message="currentNewsMessage">\n        </feature-upgrade-popupp>\n    </new-popup-container>\n    <new-popup-container ng-if="shouldShowNewsPopup || shouldShowReviewPopup"\n      show="shouldShowNewsPopup || shouldShowReviewPopup">\n      <news-popup header="\'\'" class="nobackground" screen-name="\'news-popup\'" ok="closePopins(true)"\n        news-message="currentNewsMessage">\n      </news-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="showingPasPopup" show="showingPasPopup">\n      <pas-popup header="\'\'" class="nobackground" is-requesting="isRequesting" error-message="pasErrorMessage"\n        is-pairing-success="isPairingSuccess" requesting-auth=\'requestingAuth\' is-auto-pair="isAutoPair"\n        screen-name="\'pas-popup\'" ok="closePopins(true)">\n      </pas-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="shouldShowSpeedTestResult" show="shouldShowSpeedTestResult">\n      <test-speed-popup header="\'\'" class="nobackground" show-history="true" screen-name="\'speed-test-popup\'"\n        ok="closePopins(true)">\n      </test-speed-popup>\n    </new-popup-container>\n    <new-popup-container ng-if="showConnectStartupPermission && !showIntroFlow" show="showConnectStartupPermission">\n      <connect-startup-permission-popup is-intro="false" screen-name="\'connect-startup-permission\'" class="nobackground"\n        ok="closePopins(true)"> </connect-startup-permission-popup>\n    </new-popup-container>\n    <new-popup-container\n      ng-if="allLanguagesLoaded && (showPushPermission || showGoforth || showCellWizard || showConnectStartupPermission)"\n      show="showIntroFlow">\n      <connect-startup-permission-popup ng-if="showConnectStartupPermission" is-intro="true"\n        screen-name="\'connect-startup-permission\'" class="nobackground" ok="closePopins(true)">\n      </connect-startup-permission-popup>\n      <push-permission header="\'\'" ng-if="showPushPermission" class="nobackground" screen-name="\'push-permission\'"\n        ok="closePopins(true)">\n      </push-permission>\n      <goforth ng-if="showGoforth"> </goforth>\n      <cell-wizard wizard-network="wizardNetwork" ng-if="showCellWizard"></cell-wizard>\n    </new-popup-container>\n    <captive-portal-popup current-state="currentState" current-network="captiveNetwork" header="\'\'"\n      ng-if="captivePortalPopup" class="nobackground" screen-name="\'captive-portal-popup\'" ok="closePopins(true)">\n    </captive-portal-popup>\n    <overlimit-popup-container class="overlimit-container" networks="globals.networks"></overlimit-popup-container>\n  </div>\n  <new-popup-container ng-if="showStreamingBypassPopup" show=showStreamingBypassPopup>\n    <streaming-bypass-popup streaming-title="streamingTitle" header="\'\'" class="nobackground"\n      screen-name="\'streaming-bypass-popup\'" ok="closePopins(true)">\n    </streaming-bypass-popup>\n  </new-popup-container>\n</div>'),t.put("components/onoffswitch/onoffswitch.html",'<div id="onOff" class="onoffswitch" ng-click="toggleclick()" ng-style="::getBgStyle()"\n\taria-label="{{::\'ARIALABEL.TOGGLESETTING\' | spTranslate}}"\n\tng-class="{off:state==TOGGLE_STATE.PENDING_OFF||state==TOGGLE_STATE.OFF,on:state==TOGGLE_STATE.ON||state==TOGGLE_STATE.PENDING_ON,error:state==TOGGLE_STATE.PENDING_RECONNECT,pending:state==TOGGLE_STATE.PENDING_OFF||state==TOGGLE_STATE.PENDING_ON,\'out-of-data\':overDataLimit(),disable:disable}">\n\t<div class="onoffswitch-switch" ng-style="getToggleStyle()" mouse-in="togglePressed(true)"\n\t\tmouse-out="togglePressed(false)" ng-class="{pressed:pressed,hoverable:expandOnTouch==0}">\n\t\t<spinner ng-if="getSpinnerVisible()" color="\'#2CF1A4\'" size="\'2px\'" class="onoff-loader"></spinner>\n\t\t<img ng-if="showArrow()" class="rubberband" img-retry id="onoffswitch-lock-chevron"\n\t\t\tng-class="getLockImageClasses()" src="components/onoffswitch/img/arrow.png">\n\t\t<img ng-if="showLock() && showEncryptedLock() && state!=TOGGLE_STATE.PENDING_RECONNECT" img-retry\n\t\t\tid="onoffswitch-lock-chevron" ng-class="getLockImageClasses()"\n\t\t\tsrc="components/onoffswitch/img/connectedLock.png">\n\t\t<img ng-if="showLock() && showEncryptedLock() && state==TOGGLE_STATE.PENDING_RECONNECT" img-retry\n\t\t\tid="onoffswitch-lock-chevron" ng-class="getLockImageClasses()"\n\t\t\tsrc="components/onoffswitch/img/errorLock.png">\n\t\t<img ng-if="showLock() && showUnencryptedLock()" img-retry id="onoffswitch-lock-chevron"\n\t\t\tng-class="getLockImageClasses()" src="components/onoffswitch/img/unencryptedLock.png">\n\t</div>\n</div>'),t.put("components/pas-popup/pas-popup.html",'<div class="flex">\n\t<div class="flex center pasIcon">\n\t\t<img img-retry ng-src="{{getTopIcon()}}" aria-hidden="true">\n\t</div>\n</div>\n<div class="bold pairingTitle" ng-bind="getTitle()"></div>\n\n<div class="newpop-text-container">\n\t<div class="newpop-description  smallerSpacing mt10" ng-bind="getSubTitle()"\n\t\tng-if="!isPairingSuccess || isAutoPair"></div>\n</div>\n\n<div ng-if="!isAutoPair" class="flex row mt5">\n\t<img class="optionIcon" img-retry src="components/pas-popup/img/encryptedIcon.png" aria-hidden="true">\n\t<div class="xsmallText optionText">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.OPTIONS.ENCRYPTED\' | spTranslate)}}\n\t</div>\n</div>\n<div class="flex row mt5">\n\t<img class="optionIcon" img-retry src="components/pas-popup/img/permissionIcon.png" aria-hidden="true">\n\t<div class="xsmallText optionText">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.OPTIONS.PERMISSION\' |\n\t\tspTranslate)}}\n\t</div>\n</div>\n<div class="flex row mt5">\n\t<img class="optionIcon" img-retry src="components/pas-popup/img/limitsIcon.png" aria-hidden="true">\n\t<div class="xsmallText optionText">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.OPTIONS.LIMITS\' | spTranslate)}}\n\t</div>\n</div>\n\n\n<div class="news-popup-button mt20 confetti-share hoverable" tv-auto-focus\n\tng-class="{ \'disableEvents\': didMakeSelection }"\n\tng-click="!isRequesting && (isPairingSuccess || errorMessage ) ? dismissPasPopup(true, true) : pairDevice()">\n\t<div class=" text-multiple bold  smallerSpacing" ng-if="!isAuthenticating">\n\t\t<span\n\t\t\tng-if="!isRequesting && !isPairingSuccess && !errorMessage && !isAutoPair">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.ACCEPT\'\n\t\t\t|\n\t\t\tspTranslate)}}</span>\n\t\t<span ng-if="isRequesting && !errorMessage">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.REQUEST\' |\n\t\t\tspTranslate)}}</span>\n\t\t<span\n\t\t\tng-if="!isRequesting && (isPairingSuccess || errorMessage || isAutoPair )">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.OK\'\n\t\t\t|\n\t\t\tspTranslate)}}</span>\n\t</div>\n\t<div ng-if="isAuthenticating">\n\t\t<div class="spinnerContainer">\n\t\t\t<div class="authspinner spinner ml5"></div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="news-popup-button mt10 confetti-cancel hoverable" ng-if="!errorMessage"\n\tng-class="{ \'disableEvents\': didMakeSelection }" tv-auto-focus\n\tng-click="(!isPairingSuccess && !isAutoPair) ? cancelPairing() : managePermissions()">\n\t<div class="text-multiple semibold  smallerSpacing" ng-if="!isPairingSuccess && !isAutoPair">\n\t\t{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.CANCEL\' | spTranslate)}}\n\t</div>\n\t<div class="text-multiple semibold  smallerSpacing" ng-if="isPairingSuccess || isAutoPair">\n\t\t{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.POPUP.MANAGE\' | spTranslate)}}\n\t</div>\n</div>'),t.put("components/passwordChange/passwordChange.html",'<div id="passwdChangeWrapper" class="password-change contentColor">\r\n\t<form novalidate name="passwdChangeForm" id="passwdChangeForm" class="padT20">\r\n\t\t<center>\r\n\t\t\t<input ios-focus-bug-fix class="text-single top-email-input" type="email" ng-model="username"\r\n\t\t\t\tautocomplete="off" required="true" id="user-text-field"\r\n\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.EMAIL\' | spTranslate)}}" ng-disabled="true" autocomplete="username" />\r\n\t\t\t<input ios-focus-bug-fix class="text-single middle-text-field second-tier-input-fields"\r\n\t\t\t\ttype="password" ng-model="oldpassword" autocomplete="off" required="true" id="tt"\r\n\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.PASSCURRENT\' | spTranslate)}}" ng-disabled="!passwdChangeEnabled()"\r\n\t\t\t\ttv-auto-focus autocomplete="current-password" />\r\n\t\t</center>\r\n\t\t<center>\r\n\t\t\t\t<input ios-focus-bug-fix class="text-single middle-text-field second-tier-input-fields" type="password"\r\n\t\t\t\tpattern=".{8,}" required ng-model="password" autocomplete="off" required="true" id="password-text-field"\r\n\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.PASSNEW\' | spTranslate)}}" ng-disabled="!passwdChangeEnabled()"\r\n\t\t\t\tautocomplete="current-password" />\r\n\t\t\t<input ios-focus-bug-fix\r\n\t\t\t\tclass="text-single second-tier-input-fields bottom-confirm-password-input " type="password"\r\n\t\t\t\tpattern=".{8,}" required ng-model="password2" autocomplete="off" required="true"\r\n\t\t\t\tid="password-text-field" placeholder="{{::(\'FORMS.DEFAULT.PASSCONFIRM\' | spTranslate)}}"\r\n\t\t\t\tng-disabled="!passwdChangeEnabled()" autocomplete="current-password" />\r\n\t\t</center>\r\n\t\t<center>\r\n\t\t\t<button type="submit" id="passwdChange-change"\r\n\t\t\t\tclass="confirm-button whiteText normalText hoverable shadow text-single"\r\n\t\t\t\tng-click="passwdChange()" id="passwdChangeButton" ng-bind="getpasswdChangeText()" \r\n\t\t\t\tng-disabled="!passwdChangeEnabled()"></button>\r\n\t\t\t<div class="passwdChange">\r\n\t\t\t\t<div id="passwdChange-help"\r\n\t\t\t\t\tclass="passwdChange-Button linkBlue smallText hoverableText text-single"\r\n\t\t\t\t\tng-click="help()">\r\n\t\t\t\t\t{{::(\'HELP.GETHELP.PASSWORD\' | spTranslate)}}</div>\r\n\t\t\t\t<span class="passwdChange-Button"> | </span>\r\n\t\t\t\t<div class="passwdChange-Button linkBlue smallText hoverableText text-single" ng-click="doPasswordReset()">\r\n\t\t\t\t\t{{::(\'REGISTERLOGIN.BUTTONS.FORGOTPASSWORD\' | spTranslate)}}</div>\r\n\t\t\t</div>\r\n  </center>\r\n\t</form>\r\n</div>'),t.put("components/popup-alert/popup-alert.html",'<div id="popupContainer" class="popup-alert-container animated " ng-if="show"\r\n\tng-class="{visible:show,sliding:!isBubble}">\r\n\t<div class="popup-alert-display" role="dialog">\r\n\t\t<div class="popup-alert-inner">\r\n\t\t\t<div class="pa-back" ng-class="{visible:show&&showChild}" ng-click="backClick()">\r\n\t\t\t</div>\r\n\t\t\t<div class="pa-child" ng-class="{visible:show&&showChild}">\r\n\t\t\t\t<div tv-focus-stack ng-if="!isBubble"\r\n\t\t\t\t\tclass="pa-child-scroller darkText normalText flex column align-center">\r\n\t\t\t\t\t<div class="pa-section pa-message shadow">\r\n\t\t\t\t\t\t<img img-retry class="pa-icon" ng-if="isAlert"\r\n\t\t\t\t\t\t\tsrc="components/popup-alert/img/warning.png"></img>\r\n\t\t\t\t\t\t<img img-retry class="pa-icon" ng-if="!isAlert" src="speedify.png"></img>\r\n\t\t\t\t\t\t<div class="text-multi" ng-bind-html="::unescape(message)"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="pa-section whiteText pa-option pa-option1 hoverable shadow text-center"\r\n\t\t\t\t\t\ttv-auto-focus ng-click="doSelect(\'yes\')" ng-if="yes&&yes!=\'\'"><span\r\n\t\t\t\t\t\t\tng-bind-html="::unescape(yes)"></span></div>\r\n\t\t\t\t\t<div class="pa-section whiteText pa-option pa-option3 hoverable shadow text-center"\r\n\t\t\t\t\t\tng-click="doSelect(\'maybe\')" ng-if="maybe&&maybe!=\'\'"><span\r\n\t\t\t\t\t\t\tng-bind-html="::unescape(maybe)"></span></div>\r\n\t\t\t\t\t<div class="pa-section whiteText pa-option pa-option2 hoverable shadow text-center"\r\n\t\t\t\t\t\tng-click="doSelect(\'no\')" ng-if="!isAlert&&no&&no!=\'\'"><span\r\n\t\t\t\t\t\t\tng-bind-html="::unescape(no)"></span></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="pa-child-bubble" ng-if="isBubble">\r\n\t\t\t\t\t<bubble-action content="content" header="header" message="message" action-text="yes"\r\n\t\t\t\t\t\tposition="position" action-event="doSelect(\'yes\')" dismiss-event="doSelect(\'no\')">\r\n\t\t\t\t\t</bubble-action>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/premium-feature-header/premiumFeatureHeader.html",'<div id="premiumFeature">\r\n\t<div id="premiumFeaturesScreen" class="premiumFeatureDescription flex row flexCenter mB10"\r\n\t\tng-if="isPremiumSetting()">\r\n\t\t<img class="premium-icon" img-retry src="img/premiumFeatureLockIcon.png" />\r\n\t\t<div class="xsmallText darkText80">\r\n\t\t\t{{::(\'SETTINGSPANE.PREMIUMFEATURES\' | spTranslate)}}<span class="linkBlue sl-premium-link"\r\n\t\t\t\tng-click="sendToUpgrade()">\r\n\t\t\t\t{{::(\'SERVERS.OPTIONS.UPGRADELINK\' | spTranslate)}}</span>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/productList/product.html",'<button ng-if="product" class="productList-product button hoverable" ng-click="buyProduct(product)" ng-class="{\r\n    family: product.isFamily,\r\n    disabled: showDisabled,\r\n    free:product.id==\'free\',\r\n    upgrade:product.id==\'upgrade\',\r\n    isSelected: selectedProduct,\r\n    hasSavings: false,\r\n    trial:product.isTrial,\r\n    popular:product.popular,\r\n    bestdeal:product.bestdeal,\r\n    multiuser:product.users>1 && !product.isFamily, \r\n    threeyear:product.productTag===\'threeyear\'}" ng-disabled="productListAttemptPending">\r\n  <div ng-if="product.savings" class="savingsPill">\r\n    <span ng-if="product.bestdeal">{{::(\'PURCHASE.BESTDEAL\' |\r\n      spTranslate)}} </span> <span class="bold" ng-bind-html="getSavings(product)"></span>\r\n  </div>\r\n  <div class="flex column">\r\n    <span class="text-single bold normalText darkText" ng-bind="getName(product)"></span>\r\n    <span class="text-single  smallText mt5 secondaryText" ng-bind-html="getTotalCost(product)"></span>\r\n  </div>\r\n  <div ng-if="product.users>1 && !product.popular && !product.isFamily"\r\n    class="productList-product-savings darkText xsmallText thinText text-single">\r\n    <div class="bold" ng-bind-html="getUserDevices(product)"></div>\r\n    <div class="" ng-bind-html="getPerUserPrice(product)"></div>\r\n  </div>\r\n\r\n</button>'),t.put("components/purchase/purchase.html",'<div id="purchase" ng-if="isUpgradeable()" class=\'settings-account-header-container\'>\r\n\t<img img-retry src="components/settings-pane/img/unlimitedAccount.png" class="settings-image-avatar"\r\n\t\tng-class="{\'unlimitedAccount\':isUnlimited() && !isFamily(), familyAccount: isUnlimited() && isFamily()}" />\r\n\t<div ng-if="!isFamily()" class="account-header-text">{{::(\'ACCINFO.TYPE.UNLIMITED\' | spTranslate)}}</div>\r\n\t<div ng-if="isFamily()" class="account-header-text">{{::(\'ACCINFO.TYPE.FAMILY\' | spTranslate)}}</div>\r\n\t<div class="settings-account-tier-header">\r\n\t\t<div class="tiersubtitle" ng-bind="getTierName()">ff</div>\r\n\t\t<span class="tiersubtitle">|</span>\r\n\t\t<div ng-if="currentPricePlan() == null" class="tiersubtitle" ng-bind="getRenewalDate()"></div>\r\n\t\t<div ng-if="currentPricePlan() != null" class="tiersubtitle" ng-bind="currentPricePlan()"></div>\r\n\t</div>\r\n\t<div ng-if="currentPricePlan() != null" class="tiersubtitle" ng-bind="getRenewalDate()"></div>\r\n</div>\r\n<div class="purchase-container purchase-productarea purchase-productarea-background"\r\n\tng-class="{\'mt32\':isUpgradeable()===false}" id="purchaseContainer">\r\n\t<cover show="purchaseAttemptPending!==false" full="true" shade="true" color="\'#D3D3D3\'"\r\n\t\tmessage="::\'PURCHASE.COMPLETECOVER\' | spTranslate"></cover>\r\n\t<div class="purchase-description smallText linkRed smallerSpacing text-center">\r\n\t\t{{getAccountingData()}}\r\n\t\t<div class="purchase-margins ml16 mr16" ng-if="isUsage&&periodRenewExtras&&introComplete()"\r\n\t\t\tbind-html-compile="::(\'PURCHASE.HEADER100USED\' | spTranslate:periodRenewExtras)"></div>\r\n\t\t<div ng-if="isExpired" bind-html-compile="::(\'PURCHASE.HEADEREXPIRED\' | spTranslate:periodRenewExtras)">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="subscription-segment-switch" ng-if="isApple() && !isFamily() && showTier2Product()">\r\n\t\t<div class="purchase-switch" ng-class="{\'purchase-switch-selected\': selectedPlan ===\'individual\'}"\r\n\t\t\tng-click="changeSelectedPlan(\'individual\')">{{::(\'PURCHASE.PLANS.INDIVIDUAL\' | spTranslate)}}</div>\r\n\t\t<div class="purchase-switch" ng-class="{\'purchase-switch-selected\': selectedPlan ===\'families\'}"\r\n\t\t\tng-click="changeSelectedPlan(\'families\')">{{::(\'PURCHASE.PLANS.FAMILY\' | spTranslate)}}</div>\r\n\t</div>\r\n\r\n\t<center>\r\n\t\t<div ng-class="getPurchaseHeader()">\r\n\t\t\t<div class="purchase-header-title normalText smallerSpacing">\r\n\t\t\t\t<img class="puchase-header-logo" src="components/purchase/img/speedifyIcon.png"></img>\r\n\t\t\t\t<span ng-if="selectedPlan ===\'individual\'" style="vertical-align: middle;"\r\n\t\t\t\t\tbind-html-compile="::(\'PURCHASE.PRODUCTTITLE\' | spTranslate:titleExtras)"></span>\r\n\t\t\t\t<span ng-if="selectedPlan ===\'families\'" style="vertical-align: middle;"\r\n\t\t\t\t\tbind-html-compile="::(\'PURCHASE.PRODUCTTITLEFAMILY\' | spTranslate:titleExtrasFamily)"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</center>\r\n\t<div ng-if="selectedPlan ===\'individual\'" class="plan-description">{{::(\'PURCHASE.REASONS.INDIVIDUAL\' |\r\n\t\tspTranslate)}}</div>\r\n\t<div ng-if="selectedPlan ===\'families\'" class="plan-description"\r\n\t\tbind-html-compile="::(\'PURCHASE.REASONS.FAMILY\' | spTranslate: iCloudStyle)">\r\n\t</div>\r\n\t<div class="purchase-productarea">\r\n\t\t<div class="purchase-productarea-content">\r\n\t\t\t<div id="productList-container">\r\n\t\t\t\t<div class="productList-product-loading"\r\n\t\t\t\t\tng-if="(productListing.products==undefined||productListing.products==null||productListing.products.length==0)&&productListing.productsError==null">\r\n\t\t\t\t\t<cover show="true" full="false" shade="false" color="\'D3D3D3\'" takes-clicks="false"></cover>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="productList-product-errortext smallText darkText smallerSpacing text-center"\r\n\t\t\t\t\tng-if="productListing.productsError!=null" ng-bind="productListing.productsError"></div>\r\n\t\t\t\t<center>\r\n\t\t\t\t\t<div ng-if="selectedPlan ===\'individual\'">\r\n\t\t\t\t\t\t<div ng-if="showTier2Product()">\r\n\t\t\t\t\t\t\t<product product="getYearlyProduct()" click="changeProduct(getYearlyProduct())"\r\n\t\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getYearlyProduct().id)"\r\n\t\t\t\t\t\t\t\tselected-product="isSelectedProduct(getYearlyProduct())"\r\n\t\t\t\t\t\t\t\tng-disabled="productListAttemptPending">\r\n\t\t\t\t\t\t\t</product>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="!isUnlimited() && !isUpgradeable()">\r\n\t\t\t\t\t\t\t<product product="getMonthlyProduct()" click="changeProduct(getMonthlyProduct())"\r\n\t\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getMonthlyProduct().id)"\r\n\t\t\t\t\t\t\t\tng-disabled="productListAttemptPending"\r\n\t\t\t\t\t\t\t\tselected-product="isSelectedProduct(getMonthlyProduct())">\r\n\t\t\t\t\t\t\t</product>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div ng-if="selectedPlan ===\'families\'">\r\n\t\t\t\t\t\t<div ng-if="!isUnlimited() || isUpgradeable()">\r\n\t\t\t\t\t\t\t<product product="getYearlyFamilyProduct()" click="changeProduct(getYearlyFamilyProduct())"\r\n\t\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getYearlyFamilyProduct().id)"\r\n\t\t\t\t\t\t\t\tng-disabled="productListAttemptPending"\r\n\t\t\t\t\t\t\t\tselected-product="isSelectedProduct(getYearlyFamilyProduct())"></product>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="showFamilyMonthly()">\r\n\t\t\t\t\t\t\t<product product="getMonthlyFamilyProduct()"\r\n\t\t\t\t\t\t\t\tclick="changeProduct(getMonthlyFamilyProduct())"\r\n\t\t\t\t\t\t\t\tshow-disabled="getIsPurchasingFor(getMonthlyFamilyProduct().id)"\r\n\t\t\t\t\t\t\t\tng-disabled="productListAttemptPending"\r\n\t\t\t\t\t\t\t\tselected-product="isSelectedProduct(getMonthlyFamilyProduct())"></product>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="upgradeButton bold normalText" ng-class="{\'family\': selectedPlan ===\'families\'}"\r\n\t\t\t\t\t\tng-click="buyProduct(selectedProduct)" ng-bind="getButtonText()">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</center>\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="haveTrials()">\r\n\t\t\t\t<div class="ml16 mr16 mt10" ng-bind="getTrialInfo()">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{{::(\'PURCHASE.CANCELSUBDESC\' | spTranslate)}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="mt10" ng-bind="getCurrencyCodeInformation()">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n<div ng-if="showMore">\r\n\t<div ng-if="selectedPlan ===\'individual\'" class="purchase-divider"></div>\r\n\t<div ng-if="selectedPlan ===\'individual\'" class="purchase-productarea-content">\r\n\t\t<div class="bold smallText darkText">{{::(\'PURCHASE.PLANS.FIXED\' | spTranslate)}}</div>\r\n\t\t<div class="productList-product-loading"\r\n\t\t\tng-if="(productListing.products==undefined||productListing.products==null||productListing.products.length==0)&&productListing.productsError==null">\r\n\t\t\t<cover show="true" full="false" shade="false" color="\'D3D3D3\'" takes-clicks="false"></cover>\r\n\t\t</div>\r\n\t\t<div class="productList-product-errortext smallText darkText smallerSpacing text-center"\r\n\t\t\tng-if="productListing.productsError!=null" ng-bind="productListing.productsError"></div>\r\n\t\t<center>\r\n\t\t\t<product product="getThreeYearProduct()" click="buyProduct(getThreeYearProduct())"\r\n\t\t\t\tshow-disabled="getIsPurchasingFor(getThreeYearProduct().id)" ng-disabled="productListAttemptPending">\r\n\t\t\t</product>\r\n\t\t</center>\r\n\t</div>\r\n</div>\r\n<div class="bottom-purchase-container">\r\n\t<center>\r\n\t\t<div ng-if="getFamilyProduct()" class="purchase-familyheader smallText text-center"\r\n\t\t\tng-bind="::\'PURCHASE.FAMILYHEADER\'|spTranslate"></div>\r\n\t\t<product product="getFamilyProduct()" click="buyProduct(getFamilyProduct())"\r\n\t\t\tshow-disabled="getIsPurchasingFor(getFamilyProduct().id)" ng-disabled="productListAttemptPending">\r\n\t\t</product>\r\n\t</center>\r\n\t<div ng-if="useWallOfText()"\r\n\t\tclass="purchase-description purchase-walloftext xxsmallText legalText smallerSpacing text-multi never-rtl">\r\n\t\t<span class="bold">Subscription Details</span><br />By purchasing a subscription, you agree to the <span\r\n\t\t\tid="purchase-tosLink" class="text-single" view-more-icon ng-click="launchTos()">Terms of Service</span>\r\n\t\tand\r\n\t\t<span id="purchase-privacyLink" class="text-single" ng-click="launchPrivacy()">Privacy Policy</span>. You\r\n\t\tcan cancel\r\n\t\tanytime. Payment will be charged\r\n\t\tto\r\n\t\tiTunes Account at end of trial. Subscription automatically renews unless auto-renew is turned off at\r\n\t\tleast\r\n\t\t24-hours before the end of the current period. Account will be charged for renewal within 24-hours prior\r\n\t\tto\r\n\t\tthe\r\n\t\tend of the current period. Subscriptions may be managed and auto-renewal may be turned off by going to\r\n\t\tyour\r\n\t\tiTunes Account Settings after purchase. Payment will be charged to iTunes Account at confirmation of\r\n\t\tpurchase.\r\n\t\tAny unused portion of a free trial period, if offered, will be forfeited when the user purchases a\r\n\t\tsubscription\r\n\t\tto that publication, where applicable.\r\n\t</div>\r\n\t<center ng-if="!isUpgradeable()" id="purchase-login-div">\r\n\t\t<div id="purchase-login" class="smallText linkBlue hoverableText text-single underline tvFocusItem"\r\n\t\t\tng-click="doSignIn()">{{::(\'PURCHASE.SIGNIN\' | spTranslate)}}</div>\r\n\t\t<div ng-if="shouldRestorePurchases()" id="purchase-restorePurchases"\r\n\t\t\tclass="smallText linkBlue hoverableText text-single underline" ng-click="doRestorePurchases()">\r\n\t\t\t{{::(\'ACCCTRL.RESTORE\' | spTranslate)}}</div>\r\n\t</center>\r\n</div>\r\n</div>'),t.put("components/push-permission/push-permission.html",'<div id="pushPermission" class="newpop-text-container ">\n\t<div class="newpop-title">\n\t\t{{::(\'PUSHPERMISSION.HEADER\' | spTranslate)}}\n\t</div>\n</div>\n<div class="newpop-image-container">\n\t<img class="newpop-image-top" src="components/push-permission/img/notifications.png" aria-hidden="true"></img>\n</div>\n<div class="newpop-text-container">\n\t<div class="newpop-description mLR17 smallerSpacing goforth-description-header">\n\t\t{{::(\'PUSHPERMISSION.RECEIVE\' | spTranslate)}}\n\t</div>\n\t<div class="newpop-description  smallerSpacing">\n\t\t{{::(\'PUSHPERMISSION.DESCRIPTION\' | spTranslate)}}\n\t</div>\n</div>\n<br>\n<div class="newpop-text-container">\n\t<div class="newpop-description mB10 smallerSpacing">\n\t\t{{::(\'PUSHPERMISSION.LOWERDESC\' | spTranslate)}}\n\t</div>\n</div>\n<br>\n<div class="newpop-button newpop-lower-button hoverable" tv-auto-focus ng-click="runPushPermission()">\n\t<div class="newpop-lower-button-description text-multiple semibold  smallerSpacing">\n\t\t{{::(\'PROMPTS.ALLOW\' | spTranslate)}}<br />\n\t</div>\n</div>\n<div class="news-popup-button mt10 pp-no-button hoverable darkText semibold" tv-auto-focus ng-click="pushPermissionDenied()">\n\t{{::(\'PROMPTS.NOTNOW\' | spTranslate)}}<br />\n</div>'),t.put("components/register-login/register-login.html",'<cover show="restorePending" full="true" shade="true" color="\'#D3D3D3\'"></cover>\r\n<div id="register-login-Wrapper" class="contentColor">\r\n\t{{checkRegister()}}\r\n\t<center ng-if="!registrationInProgress && !askingForPassword">\r\n\t\t<div class="mt20 darkText mediumText">{{::(\'SETTINGSPANE.ACCOUNT.HELPERMESSAGE\' | spTranslate)}}</div>\r\n\t\t<div ng-if="shouldShowStoreLink()" class="linkBlue">\r\n\t\t\t<span class="hoverableText underline mt10 xsmallText"\r\n\t\t\t\tng-click="doStore()">{{::(\'SETTINGSPANE.ACCOUNT.NOACCOUNT\' | spTranslate)}}</span>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</center>\r\n\t<div id="register-login-message" class="smallText darkText smallerSpacing text-multi ml16 mr16" ng-bind-html="extraMessage"\r\n\t\tng-if="extraMessage"\r\n\t\tng-class="{\'error-message\':isErrorMessage===true, \'normal-message\':isErrorMessage===false}"></div>\r\n\t<form novalidate name="registerLoginForm" id="registerLoginForm">\r\n\t\t<center>\r\n\t\t\t<input md-autofocus tv-auto-focus class="text-single" type="email" ng-model="username"\r\n\t\t\t\tng-class="getTopStyle()" autocomplete="username" required id="user-text-field"\r\n\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.EMAIL\' | spTranslate)}}"\r\n\t\t\t\tng-disabled="!registerEnabled() || askingForPassword && username" />\r\n\t\t\t<div ng-if="askingForPassword && username" class="no-top-space">\r\n\t\t\t\t<input tv-auto-focus id="password-input"\r\n\t\t\t\t\tng-class="{\'middle-input\': $parent.registerEnabled()===true, \'bottom-input\': $parent.registerEnabled()===false}"\r\n\t\t\t\t\tclass="text-single login-password-input" type="password" pattern=".{1,}" required\r\n\t\t\t\t\tng-model="$parent.password" autocomplete="current-password" required="true" id="password-text-field"\r\n\t\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.PASS\' | spTranslate)}}" ng-disabled="!$parent.registerEnabled()" />\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="askingForConfirmPassword && username" class="no-top-space">\r\n\t\t\t\t<input class="text-single" class="text-single bottom-input" type="password"\r\n\t\t\t\t\tpattern=".{1,}" required ng-model="$parent.confirmPassword" autocomplete="new-password"\r\n\t\t\t\t\trequired="true" id="confirm-password-text-field"\r\n\t\t\t\t\tplaceholder="{{::(\'FORMS.DEFAULT.PASSCONFIRM\' | spTranslate)}}"\r\n\t\t\t\t\tng-disabled="!$parent.registerEnabled()" />\r\n\t\t\t</div>\r\n\t\t</center>\r\n\t\t<center id="register-login-buttons">\r\n\t\t\t<button type="submit" ng-click="register()" id="register-login-login"\r\n\t\t\t\tclass="register-login-Button whiteText hoverable shadow text-single"\r\n\t\t\t\tng-bind="getRegisterText()" ng-disabled="!registerEnabled()"></button>\r\n\t\t</center>\r\n\t\t<center>\r\n\t\t\t<div class="bottom-links linkBlue">\r\n\t\t\t\t<span ng-if="shouldRestorePurchases()" id="restorePurchases" class="hoverableText"\r\n\t\t\t\t\tng-click="doRestorePurchases()">{{::(\'ACCCTRL.RESTORE\' | spTranslate)}}</span>\r\n\t\t\t\t<span ng-if="shouldRestorePurchases()" class="spacer darkText"> |\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class="hoverableText"\r\n\t\t\t\t\tng-click="doPasswordReset()">{{::(\'REGISTERLOGIN.BUTTONS.FORGOTPASSWORD\' | spTranslate)}}</span>\r\n\t\t\t</div>\r\n\t\t</center>\r\n\t</form>\r\n</div>'),t.put("components/review-prompt/review-prompt.html",'<div class="review-prompt-inner animated " id="review-prompt">\n  <div ng-if="mode==1">\n    <span class="review-prompt-item normalText thinText text-center">{{::(\'REVIEW.ENJOYING.QUESTION\' |\n      spTranslate)}}</span>\n    <div class="review-prompt-buttons">\n      <div id="topButton" tv-auto-focus\n        class="button smallText hoverable shadow blue review-prompt-button text-center"\n        ng-click="enjoyYes()">{{::(\'REVIEW.ENJOYING.YES\' | spTranslate)}}</div>\n      <div id="bottomButton"\n        class="button smallText hoverable shadow pink review-prompt-button text-center"\n        ng-click="enjoyNo()">{{::(\'REVIEW.ENJOYING.NO\' | spTranslate)}}</div>\n    </div>\n  </div>\n  <div ng-if="mode==2">\n    <span class="review-prompt-item normalText thinText text-center">{{::(\'REVIEW.REVIEW.QUESTION\' |\n      spTranslate)}}</span>\n    <div class="review-prompt-buttons">\n      <div id="topButton" tv-auto-focus class="button smallText hoverable shadow blue review-prompt-button text-center"\n        ng-click="reviewYes()">{{::(\'REVIEW.REVIEW.YES\' | spTranslate)}}</div>\n      <div id="bottomButton" class="button smallText hoverable shadow pink review-prompt-button text-center"\n        ng-click="reviewNo()">{{::(\'REVIEW.REVIEW.NO\' | spTranslate)}}</div>\n    </div>\n  </div>\n  <div ng-if="mode==3">\n    <span class="review-prompt-item normalText thinText text-center">{{::(\'REVIEW.SUPPORT.QUESTION\' |\n      spTranslate)}}</span>\n    <div class="review-prompt-buttons">\n      <div id="topButton" tv-auto-focus\n        class="button smallText hoverable shadow blue review-prompt-button text-center"\n        ng-click="supportYes()">{{::(\'REVIEW.SUPPORT.YES\' | spTranslate)}}</div>\n      <div id="bottomButton"\n        class="button smallText hoverable shadow pink review-prompt-button text-center"\n        ng-click="supportNo()">{{::(\'REVIEW.SUPPORT.NO\' | spTranslate)}}</div>\n    </div>\n  </div>\n  <div ng-if="mode==4">\n    <span class="review-prompt-item normalText thinText text-center">{{::(\'REVIEW.FBLIKE.QUESTIONFORLIKE\' |\n      spTranslate)}}</span>\n    <div class="review-prompt-buttons">\n      <div id="topButton"\n        class="button smallText hoverable shadow blue review-prompt-button text-center"\n        ng-click="fblikeYes()">{{::(\'REVIEW.FBLIKE.YES\' | spTranslate)}}</div>\n    </div>\n  </div>\n</div>'),t.put("components/server-list/server-list.html",'<div id="serverList">\r\n\t<div class="sl-options " ng-if="directory">\r\n\t\t<div>\r\n\t\t\t<div class="status-box-margin" ng-if="!isDualPane()">\r\n\t\t\t\t<status-box connected-time="connectedTimeFormatted" streaming-stats="streamingStats"\r\n\t\t\t\t\tlanguage-style="languageStyle" running="running" connected="getDaemonConnected()"\r\n\t\t\t\t\tcurrent-state="currentState" connected-server="connectedServer"></status-box>\r\n\t\t\t</div>\r\n\t\t\t<div class="xsmallText mt20 flex align-center darkText sl-option-desc" ng-if="!isUnlimited()">\r\n\t\t\t\t<img class="premium-icon" src="components/purchase/img/feature-changeserver.png"></img>\r\n\t\t\t\t<div class="sl-premium-desc">{{::(\'SERVERS.OPTIONS.MANUALSELECTIONDESC\' | spTranslate)}}<span\r\n\t\t\t\t\t\tclass="linkBlue sl-premium-link" ng-click="sendToUpgrade()">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.UPGRADELINK\' | spTranslate)}}</span></div>\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="hasRecents() && !isPayWallRestricted()">\r\n\t\t\t\t<div class="header">\r\n\t\t\t\t\t{{::(\'SETTINGSPANE.SERVERS.RECENT\' | spTranslate)}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="content">\r\n\t\t\t\t\t<div ng-repeat="recent in recentServers | orderBy:\'-\' track by $index">\r\n\t\t\t\t\t\t<div ng-click="selectCountry(recent.server, true)" ng-if="recent.type === \'country\'"\r\n\t\t\t\t\t\t\tclass="content-child">\r\n\t\t\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t\t\t{{recent.server.name}} {{getPrivateStatus(recent.server, \'country\')}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(recent.server, \'country\'))}}" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-click="selectCity(recent.server.country, recent.server.city, true)"\r\n\t\t\t\t\t\t\tng-if="recent.type === \'city\'" class="content-child">\r\n\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t{{recent.server.city.name}} {{getPrivateStatus(recent.server, \'city\')}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(recent.server.city,\'city\'))}}" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-click="selectServer(recent.server.server, true)" ng-if="recent.type === \'server\'"\r\n\t\t\t\t\t\t\tclass="content-child">\r\n\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t{{recent.server.server.displayName}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(recent.server.server, \'server\'))}}" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-click="setConnectMethod(recent.server)" ng-if="!recent.type" class="content-child">\r\n\t\t\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t\t\t{{getNameForType(recent.server)}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(recent.server))}}" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="header">{{::(\'SERVERS.OPTIONS.AUTOMATIC\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div id="content">\r\n\t\t\t\t<div ng-click="setConnectMethod(\'user\')" class="content-child">\r\n\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.CLOSEST\' | spTranslate)}}\r\n\t\t\t\t\t\t<span ng-if="!isPayWallRestricted()">{{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry ng-src="{{getButtonForStatus(isCurrentServer(\'user\'))}}" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-click="setConnectMethod(\'userpublic\')" ng-if="showClosestPrivate()" class="content-child">\r\n\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.CLOSESTPUBLIC\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(\'userpublic\'))}}" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-click="setConnectMethod(\'userprivate\')" ng-if="showClosestPrivate()" class="content-child">\r\n\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.CLOSESTDEDICATED\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(\'userprivate\'))}}" />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-click="setConnectMethod(\'p2p\')" ng-if="showP2P()" class="content-child">\r\n\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.P2P\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry ng-src="{{getButtonForStatus(isCurrentServer(\'p2p\'))}}" />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-click="setConnectMethod(\'proxy\')" ng-if="isDevUser()" class="content-child">\r\n\t\t\t\t\t<div class="content-name">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.PROXY\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry ng-src="{{getButtonForStatus(isCurrentServer(\'proxy\'))}}" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div ng-if="showClosestPrivate()">\r\n\t\t\t<div class="header">{{::(\'SERVERFUNCTIONS.PRIVATE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div id="content">\r\n\t\t\t\t<div\r\n\t\t\t\t\tng-repeat="country in privateCountryOptions | limitTo:displayedPrivateCountries track by country.code">\r\n\t\t\t\t\t<div ng-click="selectCountry(country)" class="content-child sl-option-item-servers server-margin">\r\n\t\t\t\t\t\t<img ng-click="setCountryExpanded(country.code); $event.stopPropagation()" img-retry\r\n\t\t\t\t\t\t\tclass="sl-server-chevron" ng-src="components/settings/img/chevron.png"\r\n\t\t\t\t\t\t\tng-class="{open:isCountryExpanded(country.code)}"></img>\r\n\t\t\t\t\t\t<div class="sl-option-item content-name">\r\n\t\t\t\t\t\t\t<img class="server-flag" ng-src="{{getServerFlag(country.code)}}" />\r\n\t\t\t\t\t\t\t{{country.name}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(country, \'country\'))}}" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="sl-option-item-cities" ng-if="isCountryExpanded(country.code)"\r\n\t\t\t\t\t\tng-class="{expanded:isCountryExpanded(country.code)}">\r\n\t\t\t\t\t\t<div ng-repeat="city in country.cities track by city.name"\r\n\t\t\t\t\t\t\tng-class="{\'no-side-spacing\':!isCityCodeDisplayed(city.code)}">\r\n\t\t\t\t\t\t\t<div ng-if="::isCityCodeDisplayed(city.code)">\r\n\t\t\t\t\t\t\t\t<div ng-click="selectCity(country,city)" class="content-child server-margin"\r\n\t\t\t\t\t\t\t\t\tng-class="{tvFocusSkipNav:!isCountryExpanded(country.code)}">\r\n\t\t\t\t\t\t\t\t\t<div ng-click="setCityExpanded(country.code,city.code); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t\t\t<img img-retry class="sl-server-chevron sl-option-item-indent"\r\n\t\t\t\t\t\t\t\t\t\t\tng-class="{tvFocusSkipNav:!isCountryExpanded(country.code),open:isCityExpanded(country.code,city.code)}"\r\n\t\t\t\t\t\t\t\t\t\t\tng-src="components/settings/img/chevron.png"\r\n\t\t\t\t\t\t\t\t\t\t\tng-class="{open:isCityExpanded(country.code,city.code)}"></img>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t\t\t{{city.name}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(city, \'city\'))}}" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="sl-option-item-servers"\r\n\t\t\t\t\t\t\t\tng-class="{expanded:isCityExpanded(country.code,city.code)||!isCityCodeDisplayed(city.code)}"\r\n\t\t\t\t\t\t\t\tng-if="isCityExpanded(country.code,city.code)||!isCityCodeDisplayed(city.code)">\r\n\t\t\t\t\t\t\t\t<div ng-repeat="server in city.servers track by $index">\r\n\t\t\t\t\t\t\t\t\t<div ng-click="selectServer(server)" class="content-child server-margin">\r\n\t\t\t\t\t\t\t\t\t\t<div class="sl-option-item-indent-child network-status-circle"\r\n\t\t\t\t\t\t\t\t\t\t\tng-class="checkMetric(server.unifiedMetric)">\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t\t\t\t{{server.displayName}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(server, \'server\'))}}" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="sl-more content-name" ng-click="toggleMorePrivateCountries()"\r\n\t\t\t\tng-bind="getMorePrivateCountriesText()" ng-if="privateCountryOptions.length > minDisplayedCountries">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<div class="header">\r\n\t\t\t\t<div class="sl-premium-desc">{{::(\'SERVERS.OPTIONS.MANUALSELECTION\' | spTranslate)}}\r\n\t\t\t\t\t<span ng-if="isPayWallRestricted()" class="linkBlue" ng-click="sendToUpgrade()">\r\n\t\t\t\t\t\t{{::(\'SERVERS.OPTIONS.REQUIRESUNLIMITED\' | spTranslate)}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-if="isPayWallRestricted() && !isApple()" class="no-text-transform">\r\n\t\t\t\t\t{{::(\'SERVERS.OPTIONS.MANUALPITCH\' | spTranslate)}}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div id="content">\r\n\t\t\t<div ng-repeat="country in countryOptions | limitTo:displayedCountries track by country.code">\r\n\t\t\t\t<div ng-click="selectCountry(country)" class="content-child server-margin">\r\n\t\t\t\t\t<img ng-click="setCountryExpanded(country.code); $event.stopPropagation()" img-retry\r\n\t\t\t\t\t\tclass="sl-server-chevron" ng-src="components/settings/img/chevron.png"\r\n\t\t\t\t\t\tng-class="{open:isCountryExpanded(country.code)}"></img>\r\n\t\t\t\t\t<div class="sl-option-item content-name">\r\n\t\t\t\t\t\t<img class="server-flag" ng-src="{{getServerFlag(country.code)}}" />\r\n\t\t\t\t\t\t{{country.name}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(country, \'country\'))}}" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="sl-option-item-cities" ng-class="{expanded:isCountryExpanded(country.code)}">\r\n\t\t\t\t\t<div ng-if=\'isCountryExpanded(country.code)\' ng-repeat="city in country.cities track by city.name"\r\n\t\t\t\t\t\tng-class="::{\'no-side-spacing\':!isCityCodeDisplayed(city.code)}">\r\n\t\t\t\t\t\t<div ng-if="::isCityCodeDisplayed(city.code)">\r\n\t\t\t\t\t\t\t<div ng-click="selectCity(country,city)" class="content-child server-margin"\r\n\t\t\t\t\t\t\t\tng-class="{tvFocusSkipNav:!isCountryExpanded(country.code)}">\r\n\t\t\t\t\t\t\t\t<div ng-click="setCityExpanded(country.code,city.code); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t\t<img img-retry class="sl-server-chevron sl-option-item-indent"\r\n\t\t\t\t\t\t\t\t\t\tng-class="{tvFocusSkipNav:!isCountryExpanded(country.code),open:isCityExpanded(country.code,city.code)}"\r\n\t\t\t\t\t\t\t\t\t\tng-src="components/settings/img/chevron.png"\r\n\t\t\t\t\t\t\t\t\t\tng-class="{open:isCityExpanded(country.code,city.code)}"></img>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t\t{{city.name}}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(city, \'city\'))}}" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="sl-option-item-servers"\r\n\t\t\t\t\t\t\tng-class="{expanded:isCityExpanded(country.code,city.code)||!isCityCodeDisplayed(city.code)}"\r\n\t\t\t\t\t\t\tng-if="isCityExpanded(country.code,city.code)||!isCityCodeDisplayed(city.code)">\r\n\t\t\t\t\t\t\t\x3c!--Start dummy premium. As of 12.7 the directory only sends premium servers for paid users.--\x3e\r\n\t\t\t\t\t\t\t\x3c!-- Conversation src https://connectify.slack.com/archives/CNKVCR1NV/p1668444253050849 --\x3e\r\n\t\t\t\t\t\t\t<div ng-if="!isPaying()" ng-click="userTappedPremium()" class="content-child server-margin">\r\n\t\t\t\t\t\t\t\t<div class="sl-option-item-indent-child network-status-circle"></div>\r\n\t\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t\t{{city.name}} #0\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img img-retry class="premiumIcon" ng-src="components/server-list/img/premium.png"\r\n\t\t\t\t\t\t\t\t\t\tng-class="{open:isCityExpanded(country.code,city.code)}"></img>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\x3c!--End dummy premium--\x3e\r\n\t\t\t\t\t\t\t<div ng-repeat="server in city.servers track by $index">\r\n\t\t\t\t\t\t\t\t<div ng-click="selectServer(server)" class="content-child server-margin">\r\n\t\t\t\t\t\t\t\t\t<div class="sl-option-item-indent-child network-status-circle"></div>\r\n\t\t\t\t\t\t\t\t\t<div class="capital content-name">\r\n\t\t\t\t\t\t\t\t\t\t{{server.displayName}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div ng-if="isPremiumRestricted(server)">\r\n\t\t\t\t\t\t\t\t\t\t<img img-retry class="premiumIcon"\r\n\t\t\t\t\t\t\t\t\t\t\tng-src="components/server-list/img/premium.png"\r\n\t\t\t\t\t\t\t\t\t\t\tng-class="{open:isCityExpanded(country.code,city.code)}"></img>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div ng-if="!isPremiumRestricted(server)">\r\n\t\t\t\t\t\t\t\t\t\t<img class="connect-button" img-retry\r\n\t\t\t\t\t\t\t\t\t\t\tng-src="{{getButtonForStatus(isCurrentServer(server, \'server\'))}}" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="sl-more xsmallText text-single" ng-click="toggleMoreCountries()" ng-bind="getMoreCountriesText()"\r\n\t\t\tng-if="countryOptions.length > minDisplayedCountries"></div>\r\n\t</div>\r\n</div>\r\n<spinner ng-if="!directory" class="cover-loader" color="color" size="\'4px\'"></spinner>\r\n\r\n</div>'),t.put("components/setting-server-list/setting-server-list.html",'<div id="settings-list" class="settings-list">\r\n  <server-list class="settings-body" style="display:inline" user-location="userLocation" current-state="currentState"\r\n    current-server="connectedServer"></server-list>\r\n</div>\r\n<div ng-init="setupSettingsAccordion()"></div>'),t.put("components/settings-account/settings-account.html",'<div id="settingsAccount" class="settings-account-container">\r\n\t<cover show="isDeletingAccount || restorePending" full="true" shade="true" color="\'#D3D3D3\'"></cover>\r\n\t<div class=\'settings-account-header-container\'>\r\n\t\t<div>\r\n\t\t\t<img ng-if="!isUnlimited() && loggedIn()" ng-class="getAccountType()" img-retry\r\n\t\t\t\tsrc="components/settings-pane/img/freeAccount.png" class="settings-image-avatar" />\r\n\t\t\t<img ng-if="isUnlimited() && loggedIn()" img-retry src="components/settings-pane/img/unlimitedAccount.png"\r\n\t\t\t\tclass="settings-image-avatar" ng-class="getAccountType()" />\r\n\t\t\t<div class="account-header-text" ng-bind="getAccountHeader()"></div>\r\n\t\t\t<div ng-if="isUnlimited()" class="settings-account-tier-header">\r\n\t\t\t\t<div class="tiersubtitle" ng-bind="getTier()"></div>\r\n\t\t\t\t<span ng-if="showDivider()" class="tiersubtitle">|</span>\r\n\t\t\t\t<div class="tiersubtitle" ng-bind="getRenewalDate()"></div>\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="isUnlimited()" class="tiersubtitle" ng-bind="getEmail()"></div>\r\n\t\t\t<div ng-if="!isUnlimited()" class="account-header-text-subtitle" ng-bind="scale()"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div id="content">\r\n\t\t<div ng-if="hasData() && showProgressBar()" class="content-child column flexStretch">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{getUsageText()}}\r\n\t\t\t</div>\r\n\t\t\t<md-progress-linear class="mainBackground mt5" id="progress-{{progressClass}}" md-mode="determinate"\r\n\t\t\t\tvalue="{{progressValue}}">\r\n\t\t\t</md-progress-linear>\r\n\t\t\t<div class="subheader" ng-bind="getRenewalDate()"></div>\r\n\t\t</div>\r\n\t\t<div ng-if="!isUnlimited() && !getEmail()" class="content-child" ng-click="sendToSignIn()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'ACCOUNTPANE.LOGIN\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div ng-if="!isUnlimited() || isUpgradeable()" class="content-child" ng-click="sendToUpgrade()">\r\n\t\t\t<div ng-if="!isUnlimited()" class="content-name">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.UPGRADE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div ng-if="isUpgradeable()" class="content-name">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.NEWUPGRADE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div ng-if="isUnlimited() && shouldShowLoginAttention()" class="content-child"\r\n\t\t\tng-click="doCompleteRegistration()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'ACCOUNTPANE.CREATE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction">\r\n\t\t\t\t<img class="reg-badge" img-retry src="components/settings-account/img/registrationBadge.png"></img>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div ng-if="isUnlimited() && supportsPlatformSubscriptionManagement()" class="content-child"\r\n\t\t\tng-click="platformManageSubscription()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.CANCEL\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div ng-if="isUnlimited() && !shouldShowLoginAttention()" class="content-child" ng-click="manageUser()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.MANAGE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\r\n\t\t<div class="content-child" ng-if="allowChangePassword()" ng-click="doResetPassword()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'ACCCTRL.CHANGEPASS\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction">\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-if="canRestorePurchases()" ng-click="doRestorePurchases()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'ACCCTRL.RESTORE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction">\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div class="content-child"\r\n\t\t\tng-if="isUnlimited() && !shouldShowLoginAttention() && showSignout() || !isUnlimited() && getEmail() && showSignout()"\r\n\t\t\tng-click="signout()">\r\n\t\t\t<div class="content-name ">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.SIGNOUT\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t\t<div class="content-child" ng-if="hasRedemptionCode()" ng-click="redeemCode()">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.REDEMPTIONCODE\' | spTranslate)}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction"></div>\r\n\t\t\t<div class="interaction-image"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="content-container">\r\n\t\t<div id="content">\r\n\t\t\t<div ng-if="isUnlimited() && allowReview()" class="content-child flex flexCenter">\r\n\t\t\t\t<div class="contentColor flex flexCenter" ng-click="doReview()">\r\n\t\t\t\t\t<div class="review-text"> {{::(\'SETTINGSPANE.ACCOUNT.REVIEW\' | spTranslate)}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="interaction-image"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div ng-if="isUnlimited() && allowReview()" class="description">\r\n\t\t<div class="review-text-description"> {{::(\'SETTINGSPANE.ACCOUNT.REVIEWDESC\' | spTranslate)}} </div>\r\n\t</div>\r\n\t<div class="content-container mt5">\r\n\t\t<div id="content">\r\n\t\t\t<div class="content-child" ng-if="allowAccountDeletion()" ng-click="deleteAccount()">\r\n\t\t\t\t<div class="content-name urgent">\r\n\t\t\t\t\t{{::(\'SETTINGSPANE.ACCOUNT.DELETE.ACCOUNT\' | spTranslate)}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="interaction"></div>\r\n\t\t\t\t<div class="interaction-image"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/settings-graph-rotation/settings-graph-rotation.html",'<div id="graphRotation">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleGraphRotation(true)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getGraphRotationState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleGraphRotation(false)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="!getGraphRotationState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'GRAPHROTATION.DESCRIPTION\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n</div>'),t.put("components/settings-language/settings-language.html",'<div id="settingLanguage" class="header">\r\n</div>\r\n<div id="content">\r\n    <div class="content-child" ng-if="lang !== \'\'" ng-click="setLanguage(\'default\')">\r\n        {{getLanguageHeader()}}\r\n        <div ng-if="isDefaultLanguage()" class="interaction">\r\n            <img class="checkmark" img-retry src="img/checked.png" />\r\n        </div>\r\n    </div>\r\n    <div ng-repeat="lang in languageOptions | limitTo:languageOptions track by lang">\r\n        <div class="content-child" ng-if="lang !== \'\'" ng-click="setLanguage(lang)">\r\n            {{getLanguageText(lang)}}\r\n            <div ng-if="isDefault(lang)" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="description">\r\n    {{getLanguageDescription()}}\r\n</div>'),t.put("components/settings-networks/settings-network-ip.html",'<div id="networkIP" class="ip">\n    <div class="header">\n    </div>\n    <div id="content">\n        <div class="content-name protocol darkText content-child">\n            {{getProtocol()}}\n        </div>\n        <div class="content-name ip darkText content-child" ng-if="isConnected()">\n            {{getIp()}}\n        </div>\n    </div>\n    <div class="description">\n        {{::(\'SETTINGSPANE.NETWORKS.ADVANCED.IPADDRESSDESC\' | spTranslate)}}\n    </div>\n</div>'),t.put("components/settings-networks/settings-network-overlimit.html",'<div id="networkOverlimit" class="network-overlimit">\n    <div class="setting-overlimit">\n        <div class="header">\n        </div>\n        <div id="content">\n            <div class="content-name content-child" ng-click="setOverlimitMode(0)">\n                {{::(\'SETTINGSPANE.NETWORKS.OVERLIMIT.STOP\' | spTranslate)}}\n                <div ng-if="!isRateLimitMode()" class="interaction">\n                    <img class="checkmark" img-retry src="img/checked.png" />\n                </div>\n            </div>\n            <div class="content-child"\n                ng-click="setOverlimitMode(\'overlimitDefaultRate\')">\n                <div class="content-name">\n                    {{::(\'SETTINGSPANE.NETWORKS.OVERLIMIT.RATELIMIT\' | spTranslate)}}\n                </div>\n                <div ng-if="isRateLimitMode()" class="interaction">\n                    <img class="checkmark" img-retry src="img/checked.png" />\n                </div>\n            </div>\n            <div class="content-child" ng-if="isRateLimitMode()">\n                <div class="content-name">\n                    {{::(\'SETTINGSPANE.NETWORKS.DATACAP.AMOUNT\' | spTranslate)}}\n                </div>\n                <dropdown class="inline" id="data-dropdown" text="getBwLimitText()" model="network.limits.overlimitRate"\n                    options="bwLimitOptions" change-end="setOverlimitMode(value)">\n                </dropdown>\n            </div>\n        </div>\n        <div class="description">\n            {{::(\'SETTINGSPANE.NETWORKS.OVERLIMIT.DESC\' | spTranslate)}}<br /><br />\n        </div>\n    </div>\n</div>'),t.put("components/settings-networks/settings-network-priority.html",'<div id="networkPriority" class="network-priority">\r\n    <div class="priority">\r\n        <div class="header">\r\n            {{upperCaseHeader()}}\r\n        </div>\r\n        <div id="content">\r\n          <div ng-if="shouldShowAutomatic()" class="content-child" ng-click="setPriority(NETWORK_PRIORITIES.AUTOMATIC.value)">\r\n              <div class="content-name">\r\n                {{::(\'PRIORITIES.AUTOMATIC.DISPLAY\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n              </div>\r\n              <div class="interaction" ng-if="network.priority===NETWORK_PRIORITIES.AUTOMATIC.value">\r\n                  <img class="checkmark" img-retry src="img/checked.png">\r\n              </div>\r\n          </div>\r\n            <div class="content-child" ng-click="setPriority(NETWORK_PRIORITIES.ALWAYS.value)">\r\n                <div class="content-name">\r\n                  {{::(\'PRIORITIES.ALWAYS.DISPLAY\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction" ng-if="network.priority===NETWORK_PRIORITIES.ALWAYS.value">\r\n                    <img class="checkmark" img-retry src="img/checked.png">\r\n                </div>\r\n            </div>\r\n            <div class="content-child" ng-click="setPriority(NETWORK_PRIORITIES.SECONDARY.value)">\r\n                <div class="content-name">\r\n                  {{::(\'PRIORITIES.SECONDARY.DISPLAY\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction" ng-if="network.priority===NETWORK_PRIORITIES.SECONDARY.value">\r\n                    <img class="checkmark" img-retry src="img/checked.png">\r\n                </div>\r\n            </div>\r\n            <div class="content-child" ng-click="setPriority(NETWORK_PRIORITIES.BACKUP.value)">\r\n                <div class="content-name">\r\n                    {{::(\'PRIORITIES.BACKUP.DISPLAY\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction" ng-if="network.priority===NETWORK_PRIORITIES.BACKUP.value">\r\n                    <img class="checkmark" img-retry src="img/checked.png">\r\n                </div>\r\n            </div>\r\n            <div class="content-child" ng-click="setPriority(NETWORK_PRIORITIES.NEVER.value)">\r\n                <div class="content-name">\r\n                    {{::(\'PRIORITIES.NEVER.DISPLAY\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction" ng-if="network.priority===NETWORK_PRIORITIES.NEVER.value">\r\n                    <img class="checkmark" img-retry src="img/checked.png">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="description">\r\n            {{::(\'PRIORITIES.DESC\' | spTranslate)}}<br /><br />\r\n\r\n            <b> {{::(\'PRIORITIES.AUTOMATIC.DISPLAY\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}</b> <br />\r\n            {{::(\'PRIORITIES.AUTOMATIC.DESC\' | spTranslate)}}<br /><br />\r\n\r\n            <b> {{::(\'PRIORITIES.ALWAYS.DISPLAY\' | spTranslate)}}</b> <br />\r\n            {{::(\'PRIORITIES.ALWAYS.DESC\' | spTranslate)}}<br /><br />\r\n\r\n            <b> {{::(\'PRIORITIES.SECONDARY.DISPLAY\' | spTranslate)}}</b> <br />\r\n            {{::(\'PRIORITIES.SECONDARY.DESC\' | spTranslate)}}<br /><br />\r\n\r\n            <b> {{::(\'PRIORITIES.BACKUP.DISPLAY\' | spTranslate)}}</b> <br />\r\n            {{::(\'PRIORITIES.BACKUP.DESC\' | spTranslate)}}<br /><br />\r\n\r\n            <b> {{::(\'PRIORITIES.NEVER.DISPLAY\' | spTranslate)}}</b> <br />\r\n            {{::(\'PRIORITIES.NEVER.DESC\' | spTranslate)}}<br /><br />\r\n\r\n        </div>\r\n    </div>\r\n</div>'),t.put("components/settings-networks/settings-network-ratelimit.html",'<div id="networkRatelimit" class="network-daily-cap">\n    <div class="priority">\n        <div class="header">\n            <premium-feature-header current-setting=\'rateLimit\'></premium-feature-header>\n            {{upperCaseHeader()}}\n        </div>\n        <div id="content">\n            <div class="content-child" ng-click="bwLimitSwitchPress()">\n                <div class="content-name">\n                    {{::(\'ADAPTERINFO.BWLIMIT.title\' | spTranslate)}}\n                </div>\n                <div class="interaction-toggle">\n                    <img img-retry class="networks-limits-alert" src="components/network-limits/img/warning.png" />\n                    <on-off-switch state="getBwLimitState()" width="50" height="30"\n                        units="\'px\'"></on-off-switch>\n                </div>\n            </div>\n            <div class="content-child" ng-class="{\'disabled-color\': !getBwLimitState()}">\n                <div class="content-name">\n                    {{::(\'SETTINGSPANE.NETWORKS.DATACAP.AMOUNT\' | spTranslate)}}\n                </div>\n                <dropdown ng-if="getBwLimitState()" class="inline" id="data-dropdown" text="getBwLimitText()"\n                    model="network.rateLimit" options="bwLimitOptions" change-end="bwLimitChanged(value)">\n                </dropdown>\n            </div>\n        </div>\n        <div class="description">\n            {{::(\'SETTINGSPANE.NETWORKS.ADVANCED.RATELIMIT.DESC\' | spTranslate)}}\n\n        </div>\n    </div>\n</div>'),t.put("components/settings-networks/settings-networks.html",'<div id="settingsNetworks" class="networks">\r\n    <div class="network-circle" ng-style="getIconColor()">\r\n        <img img-retry class="network-dot-icon-img settings-adapter-image " ng-src="{{getIcon()}}"></img>\r\n    </div>\r\n    <div class="network-header">\r\n        {{getNetworkName(currentNetwork)}}\r\n    </div>\r\n    <div class="network-status">\r\n        <div class="network-status-circle" ng-class="getCircleClass()">\r\n        </div>{{getStatus()}}\r\n    </div>\r\n    <div ng-if=isCaptivePortal() class="captiveportal">\r\n        <div class="header">\r\n        </div>\r\n        <div id="content" ng-click="launchCaptivePortal()">\r\n            <div class="content-child" style="text-align: center">\r\n                <div class="help-contact-field">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.CONNECTIONDIALOG\' | spTranslate)}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-if="canAttemptConnect()">\r\n        <div class="header">\r\n        </div>\r\n        <div id="content" ng-click="reconnectToHost()">\r\n            <div class="content-child">\r\n                <div class="connectField linkBlue">\r\n                    Try to connect\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div>\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.NETWORKS.DETAILS\' | spTranslate)}} <span ng-if="shouldShowExpand()">(<span\r\n                    class="buttonColor" ng-click="expand()">{{getOptionHeader()}}</span>)</span>\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child"\r\n                ng-click="!currentNetwork.isPasDevice && handleToggle({ navId: \'ipAddress\', header: spTranslate.instant(\'SETTINGSPANE.NETWORKS.ADVANCED.IPADDRESS\'), controllerName: \'IPAddress\', showBackButton: true, child: true})">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.ADVANCED.IPADDRESS\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction interaction-ip">\r\n                    {{getIp()}}\r\n                </div>\r\n                <div ng-if="!isSettingLocked(\'priorities\') && !currentNetwork.isPasDevice" class="interaction-image">\r\n                </div>\r\n            </div>\r\n            <div ng-if="hasSsid()" class="content-child">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.SSID.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getSsid()}}\r\n                </div>\r\n            </div>\r\n            <div ng-if="hasISP()" class="content-child">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.ISP.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getISP()}}\r\n                </div>\r\n            </div>\r\n            <div class="content-child">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.ADAPTERNAME.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction" ng-bind="getAdapterName()">\r\n                </div>\r\n            </div>\r\n            <div ng-if="hasAdapterDescription()" class="content-child">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.ADAPTERNAME.DESCRIPTION\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getAdapterDescription()}}\r\n                </div>\r\n            </div>\r\n            <div ng-if="isConnected() && hasMOS()" class="content-child" ng-click="showInformation(\'mos\')">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.MOS.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="mosRatingContainer" ng-class="getMos()"></div>\r\n                <div class="ml3 secondaryTextColor">({{showRawMos()}})</div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div ng-if="isExpanded && isConnected() && hasLatency()" class="content-child"\r\n                ng-click="showInformation(\'latency\')">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.LATENCY.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getLatency()}}\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div ng-if="isExpanded && isConnected() && hasJitter()" class="content-child"\r\n                ng-click="showInformation(\'jitter\')">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.JITTER.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getJitter()}}\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div ng-if="isExpanded && isConnected() && hasLoss()" class="content-child"\r\n                ng-click="showInformation(\'loss\')">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.MESSAGES.LOSS.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction flex flexEnd">\r\n                    <div class="flex zeroGrow">\r\n                        <img src="components/network-dot/img/downArrow.png" class="connectionInformationImage" />\r\n                        <div class="interaction">{{getPacketLoss(true)}}</div>\r\n                    </div>\r\n                    <div class="flex zeroGrow">\r\n                        <img src="components/network-dot/img/upArrow.png" class="connectionInformationImage" />\r\n                        <div class="interaction">{{getPacketLoss(false)}}</div>\r\n                    </div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="permissions" ng-if="isNetworkShare()">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.PERMISSIONS\' | spTranslate)}}\r\n        </div>\r\n        <div id="content">\r\n            <receive-device-toggle ng-if="supportsHost()" identifier="currentDeviceIdentifier()" ng-class="isDisabled()"\r\n                title="{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SHAREDEVICE\'\r\n            | spTranslate)}}"></receive-device-toggle>\r\n            <share-device-toggle identifier="currentDeviceIdentifier()" ng-class="isDisabled()" title="{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.USEDEVICE\'\r\n            | spTranslate)}}"></share-device-toggle>\r\n        </div>\r\n    </div>\r\n    <div class="priority">\r\n        <div class="header">\r\n            {{upperCaseHeader()}}\r\n        </div>\r\n        <div id="content" ng-if="!isNetworkShare()">\r\n            <div class="content-child" ng-class="{locked:isSettingLocked(\'priorities\')}"\r\n                ng-click="isSettingLocked(\'priorities\') ? settingLocked() : handleToggle({ navId: \'priority\', header: spTranslate.instant(\'ADAPTERINFO.PRIORITY\'), controllerName: \'Priority\', showBackButton: true,  child: true})">\r\n                <div class="content-name">\r\n                    {{::(\'ADAPTERINFO.PRIORITY\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getAdapterPriorityText()}}\r\n                </div>\r\n                <div ng-if="isSettingLocked(\'priorities\')" class="setting-locked-image"></div>\r\n                <div ng-if="!isSettingLocked(\'priorities\')" class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n        <div id="content" ng-if="isNetworkShare()">\r\n            <backup-toggle identifier="currentDeviceIdentifier()" network="currentNetwork" title="{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.BACKUPONLY\'\r\n            | spTranslate)}}"></backup-toggle>\r\n        </div>\r\n    </div>\r\n    <div class="data" ng-if="!isNetworkShare()">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.NETWORKS.DATACAP.HEADER\' | spTranslate)}}\r\n        </div>\r\n        <div id="content" style="overflow: hidden;">\r\n            <div class="content-child" ng-class="{locked:isSettingLocked(\'dailyLimit\')}"\r\n                ng-click="isSettingLocked(\'dailyLimit\') ? settingLocked() : handleToggle({ navId: \'dailyCap\', header: spTranslate.instant(\'SETTINGSPANE.NETWORKS.DATACAP.DAILY\'), controllerName: \'DailyCap\', showBackButton: true, child: true})">\r\n                {{::(\'SETTINGSPANE.NETWORKS.DATACAP.DAILY\' | spTranslate)}}\r\n                <div class="interaction" ng-class="{\'overlimit\': isOverlimitDaily()===true}">\r\n                    {{getDailyLimitText()}}\r\n                </div>\r\n                <div ng-if="isSettingLocked(\'dailyLimit\')" class="setting-locked-image"></div>\r\n                <div ng-if="!isSettingLocked(\'dailyLimit\')" class="interaction-image"></div>\r\n            </div>\r\n            <div class="content-child" ng-class="{locked:isSettingLocked(\'monthlyLimit\')}"\r\n                ng-click="isSettingLocked(\'monthlyLimit\') ? settingLocked() : handleToggle({ navId: \'monthlyCap\', header: spTranslate.instant(\'SETTINGSPANE.NETWORKS.DATACAP.MONTHLY\'), controllerName: \'MonthlyCap\', showBackButton: true, child: true})">\r\n\r\n                <div class="flex spaceBetween flexCenter">\r\n                    <div class="flex column">\r\n                        <div>\r\n                            {{::(\'SETTINGSPANE.NETWORKS.DATACAP.MONTHLY\' | spTranslate)}}\r\n                        </div>\r\n                        <div class="mt5" ng-if="hasMonthlyCap">\r\n                            {{::(\'SETTINGSPANE.NETWORKS.DATACAP.RESETSON\' | spTranslate)}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="flex darkText flexCenter">\r\n                        <div class="flex spaceBetween column">\r\n                            <div class="alignRight interaction" ng-class="{overlimit: isOverlimitMonthly()===true}">\r\n                                {{getMonthlyLimitText()}}\r\n                            </div>\r\n                            <div ng-if="hasMonthlyCap" class="mt5 alignRight interaction">\r\n                                {{getMonthlyResetDayText()}}\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <div ng-if="isSettingLocked(\'monthlyLimit\')" class="setting-locked-image"></div>\r\n                            <div ng-if="!isSettingLocked(\'monthlyLimit\')" class="interaction-image mt5">\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="content-child" ng-class="{locked:isSettingLocked(\'overlimitRateLimit\')}"\r\n                ng-click="isSettingLocked(\'overlimitRateLimit\') ? settingLocked() : handleToggle({ navId: \'overlimit\', header: spTranslate.instant(\'SETTINGSPANE.NETWORKS.OVERLIMIT.HEADER\'), controllerName: \'Overlimit\', showBackButton: true, child: true})">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.OVERLIMIT.HEADER\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getRateLimitMode()}}\r\n                </div>\r\n                <div ng-if="isSettingLocked(\'overlimitRateLimit\')" class="setting-locked-image"></div>\r\n                <div ng-if="!isSettingLocked(\'overlimitRateLimit\')" class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="data" ng-if="isNetworkShare()">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.TITLE\' | spTranslate)}}\r\n            <span>(<span class="buttonColor" ng-click="nextOption()">{{getUsageText()}}</span>)</span>\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child dataUsage">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.SHARED\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div ng-if="pasUsageOption !== 0">{{getSharedData(\'shared\')}}</div>\r\n                    <div ng-if="pasUsageOption === 0" class="flex" style="justify-content: end;">\r\n                        <div style="color: #666666;">\r\n                            <div style="display:flex;" class="noWrap">\r\n                                <img src="components/network-dot/img/downArrow.png" class="connectionInformationImage"\r\n                                    aria-label="{{::\'ARIALABEL.DOWNLOAD\' | spTranslate}}" />\r\n                                <span class="connectionInformation ">{{getPASConnectionInformation(true, false)}}</span>\r\n                                <img src="components/network-dot/img/upArrow.png" class="connectionInformationImage"\r\n                                    aria-label="{{::\'ARIALABEL.UPLOAD\' | spTranslate}}" />\r\n                                <span class="connectionInformation ">{{getPASConnectionInformation(false,\r\n                                    false)}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="content-child dataUsage">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.RECEIVED\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div ng-if="pasUsageOption !== 0">{{getSharedData(\'received\')}}</div>\r\n                    <div ng-if="pasUsageOption === 0" class="flex" style="justify-content: end;">\r\n                        <div style="color: #666666;">\r\n                            <div style="display:flex;" class="noWrap">\r\n                                <img src="components/network-dot/img/downArrow.png" class="connectionInformationImage"\r\n                                    aria-label="{{::\'ARIALABEL.DOWNLOAD\' | spTranslate}}" />\r\n                                <span class="connectionInformation ">{{getPASConnectionInformation(true, true)}}</span>\r\n                                <img src="components/network-dot/img/upArrow.png" class="connectionInformationImage"\r\n                                    aria-label="{{::\'ARIALABEL.UPLOAD\' | spTranslate}}" />\r\n                                <span class="connectionInformation ">{{getPASConnectionInformation(false, true)}}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="advanced" ng-if="!isNetworkShare()">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.NETWORKS.ADVANCED.HEADER\' | spTranslate)}}\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child" ng-class="{locked:isSettingLocked(\'rateLimit\')}"\r\n                ng-click="isSettingLocked(\'rateLimit\') ? settingLocked() : handleToggle({ navId: \'ratelimit\', header: spTranslate.instant(\'ADAPTERINFO.BWLIMIT.title\'), controllerName: \'Ratelimit\', showBackButton: true, child: true})">\r\n                <div class="content-name">\r\n                    {{::(\'ADAPTERINFO.BWLIMIT.title\' | spTranslate)}}\r\n                </div>\r\n                <div class="interaction">\r\n                    {{getRateLimit()}}\r\n                </div>\r\n                <div ng-if="isSettingLocked(\'rateLimit\')" class="setting-locked-image"></div>\r\n                <div ng-if="!isSettingLocked(\'rateLimit\')" class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="reset" ng-if="!isNetworkShare()">\r\n        <div class="header">\r\n        </div>\r\n        <div id="content" ng-click="resetUsage()">\r\n            <div class="content-child">\r\n                <div class="content-name">\r\n                    {{::(\'SETTINGSPANE.NETWORKS.RESET\' | spTranslate)}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div id="content" ng-if="isNetworkShare()" class="mt32 ">\r\n        <div class="content-child" ng-click="unpairDevice()">\r\n            <div class="content-name urgent">\r\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIR\' | spTranslate)}}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("components/settings-news/settings-news.html",'<div ng-if="!dashboard">\r\n    <div class="header"></div>\r\n    <div id="content">\r\n        <dashboard-toggle display="\'SETTINGSPANE.NEWS.DASHBOARDOPTION\'" setting="\'news_visibility\'">\r\n        </dashboard-toggle>\r\n    </div>\r\n</div>\r\n<div ng-if="showAllCaughtUpMessage()==true" class="description no-events">\r\n    <div class="content-name smallText">\r\n        {{::(\'SETTINGSPANE.NEWS.NOEVENTS\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div class="data-track-content">\r\n    <div id="newsService" ng-if="hasNotificationCenterMessages()" class="unread">\r\n        <div class="header" ng-if="!dashboard">\r\n            {{::(\'SETTINGSPANE.NEWS.UNREAD\' | spTranslate)}}\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child" ng-repeat="event in currentMessages() track by $index">\r\n                <div class="flex">\r\n                    <div class="flex row flexCenter">\r\n                        <div class="news-image" ng-class="getUserMessageBackgroundClasses(event.message.level)">\r\n                            <img class="news-image" img-retry ng-src="{{iconImage(event.message.icon)}}"\r\n                                aria-hidden="true"></img>\r\n                        </div>\r\n                        <div data-content-piece="{{event.message.content_tag}}"\r\n                            data-content-name="{{event.message.title}}" class="flex column matomoTrackContent"\r\n                            ng-click="handleUserMessage(event, true)">\r\n                            <div class="content-name smallText news-title">\r\n                                {{event.message.title}}\r\n                            </div>\r\n                            <div class="mt5 news-subtitle" ng-bind="::getSubtitleText(event)">\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class="mr16" ng-click="archiveMessage(event)">\r\n                            <img class="exitMessage" img-retry src="components/settings-news/images/exitIcon.png">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="hasArchivedMessages() && !dashboard" class="unread">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.NEWS.ARCHIVED\' | spTranslate)}}\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child" ng-repeat="event in archivedMessages() track by $index">\r\n                <div class="flex" ng-disabled=true>\r\n                    <div class="news-image" ng-class="getUserMessageBackgroundClasses(event.message.level)">\r\n                        <img class="news-image" img-retry ng-src="{{iconImage(event.message.icon)}}"\r\n                            aria-hidden="true"></img>\r\n                    </div>\r\n                    <div data-content-piece="{{event.message.content_tag}}" data-content-name="{{event.message.title}}"\r\n                        class="flex column matomoTrackContent" ng-click="handleUserMessage(event, false)">\r\n                        <div class="content-name smallText news-title">\r\n                            {{event.message.title}}\r\n                        </div>\r\n                        <div class="mt5 news-subtitle" ng-bind="::getSubtitleText(event)">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("components/settings-notifications/settings-notifications.html",'<div id="notificationSettings">\r\n\t<div ng-if="shouldShowPushNotificationDenied()" id="content" ng-click="promptNotificationPermission()">\r\n\t\t<div id="settings-notificationPermissionInstructions" class="content-name denied-container">\r\n\t\t\t{{::(\'SETTINGSPANE.NOTIFICATIONS.ALLOW\' | spTranslate)}}</div>\r\n\t</div>\r\n\t<div ng-if="shouldShowPushNotificationDenied()" class="spacing bottom-container content-name">\r\n\t\t{{::(\'SETTINGSPANE.NOTIFICATIONS.DISABLEDDESC\' | spTranslate)}}</div>\r\n\t<div class="header"> {{::(\'SETTINGSPANE.NOTIFICATIONS.STABILITYHEADER\' | spTranslate)}}</div>\r\n\t<div id="content">\r\n\t\t<notification-toggle ng-if="hasHotspotSecurityAlerts()" display="\'ADVANCED.OPTIONS.HOTSPOTSECURITY\'"\r\n\t\t\tsetting="\'hotspotsecurity_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasDeadHotspotAlerts()" display="\'ADVANCED.OPTIONS.DEADHOTSPOT\'"\r\n\t\t\tsetting="\'deadhotspot_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasAccountAlerts()" display="\'ADVANCED.OPTIONS.ACCOUNTALERT\'"\r\n\t\t\tsetting="\'accounting_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasConnectAlerts()" display="\'ADVANCED.OPTIONS.CONNECTALERT\'"\r\n\t\t\tsetting="\'connect_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle display="\'ADVANCED.OPTIONS.CAPTIVEPORTAL\'"\r\n\t\t\tsetting="\'captiveportal_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasStreamingBypassAlerts()" display="\'ADVANCED.OPTIONS.STREAMINGBYPASS\'"\r\n\t\t\tsetting="\'streamingbypass_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle display="\'ADVANCED.OPTIONS.STREAMMONITORALERT\'"\r\n\t\t\tsetting="\'streamsave_alerts\'"></notification-toggle>\r\n\t</div>\r\n\r\n\t<div class="header">{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.TITLE\' | spTranslate)}}</div>\r\n\t<div id="content">\r\n\t\t<notification-toggle display="\'ADVANCED.OPTIONS.INCOMINGPASALERTS\'"\r\n\t\t\tsetting="\'pasIncomingPairingRequests_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle display="\'ADVANCED.OPTIONS.PASSTATUSALERTS\'"\r\n\t\t\tsetting="\'pasStatusUpates_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle display="\'ADVANCED.OPTIONS.PASNEWPEERALERTS\'"\r\n\t\t\tsetting="\'pasPeerDiscovered_alerts\'"></notification-toggle>\r\n\t</div>\r\n\r\n\t<div class="header">Other</div>\r\n\t<div id="content">\r\n\t\t<notification-toggle ng-if="hasMarketingAlerts()" display="\'ADVANCED.OPTIONS.MARKETINGALERT\'"\r\n\t\t\tsetting="\'marketing_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasSpeedifyLiveAlerts()" display="\'ADVANCED.OPTIONS.SPEEDIFYLIVE\'"\r\n\t\t\tsetting="\'speedifylive_alerts\'"></notification-toggle>\r\n\t\t<notification-toggle ng-if="hasDisconnectAlerts()" display="\'ADVANCED.OPTIONS.DISCONNECTALERTS\'"\r\n\t\t\tsetting="\'disconnect_alerts\'"></notification-toggle>\r\n\t</div>\r\n</div>\r\n\r\n<div class="description">\r\n\t{{::(\'ADVANCED.OPTIONS.NOTIFICATIONDESC\' |\r\n\tspTranslate)}}<span class="linkBlue" ng-click="help()"> {{::(\'SETTINGSPANE.LEARNMORE\' |\r\n\t\tspTranslate)}} >></span>\r\n</div>'),t.put("components/settings-pane/settings-pane.html",'<body>\r\n    <div id="settings-main" class="main mainBackground">\r\n        <div class="header">\r\n            {{::\'SETTINGSPANE.ACCOUNT.TITLE\' | spTranslate}}\r\n        </div>\r\n        <div class="account">\r\n            <div id="content">\r\n                <div class="content-child" ng-class="isSelected(\'account\')"\r\n                    ng-click="handleToggle({ navId: \'account\', header: spTranslate.instant(\'ONEPANE.POPINS.ACCOUNT\'), controllerName: \'Account\', backButtonTitle: spTranslate.instant(ONEPANE.POPINS.SETTINGS), showBackButton: \'true\' })">\r\n                    <div>\r\n                        <img ng-if="!isUnlimited()" ng-class="getAccountType()" img-retry\r\n                            src="components/settings-pane/img/freeAccount.png" class="account-image" />\r\n\r\n                        <img ng-if="isUnlimited()" ng-class="getAccountType()" img-retry\r\n                            src="components/settings-pane/img/unlimitedAccount.png" class="account-image" />\r\n                    </div>\r\n                    <div>\r\n                        <div class="account-header bold" ng-bind="getAccount()"></div>\r\n                        <div ng-if="!isUnlimited()" ng-class="isSelected(\'account\')"\r\n                            class="xsmallText content-name description mt5 no-left-padding">\r\n                            {{getUsageText()}}\r\n                        </div>\r\n                        <div ng-if="isUnlimited()" ng-class="isSelected(\'account\')"\r\n                            class="xsmallText content-name description mt5 no-left-padding">\r\n                            {{getRenewalDate()}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="flex">\r\n                        <div class="flex meta">\r\n\r\n                        </div>\r\n                        <div class="interaction-image"></div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-click="handleToggle({navId: \'news\', header: spTranslate.instant(\'SETTINGSPANE.NEWS.TITLE\'), controllerName: \'News\', backButtonTitle: \'Settings\', showBackButton: \'true\'})"\r\n                    ng-class="isSelected(\'news\')">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.NEWS.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction text-single server-text">\r\n                    </div>\r\n                    <div class="newsAlert" ng-if="currentMessageCount()>0">\r\n                        <div class="newsAlertValue" ng-bind="currentMessageCount()">\r\n                        </div>\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-click="handleToggle({navId: \'statistics\', header: spTranslate.instant(\'SETTINGSPANE.STATISTICS.TITLE\'), controllerName: \'Statistics\', backButtonTitle: \'Settings\', showBackButton: \'true\'})"\r\n                    ng-class="isSelected(\'statistics\')">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.STATISTICS.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction text-single server-text">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="servers">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.SERVERS.TITLE\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child"\r\n                    ng-click="(isSettingLocked(\'connect\') || isSettingLocked(\'connectMethod\')) ? settingLocked() : handleToggle({navId: \'server\', header: spTranslate.instant(\'SETTINGSPANE.SERVERS.SERVER\'), controllerName: \'Server\', backButtonTitle: \'Settings\', showBackButton: \'true\'})"\r\n                    ng-class="{selected:isSelected(\'server\'),locked:(isSettingLocked(\'connect\') || isSettingLocked(\'connectMethod\'))}">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SERVERS.SERVER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction text-single server-text" ng-class="isSelected(\'server\')">\r\n                        {{getServerMethod()}}\r\n\r\n                    </div>\r\n                    <div ng-if="(isSettingLocked(\'connect\') || isSettingLocked(\'connectMethod\'))"\r\n                        class="setting-locked-image"></div>\r\n                    <div ng-if="!(isSettingLocked(\'connect\') || isSettingLocked(\'connectMethod\'))"\r\n                        class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n            <div class="description">\r\n                {{::\'SETTINGSPANE.SERVERS.DESCRIPTION\' | spTranslate}}\r\n            </div>\r\n        </div>\r\n        <div class="connection">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.CONNECTIONSETTINGS\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child" ng-repeat="network in getNetworks() track by network.guid"\r\n                    ng-class="isSelected(\'networks\', network)" ng-if="network.type!==\'addconnection\'"\r\n                    ng-click="setCurrentNetwork(network); handleNetworkToggle(network)">\r\n                    {{getNetworkInformation(network,getNetworkName(network))}}\r\n                    <div class="interaction">\r\n                        <img ng-if="isOverlimit(network)" class="reg-badge" img-retry\r\n                            src="components/settings-account/img/registrationBadge.png"></img>\r\n                        <img ng-if="isCaptivePortal(network)" class="cp-badge" img-retry\r\n                            src="components/settings-pane/img/CPBadge.png"></img>\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n            <div class="mt10 flex align-center description xsmallText">\r\n                <div class="sl-premium-desc">{{::(\'HELP.GETHELP.CONNECTIONS\' | spTranslate)}}<span\r\n                        class="linkBlue sl-premium-link" ng-click="addConnection()">\r\n                        {{::(\'HELP.GETHELP.CONNECTIONSLINK\' | spTranslate)}}</span></div>\r\n            </div>\r\n        </div>\r\n        <div class="testSpeed" ng-if="showPerformanceTest()">\r\n            <div class="header">\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child" ng-class="{selected:isSelected(\'testSpeed\')}"\r\n                    ng-click="handleToggle({navId: \'testSpeed\', header: spTranslate.instant(\'SETTINGSPANE.TESTSPEED.HEADER\'), controllerName: \'TestSpeed\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.TESTSPEED.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'testSpeed\')">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="session">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.SESSION.HEADER\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'bondingMode\'),locked:isSettingLocked(\'bondingMode\')}"\r\n                    ng-click="isSettingLocked(\'bondingMode\') ? settingLocked() : handleToggle({navId: \'bondingMode\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.BONDINGMODE.HEADER\'), controllerName: \'BondingMode\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'}); getNetworkName()">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SESSION.BONDINGMODE.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'bondingMode\')">\r\n                        {{getBondingState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'bondingMode\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'bondingMode\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'connectStartup\'),locked:isSettingLocked(\'startupConnect\')}"\r\n                    ng-if="showStartupConnect()"\r\n                    ng-click="isSettingLocked(\'startupConnect\') ? settingLocked() : handleToggle({navId: \'connectStartup\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.STARTUPCONNECT.HEADER\'), controllerName: \'ConnectStartup\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SESSION.STARTUPCONNECT.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'connectStartup\')">\r\n                        {{getStartupState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'startupConnect\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'startupConnect\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'transportMode\'),locked:isSettingLocked(\'transportMode\')}"\r\n                    ng-click="isSettingLocked(\'transportMode\') ? settingLocked() : handleToggle({navId: \'transportMode\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.TRANSPORTMODE.HEADER\'), controllerName: \'TransportMode\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SESSION.TRANSPORTMODE.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'transportMode\')">\r\n                        {{getTransportMode()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'transportMode\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'transportMode\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'headerCompression\'),locked:isSettingLocked(\'headerCompression\')}"\r\n                    ng-click="isSettingLocked(\'headerCompression\') ? settingLocked() : handleToggle({navId: \'headerCompression\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.HEADERCOMPRESSION.HEADER\'), controllerName: \'HeaderCompression\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SESSION.HEADERCOMPRESSION.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'headercompression\')">\r\n                        {{getHeaderCompressionState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'headerCompression\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'headerCompression\')" class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="showJumbo()" class="content-child"\r\n                    ng-class="{selected:isSelected(\'jumbo\'),locked:isSettingLocked(\'jumboPackets\')}"\r\n                    ng-if="allowPortForwarding()" ng-if="showJumbo()"\r\n                    ng-click="isSettingLocked(\'jumboPackets\') ? settingLocked() : handleToggle({navId: \'jumbo\', header: spTranslate.instant(\'ADVANCED.OPTIONS.JUMBO\'), controllerName: \'JumboMTU\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ADVANCED.OPTIONS.JUMBO\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'jumbo\')">\r\n                        {{getJumboPacketState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'jumboPackets\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'jumboPackets\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'portforwarding\'),locked:isSettingLocked(\'forwardedPorts\')}"\r\n                    ng-if="allowPortForwarding()"\r\n                    ng-click="isSettingLocked(\'forwardedPorts\') ? settingLocked() :handleToggle({navId: \'portforwarding\', header: spTranslate.instant(\'ADVANCED.OPTIONS.PORTFORWARD.TITLE\'), controllerName: \'PortForwarding\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ADVANCED.OPTIONS.PORTFORWARD.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'forwardedPorts\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'forwardedPorts\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-class="isSelected(\'disconnectexit\')" ng-if="showDisconnectOnExit()"\r\n                    ng-click="handleDisconnectOnExit()">\r\n                    <div class="content-name">\r\n                        {{getExitTitle()}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'disconnectexit\')">\r\n                        {{getDisconnectOnExit()}}\r\n                    </div>\r\n                    <div class="interaction-image">\r\n                    </div>\r\n                </div>\r\n                <div class="content-child" ng-if="pasAllowed()"\r\n                    ng-class="{selected:isSelected(\'pairAndShare\'),locked:isPasLocked()}"\r\n                    ng-click="isSettingLocked(\'pairAndShare\') ? settingLocked() : sendToPas()">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'networkSharingCpairAndSharelientEnabled\')">\r\n                    </div>\r\n                    <div ng-if="isPasLocked()" class="setting-locked-image"></div>\r\n                    <div ng-if="!isPasLocked()" class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="privacy">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.PRIVACY.HEADER\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child"\r\n                    ng-class="{selected:isSelected(\'encryption\'),locked:isSettingLocked(\'encrypted\')}"\r\n                    ng-click="isSettingLocked(\'encrypted\') ? settingLocked() : handleToggle({navId: \'encryption\', header: spTranslate.instant(\'SETTINGSPANE.PRIVACY.ENCRYPTION.HEADER\'), controllerName: \'Encryption\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.PRIVACY.ENCRYPTION.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'encryption\')">\r\n                        {{getEncryptionState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'encrypted\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'encrypted\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-if="showDNSSettings()"\r\n                    ng-class="{selected:isSelected(\'dnsService\'),locked:isSettingLocked(\'dnsAddresses\')}"\r\n                    ng-click="isSettingLocked(\'dnsAddresses\') ? settingLocked() : handleToggle({navId: \'dnsService\', header: spTranslate.instant(\'SETTINGSPANE.PRIVACY.DNSSERVICE.HEADER\'), controllerName: \'DNSService\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.PRIVACY.DNSSERVICE.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'dnsService\')">\r\n                        {{getDNSServerName()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'dnsAddresses\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'dnsAddresses\')" class="interaction-image"></div>\r\n                </div>\r\n\r\n                <div class="content-child" ng-if="hasDNSLeak()"\r\n                    ng-class="{selected:isSelected(\'dnsleak\'),locked:isSettingLocked(\'dnsleak\')}"\r\n                    ng-click="isSettingLocked(\'dnsleak\') ? settingLocked() : handleToggle({navId: \'dnsleak\', header: spTranslate.instant(\'ADVANCED.OPTIONS.DNSLEAK\'), controllerName: \'dnsleak\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ADVANCED.OPTIONS.DNSLEAK\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'dnsleak\')">\r\n                        {{getDnsLeakState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'dnsleak\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'dnsleak\')" class="interaction-image"></div>\r\n                </div>\r\n\r\n                <div class="content-child" ng-if="hasIPLeak()"\r\n                    ng-class="{selected:isSelected(\'ipleak\'),locked:isSettingLocked(\'ipleak\')}"\r\n                    ng-click="isSettingLocked(\'ipleak\') ? settingLocked() : handleToggle({navId: \'ipleak\', header: spTranslate.instant(\'ADVANCED.OPTIONS.IPLEAK\'), controllerName: \'ipleak\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ADVANCED.OPTIONS.IPLEAK\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'ipleak\')">\r\n                        {{getIpLeakState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'ipleak\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'ipleak\')" class="interaction-image"></div>\r\n                </div>\r\n\r\n                <div class="content-child" ng-if="hasKillSwitch()"\r\n                    ng-class="{selected:isSelected(\'killSwitch\'),locked:isSettingLocked(\'killswitch\')}"\r\n                    ng-click="isSettingLocked(\'killswitch\') ? settingLocked() :handleToggle({navId: \'killSwitch\', header: spTranslate.instant(\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.HEADER\'), controllerName: \'KillSwitch\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'killSwitch\')">\r\n                        {{getKillSwitchState()}}\r\n                    </div>\r\n                    <div ng-if="isSettingLocked(\'killswitch\')" class="setting-locked-image"></div>\r\n                    <div ng-if="!isSettingLocked(\'killswitch\')" class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-if="showStreamingBypass()" ng-class="isSelected(\'streamingBypass\')"\r\n                    ng-click="handleToggle({navId:\'streamingBypass\', header: spTranslate.instant(\'SETTINGSPANE.STREAMINGBYPASS.HEADER\'), controllerName: \'StreamingBypass\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.STREAMINGBYPASS.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'streamingBypass\')">\r\n                        {{getStreamingBypassServices()}}\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-if="showApplicationBypass()" ng-class="isSelected(\'applicationBypass\')"\r\n                    ng-click="doShowApplicationBypass()">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.APPLICATIONBYPASS.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'applicationBypass\')">\r\n                        {{getApplicationBypassServices()}}\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="support mainBackground">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.PREFERENCES\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child" ng-if="hasNotifications()" ng-class="isSelected(\'notifications\')"\r\n                    ng-click="handleToggle({navId: \'notifications\', header: spTranslate.instant(\'ONEPANE.POPINS.NOTIFICATIONS\'), controllerName: \'Notifications\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ONEPANE.POPINS.NOTIFICATIONS\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'notifications\')"></div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-class="isSelected(\'sounds\')"\r\n                    ng-click="handleToggle({navId: \'sounds\', header: spTranslate.instant(\'ONEPANE.POPINS.SOUNDS\'), controllerName: \'Sounds\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'ONEPANE.POPINS.SOUNDS\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'sounds\')"> {{soundStatus()}}</div>\r\n                    <div class="interaction-image">\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div ng-if="true" class="content-child" ng-class="isSelected(\'theme\')"\r\n                    ng-click="handleToggle({navId: \'theme\', header: spTranslate.instant(\'SETTINGSPANE.THEME.HEADER\'), controllerName: \'Theme\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.THEME.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'theme\')">\r\n                        {{getCurrentTheme()}}\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="true" class="content-child" ng-class="isSelected(\'language\')"\r\n                    ng-click="handleToggle({navId: \'language\', header: spTranslate.instant(\'LANGUAGE.TITLE\'), controllerName: \'Language\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'LANGUAGE.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'language\')">\r\n                        <span ng-bind="getLanguage()"></span>\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="canDetatchWindow()" class="content-child" ng-class="isSelected(\'detatchWindow\')"\r\n                    ng-click="handleToggle({navId: \'windowLocation\', header: spTranslate.instant(\'SETTINGSPANE.DETACHWINDOW.HEADER\'), controllerName: \'WindowLocation\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'SETTINGSPANE.DETACHWINDOW.HEADER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'language\')">\r\n                        <span ng-bind="getWindowLocation()"></span>\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-class="isSelected(\'language\')"\r\n                    ng-click="handleToggle({navId: \'graphRotation\', header: spTranslate.instant(\'GRAPHROTATION.TITLE\'), controllerName: \'GraphRotation\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'GRAPHROTATION.TITLE\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction" ng-class="isSelected(\'graphRotation\')">\r\n                        <span ng-bind="getGraphRotationSetting()"></span>\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="support">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.HELP.TITLE\' | spTranslate}}\r\n            </div>\r\n            <div id="content">\r\n                <div class="content-child" ng-class="isSelected(\'about\')"\r\n                    ng-click="handleToggle({navId: \'about\', header: spTranslate.instant(\'SETTINGSPANE.ABOUT.TITLE\'), controllerName: \'About\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    {{::\'SETTINGSPANE.ABOUT.TITLE\' | spTranslate}}\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-click="launchGettingStarted()">\r\n                    {{::\'HELP.MENU.GETSTART\' | spTranslate}}\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-click="launchSupport()">\r\n                    <div class="content-name">\r\n                        {{::\'HELP.MENU.SUPPORT\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div class="content-child" ng-click="launchLoggen()">\r\n                    <div class="content-name">\r\n                        {{::\'HELP.MENU.GENLOGS\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="hasHelperToolRemoval()" class="content-child" ng-click="removeHelperTool()">\r\n                    <div class="content-name">\r\n                        {{::\'HELP.MENU.REMOVEHELPER\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="showDevTools()" class="content-child" ng-class="isSelected(\'devTools\')"\r\n                    ng-click="handleToggle({navId: \'devTools\', header: spTranslate.instant(\'HELP.MENU.DEVTOOLS\'), controllerName: \'devTools\', backButtonTitle: spTranslate.instant(\'ONEPANE.POPINS.SETTINGS\'), showBackButton: \'true\'})">\r\n                    <div class="content-name">\r\n                        {{::\'HELP.MENU.DEVTOOLS\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="supportsClearSettings()" class="content-child" ng-click="clearSettings()">\r\n                    <div class="content-name">\r\n                        {{::(\'HELP.MENU.CLEARSETTINGS\' | spTranslate)}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n                <div ng-if="supportsManualTermination()" class="content-child" ng-click="quitApp()">\r\n                    <div class="content-name">\r\n                        {{::\'HELP.MENU.QUITAPP\' | spTranslate}}\r\n                    </div>\r\n                    <div class="interaction">\r\n                    </div>\r\n                    <div class="interaction-image"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="advanced-version">\r\n            <span ng-if="versionStr">{{getVersionText()}}</span>\r\n            <span ng-bind="versionStr"></span>\r\n        </div>\r\n    </div>\r\n</body>'),t.put("components/settings-privacy/settings-privacy.html",'<div id="settingsPrivacy" ng-if="showEncryption" class="encryption">\r\n    <div ng-if="isEncryptionLocked()" class="setting-lock-container">\r\n        <img class="setting-lock-icon" img-retry src="components/settings-pane/img/SettingLocked.png" />\r\n        <div>\r\n            {{::(\'SETTINGSPANE.LOCKEDMESSAGE\' | spTranslate)}}\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        <premium-feature-header current-setting=\'encrypted\'></premium-feature-header>\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleEncryption(true)">\r\n            <div class="content-name"\r\n                ng-class="{ premiumDisabledPrimary: getEncryptionState() && isPremiumSetting(\'encrypted\'), tertiary: isPremiumSetting(\'encrypted\') && !getEncryptionState()}">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getEncryptionState() && !isPremiumSetting(\'encrypted\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n            <div ng-if="getEncryptionState() && isPremiumSetting(\'encrypted\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/disabledCheckmark.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleEncryption(false)">\r\n            <div class="content-name"\r\n                ng-class="{tertiary: getEncryptionState() && isPremiumSetting(\'encrypted\'), premiumDisabledPrimary: !getEncryptionState() && isPremiumSetting(\'encrypted\') }">\r\n                {{::(\'SETTINGSPANE.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="!getEncryptionState() && !isPremiumSetting(\'encrypted\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n            <div ng-if="!getEncryptionState() && isPremiumSetting(\'encrypted\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/disabledCheckmark.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.PRIVACY.ENCRYPTION.DESC\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showDNSService" class="dnsService">\r\n    <div class="header">\r\n        <premium-feature-header current-setting="dnsAddresses"></premium-feature-header>\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-repeat="server in dnsServerAddressOptions track by server.val"\r\n            ng-click="dnsServerAddressesChange(server.val)">\r\n            <div class="content-name"\r\n                ng-class="{premiumDisabledPrimary: getDNSServerName() === server.val && isPremiumSetting(\'dnsAddresses\'),tertiary: getDNSServerName() !== server.val && isPremiumSetting(\'dnsAddresses\')}">\r\n                {{server.name}}\r\n            </div>\r\n            <div ng-if="getDNSServerName() === server.name" class="interaction">\r\n                <div ng-if="isPremiumSetting(\'dnsAddresses\')" class="interaction">\r\n                    <img class="checkmark" img-retry src="img/disabledCheckmark.png" />\r\n                </div>\r\n                <div ng-if="!isPremiumSetting(\'dnsAddresses\')" class="interaction">\r\n                    <img class="checkmark" img-retry src="img/checked.png" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'ADVANCED.OPTIONS.DNSSERVER.DESC\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.AUTOHEADER\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.AUTODESC\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.QUAD9HEADER\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.QUAD9DESC\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.CLOUDFLAREHEADER\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.CLOUDFLAREDESC\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.OPENDNSHEADER\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.OPENDNSDESC\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.ADGUARDHEADER\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.PRIVACY.DNSSERVICE.ADGUARDDESC\' | spTranslate)}}<br /><br />\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showKillSwitch" class="killswitch">\r\n    <div class="header">\r\n        <premium-feature-header current-setting="killswitch"></premium-feature-header>\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleKillSwitch(false)">\r\n            <div class="content-name"\r\n                ng-class="{ premiumDisabledPrimary: !getKillSwitchState() && isPremiumSetting(\'killswitch\'), tertiary: isPremiumSetting(\'killswitch\') && getKillSwitchState()}">\r\n                {{::(\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="!getKillSwitchState() && !isPremiumSetting(\'killswitch\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n            <div ng-if="!getKillSwitchState() && isPremiumSetting(\'killswitch\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/disabledCheckmark.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleKillSwitch(true)">\r\n            <div class="content-name"\r\n                ng-class="{ premiumDisabledPrimary: getKillSwitchState() && isPremiumSetting(\'killswitch\'), tertiary: isPremiumSetting(\'killswitch\') && !getKillSwitchState()}">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getKillSwitchState() && !isPremiumSetting(\'killswitch\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n            <div ng-if="getKillSwitchState() && isPremiumSetting(\'killswitch\')" class="interaction">\r\n                <img class="checkmark" img-retry src="img/disabledCheckmark.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.DESC\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showDNSLeak" class="dnsleak">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleDnsLeak(true)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getDnsLeakState()===true" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleDnsLeak(false)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getDnsLeakState()===false" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.DNSLEAKDESC\'|spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showIPLeak" class="ipleak">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleIpLeak(true)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getIpLeakState()===true" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleIpLeak(false)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.PRIVACY.INTERNETKILLSWITCH.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getIpLeakState()===false" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.IPLEAKDESC\'|spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showNotifications" class="notifications">\r\n    <settings-notifications></settings-notifications>\r\n</div>\r\n\r\n<div class="streamingBypass" ng-if="showStreamingBypass">\r\n    {{getwatchListDomainTitle();}}\r\n    {{updateSuggestedBypassList();}}\r\n    <div ng-if="!bypassEnabled()">\r\n        <div id="content" class="mt20">\r\n            <div class="interaction-toggle">\r\n                <div class="content-child" ng-click="toggleBypass(true)">\r\n                    <div class="content-name mediumText">\r\n                        {{::(\'SETTINGSPANE.STREAMINGBYPASS.HEADER\' | spTranslate)}}\r\n                    </div>\r\n                    <div class="interaction-toggle">\r\n                        <on-off-switch state="getBypassEnabledState(false)" width="50" height="30" units="\'px\'">\r\n                        </on-off-switch>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="description top">\r\n            {{::(\'SETTINGSPANE.STREAMINGBYPASS.DESC\'|spTranslate)}}\r\n        </div>\r\n    </div>\r\n    <div ng-if="bypassEnabled()">\r\n        <div id="content">\r\n            <div class="searchBox flex center align-center mainBackground">\r\n                <form class="searchForm">\r\n                    <center>\r\n                        <input class="search" id="searchInput" ng-model="searchText" placeholder="Search"\r\n                            ng-blur="searchComplete(this, false); $event.stopPropagation();" enterkeyhint="done"\r\n                            ng-keyup="$event.keyCode == 13 && searchComplete(this, false)">\r\n                        <button ng-hide="!searchText" name="submit" id="searchHolder"\r\n                            ng-mousedown="searchComplete(this, true)">\r\n                            <img id="clearSearch" img-retry src="components/settings-privacy/img/cancelSearch.png" />\r\n                        </button>\r\n                        </input>\r\n                    </center>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <div ng-if="!searchText">\r\n            <div id="content" class="mt20">\r\n                <div class="interaction-toggle">\r\n                    <div class="content-child" ng-click="toggleBypass(false)">\r\n                        <div class="content-name mediumText">\r\n                            {{::(\'SETTINGSPANE.STREAMINGBYPASS.HEADER\' | spTranslate)}}\r\n                        </div>\r\n                        <div class="interaction-toggle">\r\n                            <on-off-switch state="getBypassEnabledState(true)" width="50" height="30" units="\'px\'">\r\n                            </on-off-switch>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="description">\r\n                {{::(\'SETTINGSPANE.STREAMINGBYPASS.DESC\'|spTranslate)}}\r\n            </div>\r\n            <div id="content" class="mt20">\r\n                <div class="interaction-toggle">\r\n                    <div class="content-child" ng-click="toggleSuggestedBypass()">\r\n                        <div class="content-name mediumText">\r\n                            {{::(\'SETTINGSPANE.STREAMINGBYPASS.BYPASSSUGGESTION\'|spTranslate)}}{{searchText}}\r\n                        </div>\r\n                        <div class="interaction-toggle">\r\n                            <on-off-switch state="getBypassSuggestionState()" width="50" height="30" units="\'px\'">\r\n                            </on-off-switch>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="description top">\r\n                {{::(\'SETTINGSPANE.STREAMINGBYPASS.SUGGESTIONDESC\'|spTranslate)}}\r\n            </div>\r\n        </div>\r\n        <div ng-if="hasSuggestedBypassOptions()" class="mB30 mt10">\r\n            <div class="description smallText mt10">\r\n                {{::(\'SETTINGSPANE.STREAMINGBYPASS.BYPASSSUGGESTION\'|spTranslate)}}\r\n            </div>\r\n            <div class="center">\r\n                <div id="content" class="mt10">\r\n                    <div ng-repeat="title in suggestedBypassList | filter:searchText track by $index"\r\n                        class="content-child" ng-click="allowSuggestedBypass(title, $index)"\r\n                        ng-class="{\'fade-out\': $index === selectedIndex}">\r\n                        <div class="content-name">\r\n                            {{title}}\r\n                        </div>\r\n                        <div class="interaction-toggle">\r\n                            <div class="customRadio">\r\n                                <img ng-if="$index === selectedIndex" class="customRadio" img-retry\r\n                                    src="components/settings-privacy/img/radioCheck.png" />\r\n                                <div ng-if="$index !== selectedIndex" class="customRadio notEnabled"> </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="description smallText mt10" ng-bind="selectedTitle()">\r\n        </div>\r\n        <div class="center">\r\n            <div id="content" class="mt10">\r\n                <div ng-repeat="domain in domainWatchList | filter:searchText track by $index" class="content-child"\r\n                    ng-class="{\'fade-out\': $index === domainSelectedIndex}"\r\n                    ng-click="setLocalProxyDomainWatchListEnabled(domain.title, !domain.enabled)"\r\n                    ng-if="domain.enabled || searchText || isDeselectedTitle(domain.title) ">\r\n                    <div class="content-name">\r\n                        {{domain.title}}\r\n                    </div>\r\n                    <div class="interaction-toggle">\r\n                        <div class="customRadio">\r\n                            <img ng-if="domain.enabled" class="customRadio" img-retry\r\n                                src="components/settings-privacy/img/radioCheck.png" />\r\n                            <div ng-if="!domain.enabled" class="customRadio notEnabled"> </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div ng-if="!searchText" class="restoreDefaults secondaryBackground" ng-click="restoreDefaults()">\r\n            <div class="ml10 buttonColor">\r\n                Restore Defaults\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("components/settings-session/settings-pair-receive-control.html",'<div>\n    <div class="mt20">\n        <div id="content">\n            <receiving-toggle ng-class="isDisabled()" title="{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVINGCONTROLTITLE\'\n                | spTranslate)}}"></receiving-toggle>\n        </div>\n    </div>\n    <div class="description mt10 controlDesc"\n        bind-html-compile="::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVINGCONTROLDESC\' | spTranslate: description())">\n    </div>\n    <div class="mt10" ng-if="getNetworkSharingClientEnabled()">\n        <div class="mt10">\n            {{getHostDisplayName()}}\n        </div>\n        <div>\n            {{getConnectedClientCount()}}\n        </div>\n        <div class="description" ng-if="hasHostClientState()">\n            Host-to-Client connections:\n        </div>\n        <div ng-if="hasHostClientState()">\n            <div class="description" ng-repeat="device in getHostsToClientsState() track by $index">\n                <div>\n                    <hr>\n                </div>\n                <div>Internal ID: {{device.id}}</div>\n                <div>Auth State: {{device.authState}}</div>\n                <div>Share Socket State: {{device.authSockState}}</div>\n                <div>Remote Tunnel Address: {{device.remoteTunnelSockAddr}}</div>\n                <div>Remote Tunnel Active: {{device.remoteTunnelIsActive}}</div>\n                <div>Host Tunnel Address: {{device.hostTunnelSockAddr}}</div>\n                <div>Recv Auth Messages: {{device.recvAuthMsgHist}}</div>\n            </div>\n        </div>\n    </div>\n</div>'),t.put("components/settings-session/settings-pair-share-auto-pair.html",'<div class="bondingMode">\n    <div class="header">\n    </div>\n    <div id="content">\n        <div class="content-child" ng-click="setAutoPairEnabled(true)">\n            <div class="content-name">\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRMYDEVICES.AUTO\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\n            </div>\n            <div ng-if="hasAutoPairEnabled()" class="interaction">\n                <img class="checkmark" img-retry src="img/checked.png" />\n            </div>\n        </div>\n        <div class="content-child" ng-click="setAutoPairEnabled(false)">\n            <div class="content-name">\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRMYDEVICES.MANUAL\' | spTranslate)}}\n            </div>\n            <div ng-if="!hasAutoPairEnabled()" class="interaction">\n                <img class="checkmark" img-retry src="img/checked.png" />\n            </div>\n        </div>\n    </div>\n\n    <div class="description">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.AUTOPAIRDESC\' | spTranslate)}}<br /><br />\n    </div>\n</div>'),t.put("components/settings-session/settings-pair-share-control.html",'<div>\n    <div class="mt20">\n        <div id="content">\n            <share-toggle ng-class="isDisabled()" title="{{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGCONTROLTITLE\'\n            | spTranslate)}}"></share-toggle>\n        </div>\n    </div>\n    <div class="description mt10 controlDesc"\n        bind-html-compile="::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARINGCONTROLDESC\' | spTranslate: description())">\n    </div>\n    <div class="mt10" ng-if="getNetworkSharingHostEnabled()">\n        <div class="mt10">\n            {{getHostDisplayName()}}\n        </div>\n        <div>\n            {{getConnectedClientCount()}}\n        </div>\n        <div class="description" ng-if="hasClientHostState()">\n            Host-to-Client connections:\n        </div>\n        <div ng-if="hasClientHostState()">\n            <div class="description" ng-repeat="device in getClientsToHostState() track by $index">\n                <div>\n                    <hr>\n                </div>\n                <div>Internal ID: {{device.id}}</div>\n                <div>Auth State: {{device.authState}}</div>\n                <div>Share Socket State: {{device.authSockState}}</div>\n                <div>Remote Tunnel Address: {{device.remoteTunnelSockAddr}}</div>\n                <div>Remote Tunnel Active: {{device.remoteTunnelIsActive}}</div>\n                <div>Host Tunnel Address: {{device.hostTunnelSockAddr}}</div>\n                <div>Recv Auth Messages: {{device.recvAuthMsgHist}}</div>\n            </div>\n        </div>\n    </div>\n</div>'),t.put("components/settings-session/settings-pair-share-display.html",'<div class="mt20">\n    <input class="secondaryBackground darkText displayInput"\n        placeholder="{{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.DISPLAYNAME\' | spTranslate}}" name="displayName"\n        type="text" ng-model="displayName" enterkeyhint="done" ng-keyup="handleEnterKey($event)"\n        ng-blur="shouldBlurUpdate !== false && updateDisplayName()">\n    <div class="mr3 description mt10">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.DISPLAYNAMEDESC\' | spTranslate)}}\n    </div>\n</div>'),t.put("components/settings-session/settings-pair-share-qr.html",'<div class="flex center flexCenter column">\n    <div class="ml16 mr16 bold qrTitle mt40">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.QRSCREEN.TITLE\' | spTranslate)}}\n    </div>\n    <div class="qrHolder mt20">\n        <qr correction-level="\'L\'" size="240" text="qrCodeURL" image="true"></qr>\n    </div>\n    <div class="ml16 mr16 mt20 smallText textCenter">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.QRSCREEN.SCANDESC\' | spTranslate)}}\n    </div>\n    <img class="mt20 qr-app-icon" img-retry src="components/settings-session/img/icon.png" aria-hidden="true"></img>\n    <div class="ml16 mr16 bold qrTitle mt20">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.QRSCREEN.NOSPEEDIFY\' | spTranslate)}}\n    </div>\n    <div class="ml16 mr16 mt20 smallText textCenter">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.QRSCREEN.NOSPEEDIFYDESC\' | spTranslate)}}\n    </div>\n</div>'),t.put("components/settings-session/settings-pair-share-request.html",'<div class="bondingMode">\n    <div class="header">\n    </div>\n    <div id="content">\n        <div class="content-child" ng-click="togglePairRequest(\'ask\')">\n            <div class="content-name">\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.ASK\' | spTranslate)}}\n            </div>\n            <div ng-if="pairRequestSetting() === \'ask\'" class="interaction">\n                <img class="checkmark" img-retry src="img/checked.png" />\n            </div>\n        </div>\n        <div class="content-child" ng-click="togglePairRequest(\'accept\')">\n            <div class="content-name">\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.AUTO\' | spTranslate)}}\n            </div>\n            <div ng-if="pairRequestSetting() === \'accept\'" class="interaction">\n                <img class="checkmark" img-retry src="img/checked.png" />\n            </div>\n        </div>\n        <div class="content-child" ng-click="togglePairRequest(\'reject\')">\n            <div class="content-name">\n                {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.IGNORE\' | spTranslate)}}\n            </div>\n            <div ng-if="pairRequestSetting() === \'reject\'" class="interaction">\n                <img class="checkmark" img-retry src="img/checked.png" />\n            </div>\n        </div>\n    </div>\n\n    <div class="description">\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.DESC\' | spTranslate)}}<br /><br />\n\n        <b> {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.ASK\' | spTranslate)}}</b> <br />\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.ONDESC\' | spTranslate)}}<br /><br />\n\n        <b> {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.AUTO\' | spTranslate)}}</b> <br />\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.AUTODESC\' | spTranslate)}}<br /><br />\n\n        <b> {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.IGNORE\' | spTranslate)}}</b> <br />\n        {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUEST.OFFDESC\' | spTranslate)}}<br /><br />\n\n    </div>\n</div>'),t.put("components/settings-session/settings-session.html",'<div id="settingsSession" ng-if="startupConnect" class="connectStartup">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleStartupConnect(true)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getStartupState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleStartupConnect(false)">\r\n            {{::(\'SETTINGSPANE.OFF\' | spTranslate)}}\r\n            <div ng-if="!getStartupState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SESSION.STARTUPCONNECT.DESC\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showBondingMode" class="bondingMode">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleBondingMode(\'SP\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.SPEED\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' |\r\n                spTranslate)}}\r\n            </div>\r\n            <div ng-if="getBondingMode() === \'SP\' || getBondingMode() === \'SPEED\' || getBondingMode() === \'STR\'"\r\n                class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleBondingMode(\'RD\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.REDUNDANT\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getBondingMode() === \'RD\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="mt20" ng-class="{disabledToggle:!streamToggleIsEnabled()}">\r\n        <div id="content">\r\n            <stream-toggle ng-class="isDisabled()"></stream-toggle>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.DESC.MAIN\' | spTranslate)}}<br /><br />\r\n\r\n        <b> {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.SPEED\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.DESC.SPEED\' | spTranslate)}}<br /><br />\r\n\r\n        <b> {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.REDUNDANT\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.DESC.REDUNDANT\' | spTranslate)}}<br /><br />\r\n\r\n        <b> {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.ENHANCESTREAMING\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.BONDINGMODE.DESC.STREAMING\' | spTranslate)}}<br /><br />\r\n\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showTransportMode" class="transportMode">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="setTransportMode(\'auto\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.AUTO\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getTransportMode() === \'auto\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="setTransportMode(\'udp\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.UDP\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getTransportMode() === \'udp\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="setTransportMode(\'tcp-multi\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.TCPMULTI\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getTransportMode() === \'tcp-multi\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="setTransportMode(\'tcp\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.TCP\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getTransportMode() === \'tcp\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="setTransportMode(\'https\')">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.HTTPS\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getTransportMode() === \'https\'" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.MAIN\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.AUTO\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.AUTO\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.UDP\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.UDP\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.TCPMULTI\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.TCPMULTI\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.TCP\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.TCP\' | spTranslate)}}<br /><br />\r\n        <b> {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.HTTPS\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.SESSION.TRANSPORTMODE.DESC.HTTPS\' | spTranslate)}}<br /><br />\r\n    </div>\r\n</div>\r\n<div ng-if="showHeaderCompression" class="headerCompression">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="onHeaderCompression()">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getHeaderCompressionState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="onHeaderCompression()">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="!getHeaderCompressionState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SESSION.HEADERCOMPRESSION.DESC.MAIN\' | spTranslate)}}<br /><br />\r\n    </div>\r\n</div>\r\n<div ng-if="showJumboMTU">\r\n    <div class="header"></div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleJumbo(true)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.ON\' | spTranslate)}} {{::(\'SETTINGSPANE.RECOMMENDED\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="getJumboPacketState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleJumbo(false)">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.OFF\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="!getJumboPacketState()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SESSION.JUMBO.DESC\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showPortForwarding">\r\n    <form>\r\n        <div class="header">\r\n            {{::(\'ADVANCED.OPTIONS.PORTFORWARD.TCP\' | spTranslate)}}\r\n        </div>\r\n        <div id="content" class="tcp-port">\r\n            <div class="content-child"\r\n                ng-repeat="pFwd in settingsRepository.connection_settings.forward_ports track by portFwdTracking(pFwd)"\r\n                ng-if="getPortFwdProto(pFwd.proto)===\'TCP\'">\r\n                <input class="darkText contentColor" type="number" pattern="\\d*"\r\n                    placeholder="{{::(\'ADVANCED.OPTIONS.PORTFORWARD.ADDTCP\' | spTranslate)}}" name="tcpPortExisting"\r\n                    ng-model="pFwd.port" autocomplete="off">\r\n                <img class="clear" ng-click="portFwdDelete(pFwd)" img-retry src="img/clear.png" />\r\n                </input>\r\n            </div>\r\n            <div class="content-child">\r\n                <input class="darkText contentColor" type="number" pattern="\\d*" required autcomplete="off"\r\n                    placeholder="{{::(\'ADVANCED.OPTIONS.PORTFORWARD.ADDTCP\' | spTranslate)}}" name="tcpPort"\r\n                    ng-model="$parent.tcpPortSet" ng-keypress="portFwdAddOnEnter($event, \'tcp\')" id="tcpPortSet"\r\n                    ng-click="portFwdProtoChance(\'tcp\')" ng-blur="portFwdAdd(\'tcp\'); portFwdProtoChance(\'udp\')">\r\n                </input>\r\n            </div>\r\n        </div>\r\n        <div class="header">\r\n            {{::(\'ADVANCED.OPTIONS.PORTFORWARD.UDP\' | spTranslate)}}\r\n        </div>\r\n        <div id="content" class="udp-port">\r\n            <div class="content-child"\r\n                ng-repeat="pFwd in settingsRepository.connection_settings.forward_ports track by portFwdTracking(pFwd)"\r\n                ng-if="getPortFwdProto(pFwd.proto)===\'UDP\'">\r\n                <input class="darkText contentColor" type="number" pattern="\\d*"\r\n                    placeholder="{{::(\'ADVANCED.OPTIONS.PORTFORWARD.ADDUDP\' | spTranslate)}}" name="udpPortExisting"\r\n                    ng-model="pFwd.port" autocomplete="off">\r\n                <img class="clear" ng-click="portFwdDelete(pFwd)" img-retry src="img/clear.png" />\r\n                </input>\r\n            </div>\r\n            <div class="content-child">\r\n                <input class="darkText contentColor" type="number" pattern="\\d*" required autcomplete="off"\r\n                    placeholder="{{::(\'ADVANCED.OPTIONS.PORTFORWARD.ADDUDP\' | spTranslate)}}" name="udpPort"\r\n                    ng-model="$parent.udpPortSet" ng-keypress="portFwdAddOnEnter($event, \'udp\')"\r\n                    ng-blur="portFwdAdd(\'udp\'); portFwdProtoChance(\'tcp\')" ng-click="portFwdProtoChance(\'udp\')">\r\n            </div>\r\n        </div>\r\n        <div class="description">\r\n            {{::(\'SETTINGSPANE.SESSION.PORTFWD.DESC\' | spTranslate)}}\r\n        </div>\r\n    </form>\r\n\r\n</div>\r\n\r\n<div ng-if="showDisconnectOnExit">\r\n    <div class="header"></div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="toggleDisconnectOnExit(true)">\r\n            <div class="content-name">\r\n                {{getOptions(true)}}\r\n            </div>\r\n            <div ng-if="getDisconnectOnExit()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleDisconnectOnExit(false)">\r\n            <div class="content-name">\r\n                {{getOptions(false)}}\r\n            </div>\r\n            <div ng-if="!getDisconnectOnExit()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{getExitDesc()}}\r\n    </div>\r\n</div>\r\n\r\n<div id="pairAndShare" ng-if="showPairAndShare" class="networkSharing">\r\n    <div class="mt20 flex center column flexCenter">\r\n\r\n        <div>\r\n            <img class="pasDashIcon mt20 mB10" img-retry ng-src="{{getPasIcon()}}" aria-hidden="true"></img>\r\n        </div>\r\n        <div ng-if="networkSharingIsAvailable() && globals.currentState !== SPEEDIFY_STATES.CONNECTED"\r\n            class="textCenter mr16 ml16 mt20 description darkText qrDescription bold smallText">\r\n            {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.TOPTITLE\' | spTranslate)}}\r\n        </div>\r\n        <div ng-if="networkSharingIsAvailable()" class="textCenter mr16 ml16 mt20 description qrDescription">\r\n            {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.DESCHOST\' | spTranslate)}}\r\n        </div>\r\n        <div ng-if="!networkSharingIsAvailable()" class="textCenter mr16 ml16 mt20 description qrDescription">\r\n            {{::(\'SETTINGSPANE.SESSION.PAIRANDSHARE.DESCCLIENT\' | spTranslate)}}\r\n        </div>\r\n    </div>\r\n\r\n    <div class="support" ng-if="hasPairedDevices()">\r\n        <div class="flex spaceBetween">\r\n            <div class="header">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.PAIREDDEVICES\' | spTranslate}}\r\n                <span ng-if="shouldExpandPairedDevices()">(<span class="buttonColor"\r\n                        ng-click="expand()">{{getOptionHeader()}}</span>)</span>\r\n            </div>\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child pairShareChild" ng-repeat="device in sortedPairedDevices track by device.uuid">\r\n                <div class="flex" ng-click="reconnectToHost(device)">\r\n                    <div class="pasIconHolder">\r\n                        <div ng-if="deviceIsAvailable(device)" class="news-image"\r\n                            ng-style="{\'background-color\': getColor(device)}">\r\n                            <img class="news-image" img-retry ng-src="{{getShareIcon(device)}}"\r\n                                aria-hidden="true"></img>\r\n                        </div>\r\n                        <img ng-if="!deviceIsAvailable(device)" class="news-image pasIcon" img-retry\r\n                            src="components/settings-session/img/unAvailable.png" aria-hidden="true"></img>\r\n                    </div>\r\n                    <div class="flex column">\r\n                        <div class="xsmallText tapPair">\r\n                            {{getDeviceSettingTitle(device)}}\r\n                        </div>\r\n                        <div class="mt2 smallText tapDisplayName">\r\n                            {{device.display_name}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="support">\r\n        <div class="flex spaceBetween">\r\n            <div class="header unpaired">\r\n                <div class="flex">\r\n                    <div> {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.UNPAIREDDEVICES\' | spTranslate}}</div>\r\n                    <div class="spinnerContainer">\r\n                        <img ng-if="isReceiving()" class="ml5 active-spinner" img-retry ng-src="{{spinner()}}"\r\n                            aria-hidden="true"></img>\r\n                        <img ng-if="!isReceiving()" class="ml5 active-spinner" img-retry\r\n                            src="components/settings-session/img/noReceive.png" aria-hidden=" true"></img>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="ml16 mr16 xsmallText darkText40" ng-if="pairAndShare.availableShares.length === 0 && isReceiving()">\r\n            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.NOUNPAIREDDEVICES\' |\r\n            spTranslate}}</div>\r\n        <div class="ml16 mr16 xsmallText darkText40 pasNoReceiving" ng-if="!isReceiving()">\r\n            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.ENABLERECEIVING\' |\r\n            spTranslate}}</div>\r\n        <div id="content">\r\n            <div class="content-child pairShareChild"\r\n                ng-repeat="device in pairAndShare.availableShares track by $index">\r\n                <div class="flex" ng-click="pairDevice(device)">\r\n                    <div class="pasIconHolder">\r\n                        <img class="news-image" img-retry src="components/settings-session/img/pairing.png"\r\n                            aria-hidden="true"></img>\r\n                    </div>\r\n                    <div class="flex column">\r\n                        <div class="xsmallText tapPair" ng-if="!deviceIsAttemptingToPair(device)">\r\n                            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.TAPPAIR\' |\r\n                            spTranslate}}\r\n                        </div>\r\n                        <div class="xsmallText ATTEMPTPAIR" ng-if="deviceIsAttemptingToPair(device)">\r\n                            {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.ATTEMPTPAIR\' |\r\n                            spTranslate}}\r\n                        </div>\r\n                        <div class="mt2 tapDisplayName">\r\n                            {{device.display_name}}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="support">\r\n        <div class="header fullWidth">\r\n            <div class="flex spaceBetween">\r\n                <div>\r\n                    {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.TITLE\' | spTranslate}}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child"\r\n                ng-click="handleToggle({ navId: \'pairAndShareDisplay\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.DISPLAYNAME\'), controllerName: \'PairShareDisplayName\', showBackButton: true, child: true})">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.DISPLAYNAME\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{hostDisplayName()}}</div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div class="content-child"\r\n                ng-class="{interaction:!networkSharingIsAvailable(), disabledToggle:!networkSharingIsAvailable()}"\r\n                ng-click="handleToggle({ navId: \'pairAndShareControl\' , header: spTranslate.instant(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARING\', getCellIsp()),\r\n                controllerName: \'PairShareControl\' , showBackButton: true, child: true})">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.SHARING\' | spTranslate: getCellIsp()}}\r\n                <div class="interaction">\r\n                    <div ng-if="networkSharingIsAvailable()">{{getNetworkSharingHostEnabledToggleString()}}</div>\r\n                    <div ng-if="!networkSharingIsAvailable()">\r\n                        {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.UNAVAILABLE\' | spTranslate}}</div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div class="content-child"\r\n                ng-click="handleToggle({ navId: \'pairAndReceiveControl\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVING\'), controllerName: \'PairReceiveControl\', showBackButton: true, child: true})">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.RECEIVING\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{getNetworkSharingClientEnabledString()}}</div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div class="content-child"\r\n                ng-click="handleToggle({ navId: \'pairAndShareRequest\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUESTS\'), controllerName: \'PairShareRequest\', showBackButton: true, child: true})">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.PAIRINGREQUESTS\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{getNetworkSharingRequestBehaviorString()}}</div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n            <div class="content-child"\r\n                ng-click="handleToggle({ navId: \'pairAndShareAutoPair\', header: spTranslate.instant(\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.AUTOPAIR\'), controllerName: \'PairShareAutoPair\', showBackButton: true, child: true})">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.SETTINGS.AUTOPAIR\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{getAutoPairSettingBehavior()}}</div>\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="support">\r\n        <div class="header fullWidth">\r\n            <div class="flex spaceBetween">\r\n                <div>\r\n                    {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.TITLE\' | spTranslate}}\r\n                    <span>(<span class="buttonColor"\r\n                            ng-click="nextOption()">{{pasUsageOptions[pasUsageOption]}}</span>)</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child dataUsage">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.SHARED\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{getSharedData(\'shared\')}}</div>\r\n                </div>\r\n            </div>\r\n            <div class="content-child dataUsage">\r\n                {{::\'SETTINGSPANE.SESSION.PAIRANDSHARE.DATAUSAGE.RECEIVED\' | spTranslate}}\r\n                <div class="interaction">\r\n                    <div>{{getSharedData(\'received\')}}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="showDevTools">\r\n    <dev-tools user-location="userLocation"></dev-tools>\r\n</div>'),t.put("components/settings-sounds/settings-sounds.html",'<div id="settingsSounds">\r\n    <div class="header"></div>\r\n    <div id="content">\r\n        <sounds-toggle display="\'SETTINGSPANE.SOUNDS.TITLE\'" setting="\'sounds\'"></sounds-toggle>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.SOUNDS.DESC\' | spTranslate)}}\r\n    </div>\r\n</div>'),t.put("components/settings-statistics/settings-statistics.html",'<div id="settingsStatistics" class="segment-container">\r\n    <div class="segmented-control">\r\n        <div class="segment" ng-class="isSelected(\'day\')" ng-click="pickDuration(\'day\')">\r\n            {{::\'SETTINGSPANE.STATISTICS.DURATION.TODAY\' | spTranslate}}\r\n        </div>\r\n        <div class="segment midChoice" ng-class="isSelected(\'week\')" ng-click="pickDuration(\'week\')">\r\n            {{::\'SETTINGSPANE.STATISTICS.DURATION.WEEK\' | spTranslate}}\r\n        </div>\r\n        <div class="segment" ng-class="isSelected(\'month\')" ng-click="pickDuration(\'month\')">\r\n            {{::\'SETTINGSPANE.STATISTICS.DURATION.MONTH\' | spTranslate}}\r\n        </div>\r\n        <div class="segment" ng-class="isSelected(\'total\')" ng-click="pickDuration(\'total\')">\r\n            {{::\'SETTINGSPANE.STATISTICS.DURATION.ALLTIME\' | spTranslate}}\r\n        </div>\r\n    </div>\r\n</div>\r\n<div ng-if="hasStats()===false" class="description no-stats">\r\n    <div class="content-name">\r\n        {{::(\'SETTINGSPANE.STATISTICS.NOSTATS\' | spTranslate)}}\r\n    </div>\r\n</div>\r\n<div class="speed">\r\n    <div class="header">\r\n        {{::\'SETTINGSPANE.STATISTICS.SECTIONS.SPEED\' | spTranslate}}\r\n    </div>\r\n\r\n    <div id="content" class="stat-content">\r\n        <div class="content-child segment-content"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.TOPUPLOADSPEED\',\'max_upload_mbps\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-speed-upload.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.TOPUPLOADSPEED\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding">{{getStatValue(\'max_upload_mbps\',\'\')}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n        <div class="content-child segment-content"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.TOPDOWNLOADSPEED\',\'max_download_mbps\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-speed-download.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.TOPDOWNLOADSPEED\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding">{{getStatValue(\'max_download_mbps\',\'\')}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        {{::\'SETTINGSPANE.STATISTICS.SECTIONS.SECURITY\' | spTranslate}}\r\n    </div>\r\n    <div id="content" class="stat-content">\r\n        <div class="content-child segment-content"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.DATAENCRYPTED\',\'encrypted_bytes_recv\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-security-encrypted.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.DATAENCRYPTED\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding"> {{getStatValue(\'encrypted_bytes_recv\',\'\')}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n    </div>\r\n    <div class="header">\r\n        {{::\'SETTINGSPANE.STATISTICS.SECTIONS.STABILIITY\' | spTranslate}}\r\n    </div>\r\n    <div id="content" class="stat-content">\r\n        <div class="content-child"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.STREAMERGENCY\',\'streaming_saves\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-stability-streamergencysaves.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.STREAMERGENCY\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding">{{getStreamSaves()}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n        <div class="content-child segment-content"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.RESCUED\',\'num_failovers\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-stability-rescued.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.RESCUED\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding"> {{getStatValue(\'num_failovers\',\'\')}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n        <div class="content-child"\r\n            ng-click="goToStatsPane(\'SETTINGSPANE.STATISTICS.BRAGS.STREAMS\',\'streaming\')">\r\n            <img class="interaction-info-image" img-retry\r\n                src="components/settings-statistics/img/icon-stream-completed.png">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.STATISTICS.BRAGS.STREAMS\' | spTranslate}}\r\n            </div>\r\n            <div class="interaction text-single">\r\n                <span class="value-padding">{{getStatValue(\'streaming\',\'total_streams\')}}</span>\r\n            </div>\r\n            <div class="interaction-image"></div>\r\n        </div>\r\n    </div>\r\n</div>'),t.put("components/settings-statistics-details/settings-statistics-details.html",'<div id="stat-details" class="flex">\r\n\t<div class="header">\r\n\t\t<img class="header-image" img-retry ng-src="{{statObject.image}}" aria-hidden="true">\r\n\t\t<div class="detail-header" ng-bind="statObject.description"></div>\r\n\t</div>\r\n\t{{getStatObject()}}\r\n\t<div id="content">\r\n\t\t<div class="content-child">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.TODAY\' | spTranslate}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction text-single">\r\n\t\t\t\t<span class="value-padding">{{selectedStat.day}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.WEEK\' | spTranslate}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction text-single">\r\n\t\t\t\t<span class="value-padding">{{selectedStat.week}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.MONTH\' | spTranslate}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction text-single">\r\n\t\t\t\t<span class="value-padding">{{selectedStat.month}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="content-child">\r\n\t\t\t<div class="content-name">\r\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.ALLTIME\' | spTranslate}}\r\n\t\t\t</div>\r\n\t\t\t<div class="interaction text-single">\r\n\t\t\t\t<span class="value-padding">{{selectedStat.alltime}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="current-streams"\r\n\tng-if="hasStreamingStats() && (currentStatId === \'streaming\' || currentStatId === \'streaming_saves\')">\r\n\t{{populateStreamArrays()}}\r\n\r\n\t<div ng-if="todayStreams.length > 0">\r\n\t\t<div id="content">\r\n\t\t\t<div class="streaming-stats noflex content-child" ng-class="{\'no-saves-padding\': hasSaves(stream)}"\r\n\t\t\t\tng-repeat="stream in todayStreams | orderBy:[\'-start_time\'] track by $index"\r\n\t\t\t\tng-if="shouldShowStream(stream)">\r\n\t\t\t\t<div class="stream default-cursor noflex">\r\n\t\t\t\t\t<div class="statCell">\r\n\t\t\t\t\t\t<div class="flexContainer">\r\n\t\t\t\t\t\t\t<div class="statsIcon">\r\n\t\t\t\t\t\t\t\t<img class="iconType statsIcon" img-retry id="type-img" ng-src="{{getTypeImg(stream)}}"\r\n\t\t\t\t\t\t\t\t\taria-hidden="true"></img>\r\n\t\t\t\t\t\t\t\t<div ng-if="hasSaves(stream)" class="saves-badge">\r\n\t\t\t\t\t\t\t\t\t{{countSaves(stream)}}\r\n\t\t\t\t\t\t\t\t\t<div class="badge-text">\r\n\t\t\t\t\t\t\t\t\t\t{{totalSaves}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="flexContainer meta">\r\n\t\t\t\t\t\t\t\t<div class="stream-title">\r\n\t\t\t\t\t\t\t\t\t{{ formatDate(stream.start_time) }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div ng-if="hasStreamingName(stream)" class="streamDomain streamType">\r\n\t\t\t\t\t\t\t\t\t{{ getTopInformation(stream) }}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class="stream-speed" ng-class="{\'text-inactive-color\': stream.active === false}">\r\n\t\t\t\t\t\t\t\t{{ getDuration(stream.duration)}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="stream-duration">\r\n\t\t\t\t\t\t\t\t<img src="components/network-dot/img/upArrow.png" class="connectionInformationImage"\r\n\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.UPLOAD\' | spTranslate}}" />\r\n\t\t\t\t\t\t\t\t<span class="connectionInformation xsmallText">\r\n\t\t\t\t\t\t\t\t\t{{ getSpeed(stream.average_upload_speed) }}</span>\r\n\t\t\t\t\t\t\t\t<img src="components/network-dot/img/downArrow.png" class="connectionInformationImage"\r\n\t\t\t\t\t\t\t\t\taria-label="{{::\'ARIALABEL.DOWNLOAD\' | spTranslate}}" />\r\n\t\t\t\t\t\t\t\t<span class="connectionInformation xsmallText">\r\n\t\t\t\t\t\t\t\t\t{{ getSpeed(stream.average_download_speed) }}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-if="hasSaves(stream)" style="margin-top: -5px">\r\n\t\t\t\t\t<div ng-repeat="(type, count) in saves track by $index">\r\n\t\t\t\t\t\t<div class="stream-saves" ng-if="count > 0">\r\n\t\t\t\t\t\t\t<div class="save-line"></div>\r\n\t\t\t\t\t\t\t<div class="saves-circle"></div>\r\n\t\t\t\t\t\t\t<div class="saves-margin">\r\n\t\t\t\t\t\t\t\t{{getSaveName(type)}} ({{count}})\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="reset-stats">\r\n\t\t<div id="content" ng-click="resetStreamingStats()">\r\n\t\t\t<div class="content-child">\r\n\t\t\t\t<div class="content-name clear-streams">\r\n\t\t\t\t\t{{::(\'STREAMING.DELETE\' | spTranslate)}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>'),t.put("components/settings-theme/settings-theme.html",'<div id="settingsTheme">\r\n    <div class="header"></div>\r\n    <div id="content">\r\n        <div ng-if="showDefaultPreference()" class="content-child" ng-click="toggleDefault()">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.THEME.DEFAULT\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="isDefault()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleDarkMode()">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.THEME.DARK\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="isDarkMode()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="toggleLightMode()">\r\n            <div class="content-name">\r\n                {{::(\'SETTINGSPANE.THEME.LIGHT\' | spTranslate)}}\r\n            </div>\r\n            <div ng-if="isLightMode()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-if="showDefaultPreference()" class="description">\r\n        {{::(\'SETTINGSPANE.THEME.DEFAULTDESC\' | spTranslate)}}\r\n    </div>\r\n</div>'),t.put("components/settings-window-location/settings-window-location.html",'<div id="windowLocation">\r\n    <div class="header">\r\n    </div>\r\n    <div id="content">\r\n        <div class="content-child" ng-click="setWindowLocationIsFloating(false)">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.DETACHWINDOW.DOCKEDOPTION\' | spTranslate}}\r\n            </div>\r\n            <div ng-if="!windowIsFloating()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-click="setWindowLocationIsFloating(true)">\r\n            <div class="content-name">\r\n                {{::\'SETTINGSPANE.DETACHWINDOW.FLOATINGOPTION\' | spTranslate}}\r\n            </div>\r\n            <div ng-if="windowIsFloating()" class="interaction">\r\n                <img class="checkmark" img-retry src="img/checked.png" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="description">\r\n        {{::(\'SETTINGSPANE.DETACHWINDOW.DESC\' | spTranslate)}}<br /><br />\r\n\r\n        <b> {{::(\'SETTINGSPANE.DETACHWINDOW.DOCKED\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.DETACHWINDOW.DOCKDESC\' | spTranslate)}}<br /><br />\r\n\r\n        <b> {{::(\'SETTINGSPANE.DETACHWINDOW.FLOATING\' | spTranslate)}}</b> <br />\r\n        {{::(\'SETTINGSPANE.DETACHWINDOW.FLOATINGDESC\' | spTranslate)}}<br /><br />\r\n    </div>\r\n</div>\r\n</div>'),t.put("components/share/share.html",'<div id="share" class="share-container darkText">\r\n\t<div class="share-description">\r\n\t\t<div class="largeText text-center">{{::(\'SHARE.HEADER\' | spTranslate)}}</div>\r\n\t\t<div class="smallText text-center">{{::(\'SHARE.DESCRIPTION\' | spTranslate)}}</div>\r\n\t</div>\r\n\t<div class="share-buttons">\r\n\t\t<div id="share-button" ng-click="doShare()"\r\n\t\t\tclass="button pink whiteText normalText hoverable shadow text-single">{{::(\'SHARE.BUTTON\' |\r\n\t\t\tspTranslate)}}</div>\r\n\t</div>\r\n</div>'),t.put("components/slider-control/slider-control.html",'\n<div  class="sliderOuter"  ng-style="{height:availableHeight}">\n<div class="sliderContainerControl sliderContainerLeft animated" style="cursor:default" ng-if="showLeftArrow()" ng-click="shiftFocus(-1)">\n\t<img img-retry ng-src="{{assignArrow(\'left\')}}" style="cursor:pointer"> </img>\n</div>\n<div class="sliderContainer" ng-style="{height:availableHeight-dotHeight}">\n\t<ng-transclude></ng-transclude>\n</div>\n<div class="sliderContainerControl sliderContainerRight animated" style="cursor:default" ng-if="showRightArrow()" ng-click="shiftFocus(1)">\n\t<img class="slider-arrows" img-retry ng-src="{{assignArrow(\'right\')}}" style="cursor:pointer"> </img>\n</div>\n<div class="sliderDots" ng-show="shouldShowSliderDots()" ng-style="getSliderDotsStyle()">\n\t<div class="sliderDots-dot" ng-repeat="n in getNumberOfDots() track by $index" ng-class="getDotClass($index)" ng-click="setFocus($index)" ng-if="pressed||tryShiftFocusTowards($index)==$index"></div>\n</div>\n</div>\n'),t.put("components/slider-nav/slider-nav.html",'<div id="nav-settings">\r\n\t<md-sidenav md-disable-backdrop="true" md-is-open="isOpen" ng-class="getStyles()" md-swipe-right="newclose()"\r\n\t\tmd-component-id="{{navId}}" tv-focus-stack>\r\n\t\t<div id="top" ng-if="navId!==\'dashboard\'">\r\n\t\t\t<md-toolbar class="headerBackground" id="sliderNavSettings">\r\n\t\t\t\t<div class="dashboard-button">\r\n\t\t\t\t\t<div ng-if="shouldShowButton()" class="dashboard-button" nav-controller="{{controllerName}}"\r\n\t\t\t\t\t\tng-click="newclose(false)">\r\n\t\t\t\t\t\t<img ng-if="showBackButton" class="back-button" img-retry src="img/back.png" />\r\n\t\t\t\t\t\t<div class="buttonColor back-button-text">{{backButtonTitle}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="header-title"> {{header}} </div>\r\n\t\t\t\t<div ng-if="showCloseSettings()" class="dashboard-button">\r\n\t\t\t\t\t<div nav-controller="{{controllerName}}" ng-click="newclose(true); toggleDoneButton()"\r\n\t\t\t\t\t\tng-disabled="!serverChanged"\r\n\t\t\t\t\t\tclass="menu-close thinText settingsDoneButton buttonColor darkText">\r\n\t\t\t\t\t\t{{::(\'SETTINGSPANE.DONE\' | spTranslate)}} </div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="helpIconContainer">\r\n\t\t\t\t\t<img ng-if="!hideShare()" ng-click="share()" class="shareIcon" img-retry src="img/shareIcon.png"\r\n\t\t\t\t\t\taria-label="{{::\'ARIALABEL.SHARE\' | spTranslate}}" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ng-if="showShouldQrIcon()">\r\n\t\t\t\t\t<img ng-click="qrCodeTapped()" class="qrIcon" img-retry src="img/qr-icon.png"\r\n\t\t\t\t\t\taria-label="{{::\'ARIALABEL.SHARE\' | spTranslate}}" />\r\n\t\t\t\t</div>\r\n\t\t\t</md-toolbar>\r\n\t\t</div>\r\n\t\t<div class="header-divider" ng-if="navId!==\'dashboard\'"></div>\r\n\t\t<div class="scrollable-settings mainBackground" id="main-settings">\r\n\t\t\t<ng-transclude></ng-transclude>\r\n\t\t</div>\r\n\t</md-sidenav>\r\n</div>'),t.put("components/social-popup/social-popup.html",'<div id="socialPopup" class="newpop-text-container">\n\t<div class="newpop-title">\n\t\t{{::(\'SOCIALPOPUP.HEADER\' | spTranslate)}}\n\t</div>\n</div>\n<div class="newpop-image-container">\n\t<img class="newpop-image-top" src="components/social-popup/img/stayInTouchModal.png" aria-hidden="true"></img>\n</div>\n<div class="newpop-text-container">\n\t<div class="newpop-description mLR17 smallerSpacing goforth-description-header" ng-bind-html="followSpeedify()">\n\t</div>\n\t<div class="newpop-description  smallerSpacing">\n\t\t{{::(\'SOCIALPOPUP.DESC\' | spTranslate)}}\n\t</div>\n</div>\n\n<div class="social-button mt20 social-instagram hoverable" tv-auto-focus\n\tng-click="launchInstagram()">\n\t<div class=" text-multiple bold  smallerSpacing">\n\t\t{{::(\'SOCIALPOPUP.FOLLOWUS\' | spTranslate)}} Instagram<br />\n\t</div>\n</div>\n<div class="social-button mt10 social-twitter hoverable" tv-auto-focus\n\tng-click="launchTwitter()">\n\t<div class="text-multiple semibold  smallerSpacing">\n\t\t{{::(\'SOCIALPOPUP.FOLLOWUS\' | spTranslate)}} Twitter<br />\n\t</div>\n</div>\n<div class="social-button mt10 social-youtube hoverable" tv-auto-focus\n\tng-click="launchYouTube()">\n\t<div class="text-multiple semibold  smallerSpacing">\n\t\t{{::(\'SOCIALPOPUP.SUBSCRIBEON\' | spTranslate)}} YouTube<br />\n\t</div>\n</div>\n<div class="newpop-description mt20 smallerSpacing" ng-click="dismiss()">\n\t{{::(\'SOCIALPOPUP.NOTHANKS\' | spTranslate)}}\n</div>'),t.put("components/status-box/status-box.html",'<div id="statusBox" class="status-box-container" ng-class="getCurrentState()" ng-click="handleStatusboxClick()">\n  <div class="column align-center justifyCenter inlineFlex">\n    <div id="status-box-ServerButtonTextStatus"\n      ng-class="{killSwitchd:isKillSwitchd(),pendingReconnectText:shouldShowYellowState(),bold:!shouldShowYellowState()}">\n      <div class="testing flex ">{{getStatusText()}}<div ng-if="isPerformingSpeedTest()">\n          <span>.</span><span>.</span><span>.</span></div>\n      </div>\n    </div>\n    <div ng-if="showDisconnectedText()" class="xsmallText thinText text-single status-box-ServerButtonTextServer">\n      {{getSubtitleText()}}</div>\n    <div class="flex align-center mB3 inlineFlex" ng-if="!shouldShowYellowState() && showStatusInformation()">\n      <div class="content-name">\n        <img ng-if="showFlagIcon()" class="status-box-server-flag" ng-src="{{getServerFlag()}}" />\n      </div>\n      <div class="xsmallText thinText text-single status-box-ServerButtonTextServer" ng-bind="getServerButtonText()">\n      </div>\n      <div ng-if="!isPerformingSpeedTest()"\n        class="ml3 xsmallText thinText text-single status-box-ServerButtonTextServer" ng-bind="duration()"></div>\n    </div>\n  </div>\n</div>'),t.put("components/stream-popup/stream-popup.html",'<div id="streamPopup" class="newpop-image-container">\n\t<img class="stream-popup-image" src="components/stream-popup/img/green-stream-complete.png"\n\t\taria-hidden="true"></img>\n</div>\n\n<div class="newpop-text-container">\n\t<div class="newpop-title">\n\t\t{{getMainTitle()}}\n\t</div>\n</div>\n\n<div id="content">\n\t<div class="pt10 streaming-stats noflex no-saves-padding">\n\t\t<div class="stream default-cursor noflex">\n\t\t\t<div class="statCell statCell-popup">\n\t\t\t\t<div class="flexContainer">\n\t\t\t\t\t<div class="statsIcon">\n\t\t\t\t\t\t<img class="iconType statsIcon" img-retry id="type-img" ng-src="{{getTypeImg()}}"\n\t\t\t\t\t\t\taria-hidden="true"></img>\n\t\t\t\t\t\t<div class="saves-badge">\n\t\t\t\t\t\t\t<div class="badge-text">\n\t\t\t\t\t\t\t\t{{totalSaves}}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="flexContainer meta">\n\t\t\t\t\t\t<div class="stream-title">\n\t\t\t\t\t\t\t{{ formatDate(streamToShow.start_time) }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div ng-if="hasStreamingName(streamToShow)" class="streamDomain streamType">\n\t\t\t\t\t\t\t{{ getTopInformation(streamToShow) }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div style="margin-top: -5px">\n\t\t\t<div ng-repeat="(type, count) in saves track by $index">\n\t\t\t\t<div class="stream-saves" ng-if="totalSaves > 0">\n\t\t\t\t\t<div class="save-line"></div>\n\t\t\t\t\t<div class="saves-circle"></div>\n\t\t\t\t\t<div class="saves-margin-popup">\n\t\t\t\t\t\t{{getSaveName(type)}} ({{count}})\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="newpop-text-container">\n\t<div class="newpop-description  smallerSpacing">\n\t\t{{getDesc()}}\n\t</div>\n</div>\n\n<div class="mt10 newpop-text-container">\n\t<div class="newpop-description  smallerSpacing">\n\t\t{{::(\'STREAMINGPOPUP.SUBDESC\' | spTranslate)}}<br />\n\t</div>\n</div>\n\n<div class="social-button mt20 confetti-share hoverable" tv-auto-focus ng-click="share()">\n\t<div class=" text-multiple bold  smallerSpacing">\n\t\t{{::(\'ACCCTRL.SHARE\' | spTranslate)}}<br />\n\t</div>\n</div>\n<div class="social-button mt10 confetti-cancel hoverable" tv-auto-focus ng-click="dismissStreamPopup()">\n\t<div class="text-multiple semibold  smallerSpacing">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.CLOSE\' | spTranslate)}}<br />\n\t</div>\n</div>'),t.put("components/streaming-bypass-popup/streaming-bypass-popup.html",'<div id="streamingBypass"\n\tng-class="{ \'sp-image-container-margin-regular\': !smallScreen, \'sp-image-container-margin-small\': smallScreen  }"\n\tclass="sbp-image-container ">\n\t<img class="sbp-image" src="components/streaming-bypass-popup/img/Streaming-Bypass.png"></img>\n</div>\n<div class="sbp-text-container">\n\t<div class="sbp-title darkText semibold" ng-bind="getPopupTitle()">\n\n\t</div>\n\t<div class="sbp-description darkText text-multiple" ng-bind="getDescription()">\n\n\t</div>\n\t<div class="sbp-button sbp-lower-button hoverable" tv-auto-focus\n\t\tng-click="allowBypass()">\n\t\t<div class="sbp-lower-button-description text-multiple bold smallerSpacing" ng-bind="getApprovedTitle()">\n\t\t</div>\n\t</div>\n\t<div class="sbp-button sp-lower-maybe hoverable" tv-auto-focus ng-click="noThanks()">\n\t\t<div class="sbp-lower-button-description sbp-lower-maybe-text text-multiple semibold smallerSpacing">\n\t\t\t{{::(\'SETTINGSPANE.STREAMINGBYPASS.POPUP.NOBUTTON\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n</div>'),t.put("components/test-speed-popup/test-speed-popup.html",'<div id="testSpeedPopup">\n\t<div ng-if="!hasError() && !isLiveStream()" class="bold normalText">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.SPEEDTESTCOMPLETE\' | spTranslate)}}\n\t</div>\n\t<div ng-if="!hasError() && isLiveStream()" class="bold normalText">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.LIVETESTCOMPLETE\' | spTranslate)}}\n\t</div>\n\t<div ng-if="hasError()" class="bold normalText">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.ERRORTITLE\' | spTranslate)}}\n\t</div>\n\t<div ng-if="hasError()" class="xsmallText">\n\t\t{{::(\'SETTINGSPANE.TESTSPEED.ERROR\' | spTranslate)}}\n\t</div>\n</div>\n\n<div ng-if="!hasError() && !isLiveStream()">\n\t<div class="bold normalText mt20 text-single">\n\t\t<span class="buttonBlue"></span> <span ng-bind="::getFormattedSpeed(speedtest.download)"> </span><span\n\t\t\tclass="ml3 buttonBlue"> </span>\n\t\t<span ng-bind="::getFormattedSpeed(speedtest.upload)"></span>\n\t</div>\n\t<div class="flex center mt10 ">\n\t\t<img class="speedTestFlag mr5" ng-src="{{getServerFlag(speedtest.country)}}" />\n\t\t<div ng-bind="::getServerName()"></div>\n\t</div>\n</div>\n\n<div ng-if="!hasError() && isLiveStream()">\n\t<img class="resolutionIcon" ng-src="{{getResolutionIcon(speedtest.resolution)}}" />\n\t<div ng-if="speedtest.fps > 0" class="mt20"\n\t\tbind-html-compile="::(\'SETTINGSPANE.TESTSPEED.TESTREPORT\' | spTranslate: testDescription())"></div>\n\t<div ng-if="speedtest.fps === 0" class="mt20"\n\t\tbind-html-compile="::(\'SETTINGSPANE.TESTSPEED.TESTREPORTERROR\' | spTranslate: testDescription())"></div>\n\t<div class="purchase-divider attribute-divider"></div>\n\t<div class="flex row">\n\t\t<div class="flex column align-center">\n\t\t\t<div class="flex row align-center">\n\t\t\t\t<img class="attributeIcon" src="components/test-speed-popup/img/icon-upload.png" />\n\t\t\t\t<div>{{::(\'SETTINGSPANE.TESTSPEED.UPLOAD\' | spTranslate)}}</div>\n\t\t\t</div>\n\t\t\t<div class="legalText xsmallText"><span ng-bind="::getFormattedSpeed(speedtest.upload)"></div>\n\t\t</div>\n\t\t<div class="flex column align-center">\n\t\t\t<div class="flex row align-center">\n\t\t\t\t<img class="attributeIcon" src="components/test-speed-popup/img/icon-ping.png" />\n\t\t\t\t<div>{{::(\'SETTINGSPANE.TESTSPEED.PING\' | spTranslate)}}</div>\n\t\t\t</div>\n\t\t\t<div class="legalText xsmallText">{{speedtest.latency}}ms</div>\n\t\t</div>\n\t\t<div class="flex column align-center">\n\t\t\t<div class="flex row align-center">\n\t\t\t\t<img class="attributeIcon" src="components/test-speed-popup/img/icon-jitter.png" />\n\t\t\t\t<div>{{::(\'SETTINGSPANE.TESTSPEED.JITTER\' | spTranslate)}}</div>\n\t\t\t</div>\n\t\t\t<div class="legalText xsmallText">{{speedtest.jitter}}ms</div>\n\t\t</div>\n\t\t<div class="flex column align-center">\n\t\t\t<div class="flex row align-center">\n\t\t\t\t<img class="attributeIcon" src="components/test-speed-popup/img/icon-loss.png" />\n\t\t\t\t<div>{{::(\'SETTINGSPANE.TESTSPEED.LOSS\' | spTranslate)}}</div>\n\t\t\t</div>\n\t\t\t<div class="legalText xsmallText">{{speedtest.loss | number:2}}%</div>\n\t\t</div>\n\t</div>\n\t<div class="purchase-divider attribute-divider"></div>\n\t<div class="flex center mt10">\n\t\t<img class="speedTestFlag mr5" ng-src="{{getServerFlag(speedtest.country)}}" />\n\t\t<div ng-bind="::getServerName()"></div>\n\t</div>\n</div>\n\n\n<div ng-if="!hasError()" class="flex center">\n\t<div class="flex center testSpeedButton share-test-speed-button mt20 hoverable" tv-auto-focus\n\t\tng-click="shareTestResults()">\n\t\t<div class=" text-multiple bold  smallerSpacing">\n\t\t\t{{::(\'ACCCTRL.SHARE\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n</div>\n\n<div class="flex center">\n\t<div ng-if="!hasError() && showHistory === true"\n\t\tclass="flex center testSpeedButton secondaryTestSpeedButton leftButton mt10 social-twitter hoverable"\n\t\ttv-auto-focus ng-click="viewHistory()">\n\t\t<div class="text-multiple semibold  smallerSpacing">\n\t\t\t{{::(\'SETTINGSPANE.TESTSPEED.VIEWHISTORY\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n\t<div ng-if="hasError()"\n\t\tclass="flex center testSpeedButton secondaryTestSpeedButton leftButton mt10 social-twitter hoverable"\n\t\ttv-auto-focus ng-click="retryTest()">\n\t\t<div class="text-multiple semibold  smallerSpacing">\n\t\t\t{{::(\'SETTINGSPANE.TESTSPEED.RETRY\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n\n\t<div class="flex center testSpeedButton secondaryTestSpeedButton mt10 social-twitter padButton hoverable"\n\t\tng-class="getButtonMargins()" tv-auto-focus ng-click="closePopup()">\n\t\t<div class="text-multiple semibold  smallerSpacing">\n\t\t\t{{::(\'SETTINGSPANE.TESTSPEED.CLOSE\' | spTranslate)}}<br />\n\t\t</div>\n\t</div>\n</div>'),t.put("components/tester/test-speed.html",'<div id="testSpeed" class="testSpeed flex center column">\r\n\r\n    <div ng-if="testInProgress() && !isDualPane()">\r\n        <status-box connected-time="connectedTimeFormatted" ng-if="!isServerOpen() || isDualPane()"\r\n            streaming-stats="streamingStats" language-style="languageStyle" id="statusBox" running="running"\r\n            connected="getDaemonConnected()" current-state="$parent.currentState"\r\n            pending-attempt="$parent.pendingAttempt" last-login-error-type="$parent.lastLoginErrorType"\r\n            last-login-error-message="$parent.lastLoginErrorMessage" connected-server="connectedServer"></status-box>\r\n    </div>\r\n\r\n    <div id="content" class="mt40">\r\n        <div class="content-child" ng-class="isSelected(\'account\')" ng-disabled="testInProgress()"\r\n            ng-click="isSpeedTestEnabled() && startSpeedTest()">\r\n            <div class="testCells">\r\n                <img ng-if="!testInProgress()" class="testIcons" img-retry\r\n                    src="components/tester/img/speedTestIcon.png" />\r\n                <img ng-if="testInProgress()" class="testIcons" img-retry\r\n                    src="components/tester/img/speedTestIconDisabled.png" />\r\n                <div class="flex column">\r\n                    <div class="semibold mediumText content-name mt5 no-left-padding"\r\n                        ng-class="{activeColorState:testInProgress()}" ng-bind="getStartButtonTitle()">\r\n                    </div>\r\n                    <div class="xsmallText content-name accountMessageSubtitle mt5 no-left-padding">\r\n                        {{::(\'SETTINGSPANE.TESTSPEED.DESC\' | spTranslate)}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="flex">\r\n                <div class="flex meta">\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n        <div class="content-child" ng-class="isSelected(\'account\')" ng-disabled="testInProgress()"\r\n            ng-click="isSpeedTestEnabled() && startStreamTest()">\r\n            <div class="testCells">\r\n                <img ng-if="!testInProgress()" class="testIcons" img-retry\r\n                    src="components/tester/img/liveStreamIcon.png" />\r\n                <img ng-if="testInProgress()" class="testIcons" img-retry\r\n                    src="components/tester/img/livestreamIconDisabled.png" />\r\n                <div class="flex column">\r\n                    <div class="semibold mediumText content-name mt5 no-left-padding"\r\n                        ng-class="{activeColorState:testInProgress()}" ng-bind="getStreamStartButtonTitle()">\r\n                    </div>\r\n                    <div class="xsmallText content-name accountMessageSubtitle mt5 no-left-padding">\r\n                        {{::(\'SETTINGSPANE.TESTSPEED.LIVESTREAMDESC\' | spTranslate)}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="flex">\r\n                <div class="flex meta">\r\n                </div>\r\n                <div class="interaction-image"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="hasSpeedTestHistory()">\r\n        <div class="header">\r\n            {{::(\'SETTINGSPANE.TESTSPEED.RECENTTESTS\' | spTranslate)}}\r\n        </div>\r\n        <div id="content">\r\n            <div class="content-child" ng-repeat="speedTest in getSpeedTests() track by speedTest.time">\r\n                <div class="testCells center testValues" ng-class={dualPaneTestCell:isDualPane()}\r\n                    ng-click="showTestResult(speedTest)">\r\n                    <div class="testIndicator"\r\n                        ng-class="{indicateSpeedTest: speedTest && speedTest.type != 2, indicateLiveStreamTest: speedTest && speedTest.type == 2}">\r\n                    </div>\r\n                    <div class="flex column text-single testInfo">\r\n                        <div class="flex spaceBetween">\r\n                            <div class="padright10 ">\r\n                                {{formattedDate(speedTest.time)}}\r\n                            </div>\r\n                            <div ng-if="speedTest && speedTest.type != 2">\r\n                                 {{getFormattedSpeed(speedTest.download)}}  {{getFormattedSpeed(speedTest.upload)}}\r\n                            </div>\r\n                            <div ng-if="speedTest && speedTest.type === 2">\r\n                                {{speedTest.resolution}}@{{speedTest.fps}}fps\r\n                            </div>\r\n                        </div>\r\n                        <div class="flex mt10 spaceBetween interaction">\r\n                            <div class="flex">\r\n                                <img class="speedTestFlag mr5 " ng-src="{{getServerFlag(speedTest.country)}}" />\r\n                                {{getServerName(speedTest.country,speedTest.city )}}\r\n                            </div>\r\n                            <div class="connections">\r\n                                {{getNumberOfConnections(speedTest.num_connections)}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<br>\r\n\r\n<div class="description">\r\n\r\n    <b>{{::(\'SETTINGSPANE.TESTSPEED.SPEEDTEST\' | spTranslate)}}</b> <br />\r\n    {{::(\'SETTINGSPANE.TESTSPEED.SPEEDTESTDESC\' | spTranslate)}}<br /><br />\r\n\r\n    <b>{{::(\'SETTINGSPANE.TESTSPEED.LIVESTREAMTEST\' | spTranslate)}}</b> <br />\r\n    {{::(\'SETTINGSPANE.TESTSPEED.LIVESTREAMTESTDESC\' | spTranslate)}}\r\n    <br>\r\n    <br>\r\n    {{::(\'SETTINGSPANE.TESTSPEED.OVERALLDESC\' | spTranslate)}}<br /><br />\r\n</div>\r\n\r\n<new-popup-container ng-if="showStreamPopup" show=showStreamPopup>\r\n    <test-speed-popup header="\'\'" show-history="false" class="nobackground" screen-name="\'speed-test-popup\'"\r\n        ok="closePopins(true)">\r\n    </test-speed-popup>\r\n</new-popup-container>'),t.put("panes/overview/overview.html",'<div id="statistics-pane" ng-if="hasStats()">\n\t<div ng-if="showHeader()" class="darkText text-single">\n\t\t<div class="segment-header darkText">{{::(\'OVERVIEW.TITLE\' | spTranslate)}}</div>\n\t\t<div class="segment-options xsmallText darkText40">\n\t\t\t<div class="options upper" ng-class="isSelected(\'day\')" ng-click="selected(\'day\')">\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.TODAY\' | spTranslate}}</div>\n\t\t\t<div class="options upper left-option" ng-class="isSelected(\'week\')" ng-click="selected(\'week\')">\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.WEEK\' | spTranslate}}</div>\n\t\t\t<div class="options upper left-option" ng-class="isSelected(\'month\')" ng-click="selected(\'month\')">\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.MONTH\' | spTranslate}}</div>\n\t\t\t<div class="options upper left-option" ng-class="isSelected(\'total\')" ng-click="selected(\'total\')">\n\t\t\t\t{{::\'SETTINGSPANE.STATISTICS.DURATION.ALLTIME\' | spTranslate}}</div>\n\n\t\t</div>\n\t</div>\n\t<div ng-if="hasStats()">\n\t\t<div id="content" ng-if="hasStats()">\n\t\t\t<div class="content-child" ng-click="goToStatsPane(brag.title,brag.id)"\n\t\t\t\tng-repeat="brag in statsToShow track by brag.id">\n\t\t\t\t<img class="interaction-info-image" img-retry ng-src="{{brag.src}}">\n\t\t\t\t<div class="content-name">\n\t\t\t\t\t{{brag.title}}\n\t\t\t\t</div>\n\t\t\t\t<div class="interaction text-single">\n\t\t\t\t\t{{brag.value}}\n\t\t\t\t</div>\n\t\t\t\t<div class="interaction-image"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="mt10" ng-if="hasCurrentMessages() && showNewsPane()">\n\t<div class="darkText text-single">\n\t\t<div class="segment-header darkText">{{::\'SETTINGSPANE.NEWS.TITLE\' | spTranslate}}</div>\n\t</div>\n\t<settings-news dashboard=\'true\' news="news"> </settings-news>\n</div>'),t.put("panes/review/review-pane.html","<review-prompt></review-prompt>\n"),t.put("panes/streaming/streaming-pane.html",'<body>\n    <div id="streamPane">\n        <div class="darkText text-single">\n            <div class="segment-header darkText">{{::(\'STREAMING.HEADER\' | spTranslate)}}</div>\n            <div class="segment-options xsmallText darkText40">\n                <div class="options upper" ng-class="isSelected(\'active\')" ng-click="selected(\'active\')">\n                    {{getActiveStreamStatus()}}</div>\n                <div class="options upper left-option" ng-class="isSelected(\'inactive\')"\n                    ng-click="goToStatsPane(brag.title,brag.id)">\n                    {{getCompletedStreams()}}</div>\n            </div>\n        </div>\n\n        <div id="streaming-container">\n            <div id="content" ng-if="(!hasStreamingStats() || activeSelection.length === 0)"\n                ng-disabled="testInProgress()" class="no-streaming-stats" ng-click="startStreamTest()">\n                <div class="content-child">\n                    <img class="monitoring-image" img-retry src="panes/streaming/img/livestreamTestIcon.png">\n                    <div class="no-streaming-container">\n                        <div class="no-streaming-stats-text darkText content-name" ng-bind="getStreamTitle()">\n                        </div>\n                        <div class="no-streaming-stats-subtitle xsmallText mt5 content-name">\n                            {{::(\'SETTINGSPANE.TESTSPEED.LIVESTREAMDESC\' | spTranslate)}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div id="content" ng-if="hasStreamingStats() && activeSelection.length > 0 && streamingStats.badLoss"\n                class="streaming-hints">\n                <div class="content-child">\n                    <div class="streaming-hint-loss">\n                        <div class="streaming-hints-text darkText content-name">\n                            {{::\'STREAMING.HINTS.LOSS.HEADER\' | spTranslate}}\n                        </div>\n                        <div class="streaming-hints-subtitle xsmallText mt5 content-name">\n                            {{::\'STREAMING.HINTS.LOSS.TEXT\' | spTranslate}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div id="content" ng-if="hasStreamingStats() && activeSelection.length > 0 && streamingStats.badLatency"\n                class="streaming-hints">\n                <div class="content-child">\n                    <div class="streaming-hint-latency">\n                        <div class="streaming-hints-text darkText content-name">\n                            {{::\'STREAMING.HINTS.LATENCY.HEADER\' | spTranslate}}\n                        </div>\n                        <div class="streaming-hints-subtitle xsmallText mt5 content-name">\n                            {{::\'STREAMING.HINTS.LATENCY.TEXT\' | spTranslate}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div id="content" ng-if="hasStreamingStats() && activeSelection.length > 0 && streamingStats.badCpu"\n                class="streaming-hints">\n                <div class="content-child">\n                    <div class="streaming-hint-cpu">\n                        <div class="streaming-hints-text darkText content-name">\n                            {{::\'STREAMING.HINTS.CPU.HEADER\' | spTranslate}}\n                        </div>\n                        <div class="streaming-hints-subtitle xsmallText mt5 content-name">\n                            {{::\'STREAMING.HINTS.CPU.TEXT\' | spTranslate}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div id="content" ng-if="hasStreamingStats() && activeSelection.length > 0 && streamingStats.badMemory"\n                class="streaming-hints">\n                <div class="content-child">\n                    <div class="streaming-hint-memory">\n                        <div class="streaming-hints-text darkText content-name">\n                            {{::\'STREAMING.HINTS.MEMORY.HEADER\' | spTranslate}}\n                        </div>\n                        <div class="streaming-hints-subtitle xsmallText mt5 content-name">\n                            {{::\'STREAMING.HINTS.MEMORY.TEXT\' | spTranslate}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {{getSelectedValue()}}\n            <div id="content">\n                <div ng-if="hasStreamingStats() && activeSelection.length > 0"\n                    class="streaming-stats noflex content-child" ng-class="{\'no-saves-padding\': hasSaves(stream)}"\n                    ng-repeat="stream in activeSelection track by $index">\n                    <div class="stream default-cursor noflex">\n                        <div class="statCell">\n                            <div class="flexContainer">\n                                <div class="statsIcon">\n                                    <img class="iconType statsIcon" img-retry id="type-img"\n                                        ng-src="{{getTypeImg(stream)}}"></img>\n                                    <div ng-if="hasSaves(stream)" class="saves-badge">\n                                        {{countSaves(stream)}}\n                                        <div class="badge-text">\n                                            {{totalSaves}}\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="flexContainer meta">\n                                    <div class="stream-title content-name">\n                                        {{ formatDate(stream.start_time) }}\n                                    </div>\n                                    <div ng-if="hasStreamingName(stream)" class="streamDomain streamType content-name">\n                                        {{ getTopInformation(stream) }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="stream-details">\n                                <div class="stream-speed content-name"\n                                    ng-class="{\'text-inactive-color\': stream.active === false}">\n                                    {{ getDuration(stream.duration)}}\n                                </div>\n                                <div class="stream-duration content-name">\n                                    {{ getSpeed(stream.upload_speed) }}\n                                    {{ getSpeed(stream.download_speed) }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-if="hasSaves(stream)" style="margin-top: -5px">\n                        <div ng-repeat="(type, count) in saves track by $index">\n                            <div class="stream-saves" ng-if="count > 0">\n                                <div class="save-line"></div>\n                                <div class="saves-circle"></div>\n                                <div class="saves-margin content-name">\n                                    {{getSaveName(type)}} ({{count}})\n                                </div>\n                            </div>\n                        </div>\n                        <div ng-if="stream.active" class="stream-share" ng-click="share(stream)">\n                            <div class="stream-share-text">\n                                <img class="stream-share-img" src="panes/overview/img/share.png"></img>Help your friends\n                                improve their streams\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</body>')}]);
//# sourceMappingURL=app.min.js.map
